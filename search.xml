<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Word power made easy 章节在线思维导图</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h4 id="word-power-made-easy-章节在线思维导图"><a href="#word-power-made-easy-章节在线思维导图" class="headerlink" title="word power made easy 章节在线思维导图"></a>word power made easy 章节在线思维导图</h4><p><a href="https://hanxiaomax.github.io/WordPowerMadeEasy/wpme/">github思维导图</a></p>
]]></content>
      <categories>
        <category>English</category>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Words</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第一天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p>五大基本数据类型 ：Undefined Null Boolean Number String</p>
<p>和一个复杂类型 ：Object </p>
<p>返回数据类型使用操作符 typeof 注意 该操作符并不是一个函数</p>
<h3 id="Undefined"><a href="#Undefined" class="headerlink" title="Undefined"></a>Undefined</h3><p>声明变量但尚未初始化的值会被赋予Undefined值，但与尚未定义的变量还是又不一样。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var message;</span><br><span class="line">//var age ;</span><br><span class="line">alert(message); // undefined</span><br><span class="line">alert(age);// Error！</span><br></pre></td></tr></table></figure>
<p><strong>值得注意的是：如果用typeof返回这两个值，都会得到undefined这个结过。如果我们能在每个变量声明的时候将其初始化，那么typeof返回undefined时我们就能知道其是未定义的变量</strong></p>
<hr>
<h3 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h3><ol>
<li>用typeof返回一个null值会得到一个 object，因为null表示一个空对象的指针<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var car = null ;</span><br><span class="line">alert(typeof car);// &quot;object&quot;</span><br></pre></td></tr></table></figure></li>
<li>事实上，undefined值是派生自null值的<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alert(null == undefined) // true</span><br></pre></td></tr></table></figure></li>
<li>在任何情况下都没必要将一个值初始化为undefined，但可以将一个值初始化为null，这样可以体现其空指针的特性</li>
</ol>
<hr>
<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><ol>
<li>boolean类型区分大小写，也就是说True不是boolean值而true才是</li>
<li>true不一定等于1，false不一定等于0</li>
</ol>
<table>
<thead>
<tr>
<th align="center">数据类型</th>
<th align="center">转换为true的值</th>
<th align="center">转换为false的值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">String</td>
<td align="center">任何非空字符串</td>
<td align="center">“”</td>
</tr>
<tr>
<td align="center">Number</td>
<td align="center">任何非零（包括无穷大）</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">Object</td>
<td align="center">任何对象</td>
<td align="center">null</td>
</tr>
<tr>
<td align="center">Undefined</td>
<td align="center">not applicable</td>
<td align="center">undefined</td>
</tr>
</tbody></table>
<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><ol>
<li>前面加0是八进制，前面加0x是十六进制<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var num1 = 070 //56</span><br><span class="line">var num2 = 0xA ; //10</span><br></pre></td></tr></table></figure></li>
<li>无意义的浮点数会转化为整数  </li>
</ol>
<p><strong>浮点数值最高精度为17，如0.1+0.2=0.30000000000004</strong><br>3. NaN 意为 not a number<br>本来要返回一个数，却未返回数则返回一个NaN。这样不会抛出错误。<br>例如0/10 = NaN。NaN != NaN。有个函数名为isNaN()可以检测。<br>4. 使用 paserInt解析字符串时最好制定第二个参数作为进制。</p>
<hr>
<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ol>
<li>null 和 undefind没有toString方法。</li>
<li>toString可以传入一个参数作为进制。</li>
<li>也可以将一个数字+””（空字符串）代替toString</li>
</ol>
<hr>
<h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><p>Object所具有的任何属性和方法都能存在更具体的对象中</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第九天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><blockquote>
<p>闭包是指有权访问另一个函数作用域中的变量的函数。  </p>
</blockquote>
<p>创建闭包的常用方式就是在一个函数内部创建另一个函数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function createComparisonFunction(propertyName)&#123;</span><br><span class="line">  return function(object1 , object2)&#123;</span><br><span class="line">    var value1 = object1[propertyName]; //重点</span><br><span class="line">    var value2 = object2[propertyName]; //重点</span><br><span class="line"></span><br><span class="line">    if(value1 &lt; value2)&#123;</span><br><span class="line">      return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    else if (value1 &gt; value2)&#123;</span><br><span class="line">      return 1 ;</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">      return 0 ;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在这个例子中，两行代码访问了外部函数的变量propertyName，即使这个内部函数被返回了，而且在其他地方被调用了，但它仍然可以访问变量propertyName。之所以还能访问，是因为内部函数的作用域链中包含createComparisonFunction（）的作用于。</p>
<blockquote>
<p>当某个函数第一次被调用时，会创建一个执行环境（execution context）和相应的作用域链，并把作用域链赋值给一个特殊的内部属性（[Scope]）。然后，使用this，arguments和其他命名参数的值来初始化函数的活动对象（activation object）。</p>
</blockquote>
<p><img src="https://i.loli.net/2019/10/28/ex89GIpWUjowdzc.png" alt="compare作用域链"></p>
<blockquote>
<p>显然作用域链本质上是一个指向变量对象的指针列表，它只引用但不实际包含变量对象。</p>
</blockquote>
<p>无论什么时候在汉书中访问一个变量时，就会从作用域链中搜索具有相应名字的变量。一般来讲，当函数执行完毕后，局部活动对象就会被销毁，内存中仅保存全局作用域。</p>
<blockquote>
<p>在另一个函数内部定义的函数会将包含函数（外部函数）的活动对象添加到他的作用域链中。因此，在createComparisonFunction函数内部定义的匿名函数的作用域链中，实际上会包含外部函数createComparisonFunction的活动对象。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var compare = createComparisonFunction(&quot;name&quot;);</span><br><span class="line">var result = compare(&#123;name:&quot;zy&quot;&#125;,&#123;name:&quot;zoe&quot;&#125;);</span><br></pre></td></tr></table></figure>
<p>在匿名函数从createComparisonFunction中被返回后，它的作用域链被初始化为包含createComparisonFunction函数的活动对象和全局变量对象。这样，匿名函数就可以访问createComparisonFunction中定义的所有变量。更重要的是<strong>createComparisonFunction函数执行完毕后，其活动对象也不会被销毁，因为匿名函数的作用域链仍然在引用这个活动对象。</strong>换句话说，在createComparisonFunction函数返回有，其执行环境的作用域链会被销毁，但其活动对象仍然会在内存中，直到匿名函数被销毁。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">compare = null//销毁函数，释放内存</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2019/10/28/MI54LeQ37SpP98m.png" alt="compare和匿名函数作用域链"></p>
<h3 id="闭包与变量"><a href="#闭包与变量" class="headerlink" title="闭包与变量"></a>闭包与变量</h3><p>作用域链的这种配置机制引出了一个值得注意的副作用，即闭包函数只能取得包含函数中任何变量的最后一个之。别忘了闭包所保存的是整个边栏搞对象，而不是某个特殊的变量。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">function createFunction()&#123;</span><br><span class="line">  var result = new Array();</span><br><span class="line"></span><br><span class="line">  for(var i = 0 ; i &lt; 10 ; i ++)&#123;</span><br><span class="line">    result[i] = function()&#123;</span><br><span class="line">      console.log(i);</span><br><span class="line">      return i ;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这个函数会返回一个函数数组。表面上看，似乎每个函数都应该返回自己的所引致，即位置0的函数返回0。实际上，每个函数都返回10。因为每个函数的u总用于联众都保存着createFunction的活动对象，它们引用的都是同一个变量i。但是我们可以通过创建另一个匿名函数强制让闭包的规则符合预期。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function createFunction()&#123;</span><br><span class="line">  var result = new Array();</span><br><span class="line"></span><br><span class="line">  for(var i = 0 ; i &lt;10 ; i++)&#123;</span><br><span class="line">    result[i] = function(num)&#123;</span><br><span class="line">      return function(num)&#123;</span><br><span class="line">        return num;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;(i);</span><br><span class="line">  &#125;</span><br><span class="line">  return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在这个版本中，我们没有直接把闭包赋值给数组，而是定义了一个匿名函数，并将立即执行该匿名函数的结果赋值给数组。在调用每个匿名函数是，我们传入了变量i。由于函数参数是值传递，所以会将变量i的当前值复制给参数num。而在这个函数内部，又创建了并返回了一个可以访问num的闭包。</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第七天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="借用构造函数"><a href="#借用构造函数" class="headerlink" title="借用构造函数"></a>借用构造函数</h3><p>有一种借用构造函数的技术（也被叫做伪造对象或者经典继承）。这种技术的基本思想相当简单，即在子类型构造函数内部调用超类型构造函数。<br><strong>函数只不过是在特定环境中执行代码的对象。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType()&#123;</span><br><span class="line">  this.nums = [1,2,3];</span><br><span class="line">&#125;;</span><br><span class="line">function SubType()&#123;</span><br><span class="line">  //继承SuperType</span><br><span class="line">  SuperType.call(this);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var instance1 = new SubType();</span><br><span class="line">instance1.nums.push(4);</span><br><span class="line">alert(instance1.nums);//1,2,3,4</span><br><span class="line"></span><br><span class="line">var instance2 = new SubType();</span><br><span class="line">alert(instance1.nums);//1,2,3</span><br></pre></td></tr></table></figure>
<p>这段代码中，每个子类的实例将拥有属于自己的属性。<br>相对于原型链而言，借用构造函数有一个很大的优势，即可以在子类型构造函数中向超类型构造函数传递参数。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType(name)&#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">function SubType()&#123;</span><br><span class="line">  //继承了SuperType 同时传递了参数</span><br><span class="line">  SuperType.call(this,&quot;zy&quot;);</span><br><span class="line"></span><br><span class="line">  this.age = 100;</span><br><span class="line">&#125;</span><br><span class="line">var instance = new SubType();</span><br><span class="line">alert(instance.name);//zy</span><br><span class="line">alert(instance.age);//100</span><br></pre></td></tr></table></figure>
<blockquote>
<p>问题：无法避免构造函数模式存在的问题——方法都在构造函数内部定义。</p>
</blockquote>
<h3 id="组合继承"><a href="#组合继承" class="headerlink" title="组合继承"></a>组合继承</h3><p>有时也叫伪经典继承，指的是将原型链和借用构造函数的技术组合到一块，发挥二者之长。背后的思路是<strong>使用原型链实现队原型属性和方法的继承，使用借用构造函数实现对实例属性的继承。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType(name)&#123;</span><br><span class="line">  this.name = name ;</span><br><span class="line">  this.nums = [1,2,3];</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.sayName = function()&#123;</span><br><span class="line">  alert(this.name);</span><br><span class="line">&#125;;</span><br><span class="line">function SubType(name,age)&#123;</span><br><span class="line">  //继承属性</span><br><span class="line">  SuperType.call(this,name);</span><br><span class="line"></span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;;</span><br><span class="line">//继承方法</span><br><span class="line">SubType.prototype = new SuperType();</span><br><span class="line"></span><br><span class="line">SubType.prototype.sayAge = function()&#123;</span><br><span class="line">  alert(this.age);</span><br><span class="line">&#125;</span><br><span class="line">//第一个实例</span><br><span class="line">var instance1 = new SubType(&quot;zy&quot;,100);</span><br><span class="line">instance1.nums.push(4);</span><br><span class="line">alert(instacne1.nums)//1,2,3,4</span><br><span class="line">instance1.sayName();//zy</span><br><span class="line">instacne1.sayAge();//100</span><br><span class="line">//第二个实例</span><br><span class="line">var instance2 = new SubType(&quot;zoe&quot;,1);</span><br><span class="line">instance2.sayName();//zoe</span><br><span class="line">instacne2.sayAge();//1</span><br></pre></td></tr></table></figure>

<h3 id="原型式继承"><a href="#原型式继承" class="headerlink" title="原型式继承"></a>原型式继承</h3><p>没有使用严格意义上的构造函数，而是借助原型可以基于已有的对象创建新对象，同时还不必因下次创建自定义类型。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function object(o)&#123;</span><br><span class="line">  function F()&#123;&#125;;</span><br><span class="line">  F.prototype = o ;</span><br><span class="line">  return new F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在object函数内部，先创建了一个临时性的构造函数，然后将传入的对象作为这个构造函数的原型，最后返回了这个临时类型的一个新实例。<br>ES5中新增了Object.create来规范化原型式继承。这个方法接受两个参数：</p>
<ul>
<li>一个用作新对象原型的对象</li>
<li>（可选）为新对象定义额外属性的对象<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">  name : &quot;zy&quot;,</span><br><span class="line">  nums : [1,2,3]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var anotherPerson = Object.create(person);</span><br><span class="line">anotherPerson.name = &quot;zyy&quot;;</span><br><span class="line">anotherPerson.nums.push(4);</span><br><span class="line"></span><br><span class="line">var yetAnotherPerson = Object.create(person);</span><br><span class="line">yetAnotherPerson.name = &quot;zyyy&quot;;</span><br><span class="line">yetAnotherPerson.nums.push(5);</span><br><span class="line"></span><br><span class="line">alert(person.nums)//1,2,3,4,5</span><br><span class="line">alert(person.name)//zy</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>第二个参数中的属性会覆盖原型对象上的同名属性。</p>
</blockquote>
</li>
</ul>
<p>在没有必要兴师动众地创建构造函数，而只是想让一个对象与另一个对象保持类似的情况下，原型式继承是可以胜任的。但是包含引用类型值的属性始终会共享相应的值，就像原型模式一样。</p>
<h3 id="寄生式继承"><a href="#寄生式继承" class="headerlink" title="寄生式继承"></a>寄生式继承</h3><p>创建一个仅用于封装继承过程的函数，该函数在内部以某种方式来增强对象，最后再像是真的完成了所有工作一样返回对象。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function createAnother(original)&#123;</span><br><span class="line">  //通过调用函数来创建一个新对象</span><br><span class="line">  var clone = Object(original);</span><br><span class="line">  //以某种方式增强这个对象</span><br><span class="line">  clone.sayHi = function()&#123;</span><br><span class="line">    alert(&quot;hi&quot;);</span><br><span class="line">  &#125;;</span><br><span class="line">  return clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">  name : &quot;zy&quot;,</span><br><span class="line">  nums : [1,2,3,4]</span><br><span class="line">&#125;</span><br><span class="line">var anotherPerson = createAnother(person);</span><br><span class="line">anotherPerson.sayHi();//hi</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在主要考虑对象而不是自定义类型和构造函数的情况下，寄生式继承也是一种有用的模式。但会由于不能做到函数复用而降低效率。</p>
</blockquote>
<h3 id="寄生组合式继承"><a href="#寄生组合式继承" class="headerlink" title="寄生组合式继承"></a>寄生组合式继承</h3><p>先看一下组合式继承的不足：无论在什么情况下，都会调用两次超类型构造函数：</p>
<ul>
<li>在创建子类型原型的时候</li>
<li>在子类型构造函数内部<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType(name)&#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.nums = [1,2,3]</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.sayName = function()&#123;</span><br><span class="line">  alert(this.name);</span><br><span class="line">&#125;</span><br><span class="line">function SubType(name,age)&#123;</span><br><span class="line">  SuperType.call(this,name);//第二次调用</span><br><span class="line"></span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;)</span><br><span class="line">SubType.prototype = new SuperType();//第一次调用</span><br><span class="line">SubType.prototype.constructor = SubType;</span><br><span class="line">SubType.prototype.sayAge = function()&#123;</span><br><span class="line">  alert(this.age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>第一次调用SuperType构造函数时，SubType.prototype会得到两个属性：name和nums，它们都是SuperType的实例属性，只不过现在位于SubType原型中。</li>
<li>当调用SubType构造函数时，又会调用一次SuperType的构造函数，这一次又在新对象上创建了实例属性name和nums。  </li>
</ul>
<p>于是这两个属性就覆盖了原型中的两个同名属性。  就有两组name和nums属性，一组在实例上，一组在SubType的原型中。</p>
<hr>
<p>寄生组合式继承背后的基本思路是：<strong>不必为了指定子类型的原型而调用超类型的构造函数，我们所需要的无非是超类型原型的一个副本而已。本质上就是使用寄生式继承来继承超类型的原型，然后再将结果指定给子类型的原型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function inheritPrototype(subType,superType)&#123;</span><br><span class="line">  var prototype = Object(superType.prototype); //创建超类型原型的一个副本</span><br><span class="line">  prototype.constructor = subType;//为创建的副本提供constructor属性</span><br><span class="line">  subType.prototype = prototype;//将新创建的对象（副本）赋值给子类型的原型</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function SuperType(name)&#123;</span><br><span class="line">  this.name  = name ;</span><br><span class="line">  this.nums = [1,2,3];</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.sayName = function()&#123;</span><br><span class="line">  alert(this.name);</span><br><span class="line">&#125;</span><br><span class="line">function SubType(name,age)&#123;</span><br><span class="line">  SuperType.call(this,name);</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line">inheritPrototype(SubType,SuperTYpe);</span><br><span class="line"></span><br><span class="line">SubType.prototype.sayAge = function()&#123;</span><br><span class="line">  alert(this.age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>能正常使用instanceof 和 isPrototypeOf()</p>
</blockquote>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第二天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="动态属性"><a href="#动态属性" class="headerlink" title="动态属性"></a>动态属性</h3><ul>
<li>对于引用类型的值，可以动态添加属性<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = new Object();</span><br><span class="line">person.name = &quot;Zy&quot;;</span><br><span class="line">alert(person.name);//Zy</span><br></pre></td></tr></table></figure></li>
<li>对于基本类型 是不能添加属性的<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var name = &quot;Zy&quot;;</span><br><span class="line">name.age = 27;</span><br><span class="line">alert(name.age);//undefined</span><br></pre></td></tr></table></figure>
<h3 id="复制变量值"><a href="#复制变量值" class="headerlink" title="复制变量值"></a>复制变量值</h3></li>
<li>复制基本类型，会在新的内存空间存储<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var num1 = 5; </span><br><span class="line">var num2 = num1;</span><br><span class="line">alert(num1);//5</span><br></pre></td></tr></table></figure></li>
<li>但复制引用类型的值时，会出现两个指针指向同一个对象。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj1 = new Object();</span><br><span class="line">var obj2 = obj1;</span><br><span class="line">obj1.name = &quot;Zy&quot;;</span><br><span class="line">alert(obj2.name);//Zy</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="函数参数为对象时的细节"><a href="#函数参数为对象时的细节" class="headerlink" title="函数参数为对象时的细节"></a>函数参数为对象时的细节</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function setName(obj)&#123;</span><br><span class="line">    obj.name = &quot;Zy&quot;;</span><br><span class="line">&#125;</span><br><span class="line">var person = new Object();</span><br><span class="line">setName(person);</span><br><span class="line">alert(person.name);// Zy</span><br></pre></td></tr></table></figure>
<p>这段代码中在函数内部修改obj的属性，但是能在外部的person对象中反应这个修改，于是会有人认为参数为对象时使用的是引用传递，其实还是值传递</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function setName(obj)&#123;</span><br><span class="line">    obj.name = &quot;Zy&quot;;</span><br><span class="line">    /**/</span><br><span class="line">    obj = new Object();</span><br><span class="line">    obj.name = &quot;Zoe&quot;;</span><br><span class="line">    /**/</span><br><span class="line">&#125;</span><br><span class="line">var person = new Object();</span><br><span class="line">setName(person);</span><br><span class="line">alert(person.name);// Zy</span><br></pre></td></tr></table></figure>
<p>这个例子证明即使在函数内部修改了参数的值，但原始的引用仍然未改变。<br>实际上在函数内部重写obj的时候，这个变量引用的是一个局部变量，函数执行完毕即会销毁。</p>
<h3 id="没有块级作用域"><a href="#没有块级作用域" class="headerlink" title="没有块级作用域"></a>没有块级作用域</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for(var i = 0 ; i &lt; 10 ; i++)&#123;</span><br><span class="line">    doSomething(i);</span><br><span class="line">&#125;</span><br><span class="line">alert(i);//10</span><br></pre></td></tr></table></figure>
<p>这样的代码在类C语言中会报错，但是在js中能够运行。是因为使用用for语句创建的变量i在执行结束后依然存在于循环外部的执行环境中。<br><strong>使用var声明</strong>的变量会自动添加到最接近的环境中。如果初始化变量时没有使用var声明，该变量会自动添加到全局变量中。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ul>
<li>基本类型值在内存中占据固定大小的空间，因此保存在栈内存中。</li>
<li>从一个变量向另一个变量复制基本类型的值，会创建这个值的一个副本。</li>
<li>引用类型的值是对象，保存在堆内存中。</li>
<li>包含引用类型值的变量实际上包含的并不是对象本身，而是一个指向该对象的指针</li>
<li>从一个变量从另一个变量复制引用类型的值，复制的其实是指针，因此两个变量最终指向同一个变量。</li>
<li>执行环境有全局执行环境和函数执行环境之分</li>
<li>变量的执行环境有助于确定应该何时释放内存</li>
<li>标记清除是主流垃圾收集方法，也有引用计数算法思想（已经弃用）</li>
<li>弃用的原因是在循环引用时，引用计数会导致问题。</li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第五天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="组合使用构造函数模式和原型模式"><a href="#组合使用构造函数模式和原型模式" class="headerlink" title="组合使用构造函数模式和原型模式"></a>组合使用构造函数模式和原型模式</h3><p><strong>创建自定义类型的最常见方式，就是组合使用构造函数模式和原型模式。</strong></p>
<ol>
<li>构造函数模式用于定义实例属性</li>
<li>原型模式用于定义方法和共享的属性<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name)&#123;</span><br><span class="line">  this.name = name ;</span><br><span class="line">  this.friends = [&quot;aaa&quot;,&quot;bbb&quot;];</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  constructor : Person ,</span><br><span class="line">  sayName : function()&#123;</span><br><span class="line">    alert(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var person1 = new Person(&quot;1&quot;);</span><br><span class="line">var person2 = new Person(&quot;2&quot;);</span><br><span class="line"></span><br><span class="line">person1.friends.push(&quot;ccc&quot;);</span><br><span class="line"></span><br><span class="line">alert(person1.friends);//&quot;aaa,bbb,ccc&quot;</span><br><span class="line">alert(person2.friends);//&quot;aaa,bbb&quot;</span><br><span class="line">alert(person1.friends === person2.friends);//false</span><br><span class="line">alert(person1.sayName === person2.sayName);//true</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="动态原型模式"><a href="#动态原型模式" class="headerlink" title="动态原型模式"></a>动态原型模式</h3><p>把所有信息封装在了构造函数中，而通过在构造函数中初始化原型（必要情况下），又保持了同时使用构造函数和原型的有点。换句话说，可以通过<strong>检查某个应该存在的方法是否有效，来决定是否需要初始化原型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name,age)&#123;</span><br><span class="line">  //属性</span><br><span class="line">  this.name = name ;</span><br><span class="line">  this.age = age ;</span><br><span class="line">  //方法</span><br><span class="line">  if (typeof this.sayName != &quot;function&quot;)&#123;</span><br><span class="line">    Person.prototype.sayName = function()&#123;</span><br><span class="line">      alert(this.name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>可以用instanceof 操作符来确定它的类型。</p>
</blockquote>
<h3 id="寄生构造函数模式"><a href="#寄生构造函数模式" class="headerlink" title="寄生构造函数模式"></a>寄生构造函数模式</h3><p>在前几种模式不适用的情况下，可以用寄生构造函数模式。这种模式的基本思想是<strong>创建一个函数，该函数的作用仅仅是封装创建代码的对象，然后再返回新创建的对象</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name , age)&#123;</span><br><span class="line">  var o = new Object();</span><br><span class="line">  o.name = name ;</span><br><span class="line">  o.age = age ;</span><br><span class="line">  o.sayName = function()&#123;</span><br><span class="line">    alert(this.name);</span><br><span class="line">  &#125;;</span><br><span class="line">  return o ;</span><br><span class="line">&#125;</span><br><span class="line">var friend = new Person(&quot;zy&quot;,100);</span><br><span class="line">friend.sayName();//zy</span><br></pre></td></tr></table></figure>
<p><strong>构造函数在不返回值的情况下，默认会返回新对象实例。而通过在构造函数的末尾添加一个return语句，可以重写调用构造函数时返回的值。</strong>   </p>
<p>例如：需要创建一个具有额外方法的特殊数组对象，但是我们不能直接修改Array构造函数。</p>
<blockquote>
<p>由于返回的对象与构造函数或者与构造函数的原型属性没有关系，所以不能用instanceof 操作符来确定对象类型。</p>
</blockquote>
<h3 id="稳妥构造函数模式"><a href="#稳妥构造函数模式" class="headerlink" title="稳妥构造函数模式"></a>稳妥构造函数模式</h3><p>所谓稳妥对象，指的是没有公共属性，而且其方法也不引用this的对象。稳妥对象最适合用在一些安全的环境（这些环境中会禁止使用this和new），或者在防止数据被其他应用程序（如Mashup程序）改动时使用。<br>稳妥构造函数与寄生构造函数类似，但有两点不同：</p>
<ul>
<li>新创建的对象的实例方法不引用this</li>
<li>不适用new操作符调用构造函数<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name,age)&#123;</span><br><span class="line">  //创建要返回的对象</span><br><span class="line">  var o = new Object();</span><br><span class="line">  //可以在这里定义私有变量和函数</span><br><span class="line">  </span><br><span class="line">  //添加方法 </span><br><span class="line">  o.sayName = function()&#123;</span><br><span class="line">    alert(name);</span><br><span class="line">  &#125;</span><br><span class="line">  //返回对象</span><br><span class="line">  return o ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var friend = Person(&quot;zy&quot;,100);</span><br><span class="line">friend.sayName();//zy</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：这样变量friend种保存的是一个稳妥对象，而除了调用sayName方法外，没有别的方式可以访问到其数据成员，计师有其他代码会给这个对象添加方法或者数据成员，但也不可能有别的办法访问传入到构造函数中的原始数据。这种安全性使得它非常适合在某些安全执行环境中使用。</p>
</blockquote>
</li>
</ul>
<p>与寄生构造函数类似，用instanceof 操作符对这种对象也没有什么意义。</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第八天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function functionName(arg0,arg1,arg2)&#123;</span><br><span class="line">  //函数体</span><br><span class="line">  alert(functionName.name);//&quot;functionName&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个name是一个只读属性</p>
</blockquote>
<h3 id="函数声明提升"><a href="#函数声明提升" class="headerlink" title="函数声明提升"></a>函数声明提升</h3><p>在执行代码前会先读取函数声明，这意味着可以把函数声明放在调用它的语句后面。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sayHi();</span><br><span class="line">function sayHi()&#123;</span><br><span class="line">  alert(&quot;hi&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二种创建函数的方式是使用函数表达式。  </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> functionName = <span class="title function_">fucntion</span>(<span class="params">args</span>)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>创建一个函数并将它赋值给变量functionName,这种函数为匿名函数，因为function关键字的后面没有标识符。匿名函数的name属性为空字符串。并且使用前必须先赋值。</p>
<h3 id="函数声明与函数表达式之间的区别"><a href="#函数声明与函数表达式之间的区别" class="headerlink" title="函数声明与函数表达式之间的区别"></a>函数声明与函数表达式之间的区别</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//不要这么写</span><br><span class="line">if(condition)&#123;</span><br><span class="line">  function sayHi()&#123;</span><br><span class="line">    alert(&quot;hi&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">   function sayHi()&#123;</span><br><span class="line">    alert(&quot;yo&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JS引擎会尝试修复以上代码的错误，将其转化为合理的状态。<br>大多数浏览器会返回第二个结果，firefox会返回第一个结果。<br>不过如果使用函数表达式的话就没有问题了。此外创建函数并赋值返回，能够吧函数作为其他函数的值返回。</p>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//通过名字调用自身即为递归函数</span><br><span class="line">function factorial(num)&#123;</span><br><span class="line">  if(num &lt;= 1 )&#123;</span><br><span class="line">    return 1 ;</span><br><span class="line">  &#125;</span><br><span class="line">  else&#123;</span><br><span class="line">    return num * factorial(num-1);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//</span><br><span class="line">var anOtherFactorial = factorial;</span><br><span class="line">factorial = null ;</span><br><span class="line">alert(anOtherFactorial(4));//error:factorial is not a function</span><br></pre></td></tr></table></figure>
<p>将factorial变为null，在anOtherFactorial中调用的其实是null，所以会报错。<strong>这个时候我们可以用arguments.callee来解决问题（指向正在执行的函数的指针）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function factorial(num)&#123;</span><br><span class="line">  if(num &lt;= 1 )&#123;</span><br><span class="line">    return 1 ;</span><br><span class="line">  &#125;</span><br><span class="line">  else&#123;</span><br><span class="line">    return num * arguments.callee(num-1);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>严格模式下，不能通过脚本访问arguments.callee，访问就会导致错误。不过，<strong>可以使用命名函数表达式来达成同样的效果</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var factorial = (function f(num)&#123;</span><br><span class="line">  if(num &lt;= 1 )&#123;</span><br><span class="line">    return 1 ;</span><br><span class="line">  &#125;</span><br><span class="line">  else&#123;</span><br><span class="line">    return num * f(num-1);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>以上代码创建了一个名为f()的命名函数表达式。即使把函数赋值给了另一个变量，函数的名字f依然有效。</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第六天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h2 id="继承与原型链"><a href="#继承与原型链" class="headerlink" title="继承与原型链"></a>继承与原型链</h2><blockquote>
<p>一般的OO语言中会有接口继承与实现继承。JS中无法实现接口继承。所以主要依靠原型链来实现的。</p>
</blockquote>
<h3 id="原型、构造函数、实例的关系。"><a href="#原型、构造函数、实例的关系。" class="headerlink" title="原型、构造函数、实例的关系。"></a>原型、构造函数、实例的关系。</h3><p><strong>每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针，而实例都包含一个指向原型对象的内部指针</strong><br>实现原型链有一种基本模式。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType()&#123;</span><br><span class="line">  this.property = true;</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.getSuperValue = function()&#123;</span><br><span class="line">  return this.property;</span><br><span class="line">&#125;</span><br><span class="line">function SubType()&#123;</span><br><span class="line">  this.subproperty = false;</span><br><span class="line">&#125;</span><br><span class="line">//继承了SuperType</span><br><span class="line">SubType.prototype = new SuperType();</span><br><span class="line">SubType.prototype.getSubValue = function()&#123;</span><br><span class="line">  return this.subproperty;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var instance = new SubType();</span><br><span class="line">alert(instance.getSuperValue());// true;</span><br><span class="line">alert(instance.constructor）；</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">ƒ SuperType()&#123;</span><br><span class="line">  this.property = true;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>实现的本质是重写原型对象，代之以一个新类型的实例。换句话说，原来存在于SuperType的实例中的所有属性和方法，现在也存在于SubType.prototype中了。在调用instance.getSuperValue()会经历三个搜索步骤：  </p>
<ol>
<li>搜索实例</li>
<li>搜索SubType.prototype</li>
<li>搜索SuperTpye.prototype<blockquote>
<p>此时要注意的是instance.constructor指向的是SuperType/这是因为SubType的原型指向了另一个对象——SuperType的原型，而这个原型对象的constructor指向的是SuperType。  </p>
</blockquote>
</li>
</ol>
<p>并且通过instanceof操作符和isPrototypeOf可以确定instance是Object、SuperType、SubType任何一个类型的实例。<br>Object、SuperType、SubType都是instance的原型。</p>
<h3 id="给原型添加方法的代码一定要放在替换原型语句之后。"><a href="#给原型添加方法的代码一定要放在替换原型语句之后。" class="headerlink" title="给原型添加方法的代码一定要放在替换原型语句之后。"></a>给原型添加方法的代码一定要放在替换原型语句之后。</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType()&#123;</span><br><span class="line">  this.property = true;</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.getSuperValue = function()&#123;</span><br><span class="line">  return this.property;</span><br><span class="line">&#125;</span><br><span class="line">function SubType()&#123;</span><br><span class="line">  this.subproperty = false;</span><br><span class="line">&#125;</span><br><span class="line">//继承了SuperType</span><br><span class="line">SubType.prototype = new SuperType();</span><br><span class="line">//添加新方法</span><br><span class="line">SubType.prototype.getSubValue = function()&#123;</span><br><span class="line">  return this.subproperty;</span><br><span class="line">&#125;</span><br><span class="line">//重写超类中的方法</span><br><span class="line">SubType.prototype.getSuperValue = function()&#123;</span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br><span class="line">var instance = new SubType();</span><br><span class="line">alert(instance.getSuperValue());//false</span><br></pre></td></tr></table></figure>
<p>这里SuperType实例的方法会返回true，但是SubType实例的方法会依据重写的方法返回值。<br><strong>不可使用对象字面量来创建原型方法</strong><br>不然就会重写原型链</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType()&#123;</span><br><span class="line">  this.property = true ;</span><br><span class="line">&#125;</span><br><span class="line">SuperType.prototype.getSuperValue = function()&#123;</span><br><span class="line">  return this.property;</span><br><span class="line">&#125;;</span><br><span class="line">function SubType()&#123;</span><br><span class="line">  this.subproperty = false ;</span><br><span class="line">&#125;;</span><br><span class="line">//继承了SuperType</span><br><span class="line">SubType.prototype = new SuperType();</span><br><span class="line">//使用字面量添加新方法，会导致上一行代码无效</span><br><span class="line">SubType.prototype = &#123;</span><br><span class="line">  getSubValue : function()&#123;</span><br><span class="line">    return this.subproperty;</span><br><span class="line">  &#125;,</span><br><span class="line">  someOtherMethod : function()&#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var instance = new SubType();</span><br><span class="line">alert(instance.getSuperValue());// error</span><br><span class="line">//报错信息：instance.getSuperValue is not a function</span><br></pre></td></tr></table></figure>
<p>现在的原型包含的是一个Object的实例，而非SuperType的实例，所以原型链被切断。</p>
<h3 id="原型链的问题"><a href="#原型链的问题" class="headerlink" title="原型链的问题"></a>原型链的问题</h3><ol>
<li><p>最主要的问题来自包含引用类型值的原型。在通过原型实现继承时，原型实际上会变成另一个类型的实例。于是，原先的实例属性也就顺理成章的变成了现在的原型属性。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function SuperType()&#123;</span><br><span class="line">  this.colors = [&quot;red&quot;,&quot;blue&quot;,&quot;green&quot;];</span><br><span class="line">&#125;;</span><br><span class="line">function SubType()&#123;&#125;;</span><br><span class="line">SubType.prototype = new SuperType();</span><br><span class="line"></span><br><span class="line">var instance1 = new SubType();</span><br><span class="line">instance1.colors.push(&quot;black&quot;);</span><br><span class="line">alert(instance1.colors) // [&quot;red&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;black&quot;]</span><br><span class="line"></span><br><span class="line">var instance2 = new SubType();</span><br><span class="line">alert(instance2.colors) // [&quot;red&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;black&quot;]</span><br></pre></td></tr></table></figure>
<p>这里与之前的问题一样，由于引用类型是相同的，不同的实例修改该属性会导致同一值的变化，这是不符合我们预期要求的。</p>
</li>
<li><p>在创建子类型的实例时，不能像超类型的构造函数中传递参数。所以实践中很少用到原型链。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第十一天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="模仿块级作用域"><a href="#模仿块级作用域" class="headerlink" title="模仿块级作用域"></a>模仿块级作用域</h3><p>如前所述，js中是没有块级作用域这个概念的。但可以使用如下方式实现块级作用域。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">  //代码</span><br><span class="line">  alert(&quot;aaa&quot;);</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>而不是这样</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function()&#123;</span><br><span class="line">  //代码</span><br><span class="line">  alert(&quot;aaa&quot;);</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
<p>两者区别在于这个function声明前后的括号。如果没有，js会把function关键字当作一个函数声明的开始，但是不能接括号。而用一对括号包裹起来后转换成函数表达式则可以接一对括号。</p>
<h3 id="私有变量"><a href="#私有变量" class="headerlink" title="私有变量"></a>私有变量</h3><blockquote>
<p>任何在函数中定义的变量，都可以认为是私有变量。</p>
</blockquote>
<ul>
<li>特权方法<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function MyObject()&#123;</span><br><span class="line">  //private</span><br><span class="line">  var privateVariable = 10 ;</span><br><span class="line"></span><br><span class="line">  function privateFunction()&#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  //特权方法</span><br><span class="line">  this.publicMethod = function()&#123;</span><br><span class="line">    privateVariable++;</span><br><span class="line">    return privateFunction();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var myObject = new MyObject();</span><br><span class="line">console.log(myObject.privateVariable) ; //undefined</span><br><span class="line">myObject.publicMethod();//false</span><br><span class="line">//以上原因是因为privateVariable和privateFunction没有用this与函数进行绑定，所以这两个值只能在函数内部使用。</span><br><span class="line">//但是也有问题就是每次创建对象都会创建一个相同的变量和方法，浪费空间</span><br></pre></td></tr></table></figure></li>
<li>静态私有变量<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">  //private</span><br><span class="line">  var privateVariable = 10 ;</span><br><span class="line"></span><br><span class="line">  function privateFunction()&#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //构造函数</span><br><span class="line">  MyObject = function()&#123;&#125;;//初始化未经声明的变量，总会创建一个全局变量</span><br><span class="line"></span><br><span class="line">  //公有or特权方法</span><br><span class="line">  MyObject.prototype.publicMethod = function()&#123;</span><br><span class="line">    privateVariable++;</span><br><span class="line">    return privateFunction();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
以上将共用方法定义在原型上，所以所有实例都使用一个函数，结果就是一个实例的使用会造成所有实例的值受到影响。即有一个公有的变量，但是没有实例自己的私有变量。<h3 id="块级模式"><a href="#块级模式" class="headerlink" title="块级模式"></a>块级模式</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var singleton = function()&#123;</span><br><span class="line">  //private</span><br><span class="line">  var privateVariable = 10 ;</span><br><span class="line"></span><br><span class="line">  function privateFunction()&#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  //public</span><br><span class="line">  return &#123;</span><br><span class="line">    publicProperty : true ,</span><br><span class="line"></span><br><span class="line">    publicMethod : function()&#123;</span><br><span class="line">      privateVariable++;</span><br><span class="line">      return privateFunction();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
这个模块模式将一个对象字面量作为函数的值返回，返回的对象字面量中只包含公有的属性和方法。由于这个对象十在匿名函数内部定义的，因此他的公有方法有权访问这些变量。这种模式在需要对单例进行初始化的时候，同时又需要维护其私有变量时非常有用。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var application = function()&#123;</span><br><span class="line">  //private</span><br><span class="line">  var components = new Array(); </span><br><span class="line">  </span><br><span class="line">  //初始化</span><br><span class="line">  components.push(new BaseComponent());</span><br><span class="line"></span><br><span class="line">  //public</span><br><span class="line">  return &#123;</span><br><span class="line">    getComponentsCount : function()&#123;</span><br><span class="line">      return components.length;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    registerComponents : function(component)&#123;</span><br><span class="line">      if (typeof component == &quot;object&quot;)&#123;</span><br><span class="line">        components.push(component)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
在web应用程序中，常常使用一个单例来管理应用程序级的信息。该公共方法中前者返回已注册的组建数目，后者用于注册组件。<h3 id="增强的模块模式"><a href="#增强的模块模式" class="headerlink" title="增强的模块模式"></a>增强的模块模式</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var singleton = function()&#123;</span><br><span class="line">  //private</span><br><span class="line">  var privateVariable = 10 ;</span><br><span class="line"></span><br><span class="line">  function privateFunction()&#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  //创建对象</span><br><span class="line">  var object = new CustomType();</span><br><span class="line"></span><br><span class="line">  //public</span><br><span class="line">  object.publicProperty = true ;</span><br><span class="line">  object.publicMethod = function()&#123;</span><br><span class="line">      privateVariable++;</span><br><span class="line">      return privateFunction();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  return object;</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
有人进一步改进了模块模式，即在返回对象之前加入对其增强的代码。这种增强的模块模式适合那些单例必须是某种类型的实例，同时还得添加某些属性或者方法的情况。</li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第十天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="this对象"><a href="#this对象" class="headerlink" title="this对象"></a>this对象</h3><ul>
<li>在全局函数中，this指向window。</li>
<li>当函数作为某个对象的方法调用时，指向那个对象。</li>
<li>匿名函数执行对象有全局性，其this对象指向window。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var name = &quot;window&quot;;</span><br><span class="line"></span><br><span class="line">var object = &#123;</span><br><span class="line">  name : &quot;my object&quot;,</span><br><span class="line">  getName : function()&#123;</span><br><span class="line">    return function()&#123;</span><br><span class="line">      return this.name</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(object.getName()());// window</span><br></pre></td></tr></table></figure>
此处的对象方法只搜索到活动对象为止，不可能直接访问外部函数的变量。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var name = &quot;window&quot;;</span><br><span class="line"></span><br><span class="line">var object = &#123;</span><br><span class="line">  name : &quot;my object&quot;,</span><br><span class="line">  getName : function()&#123;</span><br><span class="line">    var that = this ; //函数返回后，that依然引用着object</span><br><span class="line">    return function()&#123;</span><br><span class="line">      return that.name</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(object.getName()());// my object</span><br></pre></td></tr></table></figure></li>
<li><em>几种特殊情况</em>*<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var name = &quot;window&quot;;</span><br><span class="line"></span><br><span class="line">var object = &#123;</span><br><span class="line">  name : &quot;my object&quot;,</span><br><span class="line">  getName : function()&#123;</span><br><span class="line">    return this.name   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alert(object.getName());// my object</span><br></pre></td></tr></table></figure>
还有几种结果</li>
<li>object.getName(); // my object</li>
<li>(object.getName)();// my object</li>
<li>(object.getName = object.getName)() // window</li>
</ul>
<p>解释：</p>
<ul>
<li>this.name 就是object.name</li>
<li>在调用方法前加上括号,就好像只是引用一个函数,但this 的值得到了位置</li>
<li>这个赋值表达式的值时函数本身,所以this 的值不能得到维持,所以返回window.name</li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第三天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="属性类型"><a href="#属性类型" class="headerlink" title="属性类型"></a>属性类型</h3><h4 id="1-数据属性"><a href="#1-数据属性" class="headerlink" title="1. 数据属性"></a>1. 数据属性</h4><p><strong>数据属性包含一个数据值的位置,在这个位置可以度去和写入值。</strong></p>
<ul>
<li>[[Configurable]] 表示可否通过delete删除，或能否修改属性特性，或者改为访问器属性。默认为true。</li>
<li>[[Enumerable]]表示能否通过for-in循环返回属性。默认true。</li>
<li>[[Writable]]能否修改属性的值。默认为true。</li>
<li>[[Value]]包含这个属性的数据值。默认为undefined。  </li>
<li><em>可以用Object.defineProperty来修改属性默认的特性</em>*<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var person = &#123;&#125;;</span><br><span class="line">Object.defineProperty(person,&quot;name&quot;,&#123;</span><br><span class="line">  writable : false,</span><br><span class="line">  value : &quot;Zy&quot;</span><br><span class="line">&#125;);</span><br><span class="line">alert(person.name);//Zy</span><br><span class="line">person.name = 111111;</span><br><span class="line">alert(person.name);//Zy</span><br></pre></td></tr></table></figure></li>
<li>如果将 configurable 设置为 false ,就不能把它变回可配置的.此时 Object.defineProperty 方法除了修改 writable 之外的特性都会导致错误.*<h4 id="2-访问器属性"><a href="#2-访问器属性" class="headerlink" title="2. 访问器属性"></a>2. 访问器属性</h4></li>
<li><em>访问器属性不包含数据值，它们包含一对儿getter和setter（非必须）</em>*</li>
<li>[[Configurable]] 表示可否通过delete删除，或能否修改属性特性，或者改为访问器属性。默认为true。</li>
<li>[[Enumerable]]表示能否通过for-in循环返回属性。默认true。</li>
<li>[[Get]]读取属性时调用的函数,默认为undefined。</li>
<li>[[Set]]写入属性时调用的函数,默认为undefined。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var book = &#123;</span><br><span class="line">  _year : 2004,</span><br><span class="line">  edition : 1 </span><br><span class="line">&#125;;</span><br><span class="line">Object.defineProperty(book,&quot;year&quot;,&#123;</span><br><span class="line">  get : function()&#123;</span><br><span class="line">    return this._year;</span><br><span class="line">  &#125;,</span><br><span class="line">  set: function(newValue)&#123;</span><br><span class="line">    if(newValue &gt; 2019)&#123;</span><br><span class="line">      this._year = newValue;</span><br><span class="line">      this.edtion += newValue - 2019;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">book.year = 2020;</span><br><span class="line">alert(book.edition);//1</span><br><span class="line">/*以上代码创建一个book对象,并给他定义两个默认的属性,_year和edtion。_year前面的下划线是一种常用的标记符号，表示只能通过对象方法访问的属性。*/</span><br></pre></td></tr></table></figure></li>
<li>这里是使用访问器属性的常见方式，即设置一个属性的值会导致其他属性发生变化。且不一定非要同时指定getter和setter。只指定set在读取值时会返回undefined，而只指定getter时表明其不可写入。*</li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>js高级程序设计第四天</title>
    <url>/2020/04/18/</url>
    <content><![CDATA[<h3 id="构造函数生成对象的问题"><a href="#构造函数生成对象的问题" class="headerlink" title="构造函数生成对象的问题"></a>构造函数生成对象的问题</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name,age)&#123;</span><br><span class="line">  this.name = name ;</span><br><span class="line">  this.age = age ;</span><br><span class="line">  this.sayName = new Function(&quot;alert(this.name)&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>但这样会有一个问题，创建两个Person类的实例person1和person2，它们两个会生成两个sayName方法，即使这个sayName方法本质上一模一样。<br><strong>解决方案</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name,age)&#123;</span><br><span class="line">  this.name = name ;</span><br><span class="line">  this.age = age ;</span><br><span class="line">  this.sayName = sayName;</span><br><span class="line">&#125;</span><br><span class="line">function sayName()&#123;</span><br><span class="line">  alert(this.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样在外部给出方法的实现，可以解决两个函数做同一件事的问题，但是却失去了封装的意义。</p>
<h3 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h3><p>我们创建的每一个函数都有一个prototype属性，这个属性是一个指针，指向一个对象。prototype就是通过调用构造函数而创建的那个对象实例的原型对象。好处是可以让所有对象实例共享它所包含的属性和方法。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person()&#123;&#125;;</span><br><span class="line">Person.prototype.name = &quot;zy&quot;;</span><br><span class="line">Person.prototype.sex = &quot;male&quot;;</span><br><span class="line">Person.prototype.sayName = function()&#123;</span><br><span class="line">  alert(this.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="理解原型对象"><a href="#理解原型对象" class="headerlink" title="理解原型对象"></a>理解原型对象</h2><p><strong>1.无论什么时候，只要创建了一个新函数，就会根据一组特定的规则为该函数创建一个prototype属性，这个属性指向函数的原型对象。在默认情况下，所有原型对象都会自动获得一个constructor属性，这个属性包含一个指向prototype属性所在函数的指针。</strong><br><strong>2.创建了自定义的构造函数后，其原型对象默认指挥取得constructor属性；值与其他方法都是从Object继承而来。</strong><br><img src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=329834647,3252098432&fm=26&gp=0.jpg" alt="图解"></p>
<h3 id="更简单的原型方法"><a href="#更简单的原型方法" class="headerlink" title="更简单的原型方法"></a>更简单的原型方法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person()&#123;&#125;;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  constructor : Person,//注</span><br><span class="line">  name : &quot;zy&quot;,</span><br><span class="line">  sayName : function()&#123;</span><br><span class="line">    alert(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>注：</p>
<ol>
<li>此处如果不加该行代码，则该prototype的constructor将指向由我们覆盖的Object对象，而不是Person对象。</li>
<li>此处自己覆写的constructor对象将从不可枚举的属性变成可枚举的属性。</li>
</ol>
<h3 id="原型对象的问题"><a href="#原型对象的问题" class="headerlink" title="原型对象的问题"></a>原型对象的问题</h3><p>原型模式也不是没有缺点。</p>
<ol>
<li>省略了为构造函数传递初始化参数这一环节。</li>
<li>共享的本性。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person()&#123;&#125;;</span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  constructor : Person ,</span><br><span class="line">  name : &quot;zy&quot;,</span><br><span class="line">  friends:[&quot;aaa&quot;,&quot;bbb&quot;],</span><br><span class="line">  sayName : function()&#123;</span><br><span class="line">    alert(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var person1 = new Person();</span><br><span class="line">var person2 = new Person();</span><br><span class="line"></span><br><span class="line">person1.friends.push(&quot;ccc&quot;);</span><br><span class="line"></span><br><span class="line">alert(person1.friends);//&quot;aaa,bbb,ccc&quot;</span><br><span class="line">alert(person2.friends);//&quot;aaa,bbb,ccc&quot;</span><br><span class="line">alert(person1.friends === person2.friends);//true</span><br></pre></td></tr></table></figure>
结果反应修改一个实例的属性会导致另一个实例属性的改变，这不符合我们的一般认识。</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>JavaScript高级程序设计</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>vue基础</title>
    <url>/2020/04/12/</url>
    <content><![CDATA[<ol>
<li>v-if 和 v-show的区别  </li>
</ol>
<ul>
<li>v-if是增加/删除某个元素，而v-show是添加属性display：none  </li>
<li>v-if有较高的切换性能需要，v-show有较高的初始性能消耗</li>
<li>v-if适合那些有可能不被使用的元素，v-show适合那些需要频繁切换的元素 </li>
</ul>
<ol start="2">
<li>v-model是唯一一个双向数据绑定，用在表单元素</li>
<li>v-for中使用key可以防止添加新的元素后出现勾选错误</li>
<li>数组更新检测</li>
</ol>
<ul>
<li>使用以下方法操作数组，可以检测到变动：push(),pop(),shift(),unshift(),splice(),sort(),reverse()</li>
<li>以下方法检测不到，因为返回的是一个新的数组，没有对原数组操作：filter(),concat(),slice(),map()</li>
<li>直接利用数组索引值，如array[0] = sth ,是无法检测并刷新视图的，因为这是最底层的东西，而数组的方法是被重写过的，建议用splice()`或者Vue.set()</li>
</ul>
<ol start="5">
<li>计算属性的性能比方法更高，一个界面多次使用到这个变量计算结果时，函数会使用多次，而计算属性只会使用一次</li>
<li>虚拟dom为什么会具有更高效率</li>
</ol>
<ul>
<li>把节点树按照层级分析，不再是原先所有结点遍历对比所有节点，如果层级不同直接不用比较</li>
<li>同key值对比，没有key在最后创建一个新节点，有key值可以插入新节点达到复用。</li>
<li>同组件对比，如果组件相同，直接替换属性，达到复用目的。<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这一点在transition标签的出现中体现的淋漓尽致。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;zoe&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;out-in&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span> &gt;</span></span><br><span class="line">            1111111</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span> &gt;</span></span><br><span class="line">            222222</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>
此处如果这么写不会发生动画，因为两个p标签没有dom的改变，没有触发transition标签。<br>解决办法：</li>
</ul>
<ol>
<li>强行写成两个标签</li>
<li>给两个p添加不同的key值</li>
</ol>
<ol start="7">
<li>组件与示例的区别</li>
</ol>
<ul>
<li>自定义组件需要一个根节点 </li>
<li>父子组件的data无法共享  </li>
<li>组件可以有data computed methods 但data必须是一个函数 </li>
</ul>
<ol start="8">
<li>vue组件中props的命名可以采用驼峰命名，但是在标签上使用属性时要把驼峰改成-链接</li>
<li>ref放在标签上，拿到的是dom节点。放在组件上，拿到的是组件</li>
<li>采用Vue.directive可以自定义一个vue指令，可以拿到并操作最底层的dom节点，有inserted update等生命周期函数</li>
<li>在用vue-cli中用vscode会报错：   Expected indentation of 2 spaces but found 4<br>解决办法：在.eslintrc.js的rule上加上 “indent”: [“off”, 2],</li>
<li>vue在绑定事件是可以用.+修饰符的方法修饰绑定事件<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span><br><span class="line">           <span class="comment">&lt;!-- 使用.stop阻止触发冒泡事件 --&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;戳&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;btnHandle&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 阻止默认事件 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;linkClick&quot;</span>&gt;</span>去百度 <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- capture捕获事件  先inner 后btn --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;戳&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnHandle&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click.capture</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;戳&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnHandle&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- 使用self实现只有当前元素触发 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;戳&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnHandle&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- 使用once只触发一次函数 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span> @<span class="attr">click.prevent.once</span>=<span class="string">&quot;linkClick&quot;</span>&gt;</span>去百度 <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>fetch并不是一个插件，是跟xhr一样的，原生的，请求方式，目前兼容不好  <table>
<thead>
<tr>
<th align="center">优缺点</th>
<th align="center">详细</th>
</tr>
</thead>
<tbody><tr>
<td align="center">优点</td>
<td align="center">fetch返回的是一个promise，所以可以用.then()解决回调函数的问题</td>
</tr>
<tr>
<td align="center">优点</td>
<td align="center">使用起来更简洁，未来大有可期</td>
</tr>
<tr>
<td align="center">缺点</td>
<td align="center">默认不带cookie 需要手动添加</td>
</tr>
<tr>
<td align="center">缺点</td>
<td align="center">API偏底层，需要封装</td>
</tr>
<tr>
<td align="center">缺点</td>
<td align="center">浏览器兼容不好</td>
</tr>
</tbody></table>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://127.0.0.1:5500/json/maoyan.json&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>())</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">datalists</span> = res;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>Vue</tag>
        <tag>Js</tag>
      </tags>
  </entry>
  <entry>
    <title>webpack4</title>
    <url>/2020/04/14/</url>
    <content><![CDATA[<h4 id="WebPack4"><a href="#WebPack4" class="headerlink" title="WebPack4"></a>WebPack4</h4><ol>
<li>安装命令:npm install webpack-cli -g</li>
<li>mode:development是开发者模式,是webpack编译后的js,production是生产环境,是丑化js代码配置后的文件,代码更加压缩且去掉了调试代码</li>
<li>webpack4在小项目中可以直接使用命令打包,但是在大项目中,还是要使用webpack.config.js文件来进行配置</li>
<li>基本的webpack配置,输入输出文件<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./path/to/my/entry/file.js&#x27;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;my-first-webpack.bundle.js&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li>各种加载器,例如</li>
<li>url-loader,能把一个独立文件编译成base64的形式嵌入进输出js文件中,避免客户端对服务器的多次请求</li>
<li>babel-loader,将es6以及之后的语法,编译成低版本浏览器能运行的js代码</li>
<li>sass-loader,将scss这种css的拓展语言编译成css</li>
<li>各种插件,例如<ol>
<li>MiniCssExtractPlugin 将css文件从整合的js文件中分离成单个的css文件,利于调试代码</li>
<li>DefinePlugin,定义全局变量,能减少代码的冗余度,并且更加灵活的修改配置</li>
<li>HtmlWebpackPlugin,根据模板生成一个html文件</li>
</ol>
</li>
</ol>
<hr>
<h4 id="版本升级"><a href="#版本升级" class="headerlink" title="版本升级"></a>版本升级</h4><p>在许多项目中,需要把webpack的版本从3升级到4,这会引发很多问题</p>
<ol>
<li>现在package.json中找到 webpack的版本 并换成4</li>
<li>一遍遍运行,许多依赖都需要升级,使用npm/cnpm install xxxxx@latest 来找到最新版本</li>
<li>在上述命令中  写在dependencies中的用-S ,写在devDependencies中的用-D</li>
<li>根据报错信息一步一步更新依赖或者修改配置文件</li>
<li>可能有的最新版本也不支持,这时候用@next的测试版本可以尝试解决问题</li>
<li>可能有很多api也随着版本升级不能使用,可以通过官方文档进行解决,例如<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">The CommonsChunkPlugin 已经从 webpack v4 legato 中移除。想要了解在最新版本中如何处理 chunk，</span><br><span class="line">请查看 SplitChunksPlugin。</span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
        <tag>Webpack</tag>
      </tags>
  </entry>
  <entry>
    <title>毕业设计中ElementUI的问题</title>
    <url>/2020/04/12/</url>
    <content><![CDATA[<p><a href="https://github.com/Zooeeee/Online_exam">项目地址</a></p>
<h3 id="记录在毕业设计-在线考试系统-中使用element-ui的问题"><a href="#记录在毕业设计-在线考试系统-中使用element-ui的问题" class="headerlink" title="记录在毕业设计 在线考试系统 中使用element ui的问题"></a>记录在毕业设计 在线考试系统 中使用element ui的问题</h3><ol>
<li>编辑每条记录，却使用一个dialog，会造成数据不更新<br>此时在父组件dialog的子组件中动态绑定一个key值，利用vue的diff算法，可以实现重新挂载</li>
<li>场景：编辑某个数据，在想给下拉选择多选框赋值时，一开始以为就是把赋值反过来做，多选框里始终现实的时value而不是label。最后试出来应该在倒推赋值的时候用map将数组中的每个值从字符串变成int</li>
<li><ul>
<li>场景：在使用组件时，需要对样式进行修改，却无法做到</li>
<li>使用less组件穿透修改样式</li>
<li> 代码：<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> /<span class="selector-tag">deep</span>/ <span class="selector-class">.swiper-pagination-bullet-active</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>动态添加v-model </li>
</ol>
<ul>
<li>场景：在生成试卷时，因为每次考试的试卷题目都是动态生成的，无法写死v-model</li>
<li>需求：动态添加vmodel<br>核心</li>
<li>创建一个空的数组<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">selectVal</span>: []</span><br></pre></td></tr></table></figure></li>
<li>v-model 绑定<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">v-model=<span class="string">&quot;selectVal[index].value&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>动态绑定<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> len = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> item = &#123;<span class="attr">value</span>: <span class="string">&#x27;&#x27;</span>&#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">selectVal</span>.<span class="title function_">push</span>(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="5">
<li>组件刷新 场景:在dialog提供记录的crud之后,需要刷新网页的状态<ul>
<li>通过vuex的计算属性(最好的方法,不会出现页面闪烁)</li>
<li>this.$router.go(0)</li>
<li>this.$forceUpdate()</li>
<li>在app组件的路由界面 通过控制v-if的方法刷新<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;isRouterAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// app容器提供一个方法 用于刷新页面</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  provide () &#123;</span><br><span class="line">  <span class="comment">// 父组件中通过provide来提供变量，在子组件中通过inject来注入变量。</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">reload</span>: <span class="variable language_">this</span>.<span class="property">reload</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">isRouterAlive</span>: <span class="literal">true</span><span class="comment">// 控制视图是否显示的变量</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    reload () &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">isRouterAlive</span> = <span class="literal">false</span><span class="comment">// 先关闭，</span></span><br><span class="line">      <span class="variable language_">this</span>.$nextTick(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isRouterAlive</span> = <span class="literal">true</span><span class="comment">// 再打开</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在子组件中通过注入调用reload方法</span></span><br><span class="line"> <span class="attr">inject</span>: [<span class="string">&#x27;reload&#x27;</span>],</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>ElementUI</tag>
        <tag>毕业设计</tag>
      </tags>
  </entry>
  <entry>
    <title>一些基础知识1</title>
    <url>/2020/04/19/</url>
    <content><![CDATA[<h4 id="边框实现三角形"><a href="#边框实现三角形" class="headerlink" title="边框实现三角形"></a>边框实现三角形</h4><p>把div的width和height置为0,利用四分之一的border来做成三角形的效果,另外三个三角形通过将颜色置为透明实现</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">border-top-color</span>: transparent;</span><br><span class="line">  <span class="attribute">border-top-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-top-width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: transparent;</span><br><span class="line">  <span class="attribute">border-left-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-left-width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-right-color</span>: transparent;</span><br><span class="line">  <span class="attribute">border-right-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-right-width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-color</span>: red;</span><br><span class="line">  <span class="attribute">border-bottom-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-bottom-width</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span> 
<h4 id="文本样式属性"><a href="#文本样式属性" class="headerlink" title="文本样式属性"></a>文本样式属性</h4><ul>
<li>text-decoration:underline,live-throught,overline   下划线,删除线,上划线</li>
<li>text-transform: 文本大小写</li>
<li>text-indent: 首航缩进,一般使用em单位(1em=1font-size)</li>
<li>line-height: 行高=上边距+下边距+字体大小,默认行高不是固定值,取值有 number(px) || scale(比例值 文字大小)</li>
<li>letter-spacing,word-spacing:后者只能应用与英文,前者是字符,后者是单词</li>
<li>强制折行:word-break || word-wrap :前者表现更强烈,后者可能会产生空白<h4 id="一些选择器"><a href="#一些选择器" class="headerlink" title="一些选择器"></a>一些选择器</h4></li>
<li>后代选择器: M N{}</li>
<li>父子选择器: M&gt;N{}</li>
<li>兄弟选择器: M~N{}</li>
<li>相邻选择器: M+N{}</li>
<li>属性选择器: M[attr] {}</li>
<li>完全匹配: =:</li>
<li>部分匹配: *=</li>
<li>起始匹配: ^=</li>
<li>结束匹配: $=</li>
<li>伪类选择器:  <figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:nth-of-type</span>()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:first</span>-of-type()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:first</span>-child()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:last-of-type</span>()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:last-child</span>()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:only-of-type</span>()&#123;&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:only-child</span>()&#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h4>取值为 content-box || border-box<br>content-box是默认<br>border-box下,width和height是整个盒子的宽高<br>主要运用于不计算具体的px,和width:100% 下 的问题</li>
</ul>
<h4 id="marigin的一些问题"><a href="#marigin的一些问题" class="headerlink" title="marigin的一些问题"></a>marigin的一些问题</h4><ul>
<li>相邻元素有上下margin的时候,会取较大值最为叠加的值.</li>
<li>margin的传递问题只会出现在嵌套的结构中,且只会出现在margin-top的传递中<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#box1</span>&#123;<span class="attribute">width</span>:<span class="number">200px</span>;<span class="attribute">height</span>:<span class="number">200px</span>;bacground:red;&#125;</span><br><span class="line"><span class="selector-id">#box2</span>&#123;<span class="attribute">width</span>:<span class="number">200px</span>;<span class="attribute">height</span>:<span class="number">200px</span>;bacground:red;<span class="attribute">margin-top</span>:<span class="number">100px</span>;&#125;</span><br></pre></td></tr></table></figure>
解决办法:BFC规范,给父容器加边框,margin换成padding</li>
<li>marigin-left/right:auto 可以实现左右居中,但上下不行</li>
<li>height 和 width 不写时,会自动计算容器大小. </li>
</ul>
<h4 id="标签分类"><a href="#标签分类" class="headerlink" title="标签分类"></a>标签分类</h4><ol>
<li>按类型(布局一般用块,修饰文本一般用内联)</li>
</ol>
<ul>
<li>block: div,p,ul,li,h1…<ul>
<li>独占一行</li>
<li>支持所有样式</li>
<li>不写宽的时候,宽和父元素相同</li>
<li>所占区域是一个矩形</li>
</ul>
</li>
<li>inline: span,a,em,strong,img(特例,是替换元素)<ul>
<li>不转行,放在一起</li>
<li>有些样式不支持,如:width,height,一些方向上的margin和padding</li>
<li>不写宽的时候,宽由内容决定</li>
<li>所占区域不一定是矩形</li>
<li>内联标签之间会有空隙,是换行产生的</li>
</ul>
</li>
<li>inline-block: input, select<ul>
<li>挨在一起,但是支持宽高</li>
</ul>
</li>
</ul>
<ol start="2">
<li>按内容</li>
</ol>
<ul>
<li>Flow: 流内容</li>
<li>Metedata: 源数据</li>
<li>Sectioning: 分区</li>
<li>Heading: 标题</li>
<li>Phrasing: 措辞</li>
<li>Embedded: 嵌入的</li>
<li>Interactive: 互动的</li>
</ul>
<ol start="3">
<li>按显示</li>
</ol>
<ul>
<li>替换元素: 如img,浏览器根据元素的标签和属性,来决定元素的显示内容</li>
<li>非替换元素: 浏览器直接显示出来</li>
</ul>
<h4 id="隐藏"><a href="#隐藏" class="headerlink" title="隐藏"></a>隐藏</h4><ol>
<li>display: none 不占空间的隐藏</li>
<li>visibility: hidden 占空间的隐藏</li>
</ol>
<h4 id="溢出隐藏overflow"><a href="#溢出隐藏overflow" class="headerlink" title="溢出隐藏overflow"></a>溢出隐藏overflow</h4><ol>
<li>hidden 隐藏</li>
<li>scorll 滚动条</li>
<li>auto 多了就滚动,少了就没有</li>
<li>overflow-x.overflow-y  针对两个轴</li>
</ol>
<h4 id="透明度与手势"><a href="#透明度与手势" class="headerlink" title="透明度与手势"></a>透明度与手势</h4><p>opacity: 0~1   透明到不透明 会影响整体,<br>也可以在rgba(255,255,255,x)  x为透明度 ,只会影响背景<br>cursor: 手势,指针,可以用url自定义手势图片</p>
<h4 id="float"><a href="#float" class="headerlink" title="float"></a>float</h4><p><strong>脱离文档流,沿着父容器靠左或者靠右进行排列,类似于图层的概念,提升半层</strong></p>
<ul>
<li>只会影响后面的元素,不影响之前的元素</li>
<li>提升半层,用于图文混排效果</li>
<li>浮动元素的默认宽,是根据内容决定的,而不是父容器</li>
<li>默认折行,在父元素中放不下,会换行</li>
<li>一般给块级元素添加,内联也可以</li>
</ul>
<h4 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h4><ul>
<li>上下排列:clear属性,left||right||both</li>
<li>嵌套排列<ul>
<li>固定宽高:不推荐,不能把高度固定死,不适合做自适应</li>
<li>父元素浮动,不推荐,因为父元素浮动会影响到后面的元素</li>
<li>display:inline-block BFC规范,不推荐,父元素会影响后面的元素</li>
<li>设置空标签,通过clear清除浮动,不推荐,会多一个标签</li>
<li>overflow:hidden BFC规范,如果有子元素溢出,那么会受到影响</li>
<li>after伪类,推荐,是空标签的加强版,目前各大公司的做法(content出来的是行内元素,clear不起作用,需要转化成block)<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">父元素<span class="selector-pseudo">:after</span>&#123;<span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      <span class="attribute">clear</span>:both;</span><br><span class="line">      <span class="attribute">display</span>:block;&#125; </span><br></pre></td></tr></table></figure>
<h4 id="定位-position"><a href="#定位-position" class="headerlink" title="定位:position"></a>定位:position</h4></li>
</ul>
</li>
</ul>
<ol>
<li>static</li>
<li>relative 相对定位<ol>
<li>如果没有定位偏移量,对元素本身没有任何影响</li>
<li>不使元素脱离文档流</li>
<li>不影响其他元素布局</li>
<li>left,top,right,bottom是相对于自身元素进行偏移的</li>
</ol>
</li>
<li>absolute 绝对定位<ol>
<li>使元素完全脱离文档流</li>
<li>使内联元素支持宽高(具备块特性)</li>
<li>使块元素默认宽根据内容决定(具备内联特性)</li>
<li>如果有定位祖先元素,相对于祖先元素发生偏移</li>
<li>如果没有祖先元素,相对于整个文档发生偏移(绝对,相对,固定)</li>
<li>找最近的有position的祖先元素</li>
</ol>
</li>
<li>fixed 固定定位<ol>
<li>使元素完全脱离文档流</li>
<li>使内联元素支持宽高(具备块特性)</li>
<li>使块元素默认宽根据内容决定(具备内联特性)</li>
<li>相对于整个浏览器窗口进行偏移,不受滚动条影响</li>
</ol>
</li>
<li>sticky 粘性定位 做吸附功能<br>在指定的位置,进行粘性操作</li>
<li>z-index 层级,图层<br>层级默认是0,根据大小进行覆盖,在嵌套中只比较相同层级. </li>
</ol>
<h4 id="引用标签-有利于被搜索引擎发现-是否具备语义化"><a href="#引用标签-有利于被搜索引擎发现-是否具备语义化" class="headerlink" title="引用标签,有利于被搜索引擎发现,是否具备语义化"></a>引用标签,有利于被搜索引擎发现,是否具备语义化</h4><ul>
<li>blockquote  引用大段的段落解释</li>
<li>q 引用小段的段落解释</li>
<li>abbr 缩写,或者首字母缩写</li>
<li>address 引用文档地址信息</li>
<li>cite 引用著作标题</li>
</ul>
<h4 id="H5新标签"><a href="#H5新标签" class="headerlink" title="H5新标签"></a>H5新标签</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;article&gt;标签定义外部的内容。比如来自一个外部的新闻提供者的一篇新的文章，或者来自 blog 的文本，或者是来自论坛的文本。亦或是来自其他外部源内容。</span><br><span class="line">HTML5:&lt;article&gt;&lt;/article&gt;</span><br><span class="line">HTML4:&lt;div&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;aside&gt;标签定义 article 以外的内容。aside 的内容应该与 article 的内容相关。</span><br><span class="line">HTML5:&lt;aside&gt;Aside 的内容是独立的内容，但应与文档内容相关。&lt;/aside&gt;</span><br><span class="line">HTML4:&lt;div&gt;Aside 的内容是独立的内容，但应与文档内容相关。&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;audio&gt; 标签定义声音，比如音乐或其他音频流。</span><br><span class="line">HTML5:&lt;audio src=&quot;someaudio.wav&quot;&gt;您的浏览器不支持 audio 标签。&lt;/audio&gt;</span><br><span class="line">HTML4:&lt;object type=&quot;application/ogg&quot; data=&quot;someaudio.wav&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;someaudio.wav&quot;&gt;&lt;/object&gt;</span><br><span class="line"></span><br><span class="line">&lt;canvas&gt; 标签定义图形，比如图表和其他图像。这个 HTML 元素是为了客户端矢量图形而设计的。它自己没有行为，但却把一个绘图 API 展现给客户端 JavaScript 以使脚本能够把想绘制的东西都绘制到一块画布上。</span><br><span class="line">HTML5:&lt;canvas id=&quot;myCanvas&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">HTML4:&lt;object data=&quot;inc/hdr.svg&quot; type=&quot;image/svg+xml&quot; width=&quot;200&quot; height=&quot;200&quot;&gt;&lt;/object&gt;</span><br><span class="line"></span><br><span class="line">&lt;command&gt; 标签定义命令按钮，比如单选按钮、复选框或按钮。</span><br><span class="line">HTML5: &lt;command οnclick=cut()&quot; label=&quot;cut&quot;&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;datalist&gt; 标签定义可选数据的列表。与 input 元素配合使用，就可以制作出输入值的下拉列表。</span><br><span class="line">HTML5: &lt;datalist&gt;&lt;/datalist&gt;</span><br><span class="line">HTML4: see combobox.</span><br><span class="line"></span><br><span class="line">&lt;details&gt; 标签定义元素的细节，用户可进行查看，或通过点击进行隐藏。与 &lt;legend&gt; 一起使用，来制作 detail 的标题。该标题对用户是可见的，当在其上点击时可打开或关闭 detail。</span><br><span class="line">HTML5: &lt;details&gt;&lt;/details&gt;</span><br><span class="line">HTML4: &lt;dl style=&quot;display:hidden&quot;&gt;&lt;/dl&gt;</span><br><span class="line"></span><br><span class="line">&lt;embed&gt; 标签定义嵌入的内容，比如插件。</span><br><span class="line">HTML5: &lt;embed src=&quot;horse.wav&quot; /&gt;</span><br><span class="line">HTML4: &lt;object data=&quot;flash.swf&quot;  type=&quot;application/x-shockwave-flash&quot;&gt;&lt;/object&gt;</span><br><span class="line"></span><br><span class="line">&lt;figcaption&gt; 标签定义 figure 元素的标题。”figcaption” 元素应该被置于 “figure” 元素的第一个或最后一个子元素的位置。</span><br><span class="line">HTML5: &lt;figure&gt;&lt;figcaption&gt;PRC&lt;/figcaption&gt;&lt;/figure&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;figure&gt; 标签用于对元素进行组合。使用 &lt;figcaption&gt; 元素为元素组添加标题。</span><br><span class="line">HTML5: &lt;figure&gt;&lt;figcaption&gt;PRC&lt;/figcaption&gt;&lt;p&gt;The People&#x27;s Republic of China was born in 1949...&lt;/p&gt;&lt;/figure&gt;</span><br><span class="line">HTML4: &lt;dl&gt;&lt;h1&gt;PRC&lt;/h1&gt;&lt;p&gt;The People&#x27;s Republic of China was born in 1949...&lt;/p&gt;&lt;/dl&gt;</span><br><span class="line"></span><br><span class="line">&lt;footer&gt; 标签定义 section 或 document 的页脚。典型地，它会包含创作者的姓名、文档的创作日期以及/或者联系信息。</span><br><span class="line">HTML5: &lt;footer&gt;&lt;/footer&gt;</span><br><span class="line">HTML4: &lt;div&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;header&gt; 标签定义 section 或 document 的页眉。</span><br><span class="line">HTML5: &lt;header&gt;&lt;/header&gt;</span><br><span class="line">HTML4: &lt;div&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;hgroup&gt; 标签用于对网页或区段（section）的标题进行组合。</span><br><span class="line">HTML5: &lt;hgroup&gt;&lt;/hgroup&gt;</span><br><span class="line">HTML4: &lt;div&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;keygen&gt; 标签定义生成密钥。</span><br><span class="line">HTML5: &lt;keygen&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;mark&gt;主要用来在视觉上向用户呈现那些需要突出的文字。&lt;mark&gt;标签的一个比较典型的应用就是在搜索结果中向用户高亮显示搜索关键词。</span><br><span class="line">HTML5: &lt;mark&gt;&lt;/mark&gt;</span><br><span class="line">HTML4: &lt;span&gt;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">&lt;meter&gt; 标签定义度量衡。仅用于已知最大和最小值的度量。必须定义度量的范围，既可以在元素的文本中，也可以在 min/max 属性中定义。</span><br><span class="line">HTML5: &lt;meter&gt;&lt;/meter&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;nav&gt; 标签定义导航链接的部分。</span><br><span class="line">HTML5: &lt;nav&gt;&lt;/nav&gt;</span><br><span class="line">HTML4:&lt;ul&gt;&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;output&gt; 标签定义不同类型的输出，比如脚本的输出。</span><br><span class="line">HTML5: &lt;output&gt;&lt;/output&gt;</span><br><span class="line">HTML4: &lt;span&gt;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">&lt;progress&gt; 标签运行中的进程。可以使用 &lt;progress&gt; 标签来显示 JavaScript 中耗费时间的函数的进程。</span><br><span class="line">HTML5: &lt;progress&gt;&lt;/progress&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;rp&gt; 标签在 ruby 注释中使用，以定义不支持 ruby 元素的浏览器所显示的内容。</span><br><span class="line">HTML5: &lt;ruby&gt;漢 &lt;rt&gt;&lt;rp&gt;(&lt;/rp&gt;ㄏㄢˋ&lt;rp&gt;)&lt;/rp&gt;&lt;/rt&gt;&lt;/ruby&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;rt&gt; 标签定义字符（中文注音或字符）的解释或发音。</span><br><span class="line">HTML5: &lt;ruby&gt;漢 &lt;rt&gt; ㄏㄢˋ &lt;/rt&gt;&lt;/ruby&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;ruby&gt; 标签定义 ruby 注释（中文注音或字符）。</span><br><span class="line">HTML5: &lt;ruby&gt;漢 &lt;rt&gt;&lt;rp&gt;(&lt;/rp&gt;ㄏㄢˋ&lt;rp&gt;)&lt;/rp&gt;&lt;/rt&gt;&lt;/ruby&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;section&gt; 标签定义文档中的节（section、区段）。比如章节、页眉、页脚或文档中的其他部分。</span><br><span class="line">HTML5: &lt;section&gt;&lt;/section&gt;</span><br><span class="line">HTML4: &lt;div&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;source&gt; 标签为媒介元素（比如 &lt;video&gt; 和 &lt;audio&gt;）定义媒介资源。</span><br><span class="line">HTML5: &lt;source&gt;</span><br><span class="line">HTML4: &lt;param&gt;</span><br><span class="line"></span><br><span class="line">&lt;summary&gt; 标签包含 details 元素的标题，”details” 元素用于描述有关文档或文档片段的详细信息。”summary” 元素应该是 “details” 元素的第一个子元素。</span><br><span class="line">HTML5: &lt;details&gt;&lt;summary&gt;HTML 5&lt;/summary&gt;This document teaches you everything you have to learn about HTML 5.&lt;/details&gt;</span><br><span class="line">HTML4: none</span><br><span class="line"></span><br><span class="line">&lt;time&gt; 标签定义日期或时间，或者两者。</span><br><span class="line">HTML5: &lt;time&gt;&lt;/time&gt;</span><br><span class="line">HTML4: &lt;span&gt;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">&lt;video&gt; 标签定义视频，比如电影片段或其他视频流。</span><br><span class="line">HTML5: &lt;video src=&quot;movie.ogg&quot; controls=&quot;controls&quot;&gt;您的浏览器不支持 video 标签。&lt;/video&gt;</span><br><span class="line">HTML4:&lt;object type=&quot;video/ogg&quot; data=&quot;movie.ogv&quot;&gt;&lt;param name=&quot;src&quot; value=&quot;movie.ogv&quot;&gt;&lt;/object&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>毕业设计中SpringDataJpa的使用</title>
    <url>/2020/04/12/</url>
    <content><![CDATA[<p><a href="https://github.com/Zooeeee/Online_exam">项目地址</a></p>
<h4 id="使用原因"><a href="#使用原因" class="headerlink" title="使用原因"></a>使用原因</h4><p>因为是毕业设计项目,属于小型项目,没有必要上mybatis,所以选择了对于单表crud操作更加简单的Spring Data Jpa</p>
<h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>JPA意即Java持久化API，是Sun官方在JDK5.0后提出的Java持久化规范，这些接口所在包为javax.persistence.<br>JPA的出现主要是为了简化持久层开发以及整合ORM技术，结束Hibernate、TopLink、JDO等ORM框架各自为营的局面。JPA是在吸收现有ORM框架的基础上发展而来，易于使用，伸缩性强。<br>主要注重于对操作的映射,而不是mybatis对于结果集的映射</p>
<h4 id="在Springboot中引入"><a href="#在Springboot中引入" class="headerlink" title="在Springboot中引入"></a>在Springboot中引入</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--spring-data-jpa--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 添加hibernate 依赖  此处用的实现层是hibernate--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-entitymanager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.3.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">properties:</span></span><br><span class="line">      <span class="attr">hibernate:</span></span><br><span class="line">        <span class="attr">jdbc:</span></span><br><span class="line">          <span class="attr">time_zone:</span> <span class="string">Hongkong</span></span><br><span class="line">        <span class="attr">hbm2ddl:</span></span><br><span class="line">          <span class="attr">auto:</span> <span class="string">update</span></span><br><span class="line">        <span class="attr">dialect:</span> <span class="string">org.hibernate.dialect.MySQL5InnoDBDialect</span></span><br><span class="line">        <span class="attr">format_sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">mysql</span></span><br></pre></td></tr></table></figure>
<p>hibernate 指的是实现层框架<br>show-sql 指的是运行dao时会在控制台打印sql语句<br>dialect 指的是不同数据库的 语法糖<br>auto: update 指的是更新表,create就是删除表之后重新创建<br>time_zone: Hongkong 解决mysql时区与中国不同的问题</p>
<h4 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h4><ol>
<li>在model中新建数据库中表的对应类,用@Entity注释,用@Table(name = “t_problem”)来映射对应表</li>
<li>主键的注释  –model包<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Id</span>  <span class="comment">//标注主键</span></span><br><span class="line"><span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span> <span class="comment">//标注主键自增方式</span></span><br><span class="line"><span class="meta">@Column(name = &quot;id&quot;)</span></span><br><span class="line"><span class="keyword">private</span> Integer id;</span><br></pre></td></tr></table></figure></li>
<li>Dao层<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProblemDao</span> <span class="keyword">extends</span> <span class="title class_">JpaRepository</span>&lt;Problem,Integer&gt;&#123;&#125;</span><br></pre></td></tr></table></figure>
JpaRepository是一个基本的jpa仓库来,还有simple,crud,specific等仓库</li>
<li>Service<br>直接注入Dao<h4 id="Dao中自带的方法"><a href="#Dao中自带的方法" class="headerlink" title="Dao中自带的方法"></a>Dao中自带的方法</h4>get,find,delete,save,count<h4 id="Dao中自己写的接口"><a href="#Dao中自己写的接口" class="headerlink" title="Dao中自己写的接口"></a>Dao中自己写的接口</h4>在Dao中可以写自定义的接口,然后jpa会自动生成相应的方法<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 方法的名称要遵循 findBy + 属性名（首字母大写） + 查询条件(首字母大写 Is Equals)</span></span><br><span class="line"><span class="comment">// findByNameLike(String name)</span></span><br><span class="line"><span class="comment">// findByName(String name)</span></span><br><span class="line"><span class="comment">// findByNameAndAge(String name, Integer age)</span></span><br><span class="line"><span class="comment">// findByNameOrAddress(String name)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">findByUsernameAndPassword</span><span class="params">(String userName,String password)</span>;</span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">findByNickName</span><span class="params">(String nickname)</span>;</span><br></pre></td></tr></table></figure>
<h4 id="Dao中自定义的jpql"><a href="#Dao中自定义的jpql" class="headerlink" title="Dao中自定义的jpql"></a>Dao中自定义的jpql</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// select 新建一个视图层,返回的泛型就是该VO类</span></span><br><span class="line"><span class="comment">// left join 实现多表连接</span></span><br><span class="line"><span class="comment">// Page 实现分页</span></span><br><span class="line"><span class="meta">@Query(&quot;select new com.zy.vo.problem.ProblemVo(p.id,t.type,s.subject,p.name,p.answer,p.content,p.analysis,d.difficulty,u.nickName) &quot; +</span></span><br><span class="line"><span class="meta">    &quot;from Problem as p &quot; +</span></span><br><span class="line"><span class="meta">    &quot;left join ProblemToType as t on p.type = t.id &quot; +</span></span><br><span class="line"><span class="meta">    &quot;left join ProblemToDifficulty as d on p.difficulty = d.id &quot; +</span></span><br><span class="line"><span class="meta">    &quot;left join ProblemToSubject as s on p.subject = s.id &quot; +</span></span><br><span class="line"><span class="meta">    &quot;left join User as u on p.creator = u.id &quot; +</span></span><br><span class="line"><span class="meta">    &quot;order by p.id &quot;)</span></span><br><span class="line">Page&lt;ProblemVo&gt; <span class="title function_">getProblemVo</span><span class="params">(Pageable pageable)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接返回List的泛型</span></span><br><span class="line"><span class="comment">// 获取所有题型</span></span><br><span class="line"><span class="meta">@Query(&quot;select distinct t.type from Problem as p LEFT JOIN ProblemToType as t on p.type = t.id &quot;)</span></span><br><span class="line">List&lt;String&gt; <span class="title function_">getProblemType</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Query(&quot;select new com.zy.vo.result.ResultVo(r.resultId ,r.examId,r.totalMark,r.createTime,u.nickName,e.name,e.des,u.avatar) from Result as r left join User as u on r.stuId = u.id left join Exam as e on e.id = r.examId where r.stuId = ?1&quot;)</span></span><br><span class="line">List&lt;ResultVo&gt; <span class="title function_">getMyAllResultVo</span><span class="params">(Integer stuId)</span>;</span><br></pre></td></tr></table></figure>
也可使用sql语句<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 使用nativeQuery = true来使用sql语句,同时用?idnex来对应传入的参数</span></span><br><span class="line"><span class="meta">@Query(nativeQuery = true,value = &quot;SELECT p.id FROM t_problem as p left join t_problem_subject as s on s.id = p.subject left join t_problem_type as t on t.id = p.type left join t_problem_difficulty as d on d.id = p.difficulty where p.is_used = 1 and s.subject = ?1 and t.type = ?2 and d.difficulty = ?3 ORDER BY RAND() LIMIT ?4&quot;)</span></span><br><span class="line">List&lt;Integer&gt; <span class="title function_">getConditionByRandom</span><span class="params">(String subject,String type,String difficulty,Integer rand)</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="JpaSpecificationExecutor"><a href="#JpaSpecificationExecutor" class="headerlink" title="JpaSpecificationExecutor"></a>JpaSpecificationExecutor</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@Rollback(value = false)</span></span><br><span class="line">Specification&lt;User&gt; specification1 = <span class="keyword">new</span> <span class="title class_">Specification</span>&lt;User&gt;() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Predicate <span class="title function_">toPredicate</span><span class="params">(Root&lt;User&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb)</span> &#123;</span><br><span class="line">     List&lt;Predicate&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Predicate&gt;();</span><br><span class="line">      <span class="keyword">if</span>(StringUtils.isNotBlank(username))&#123;</span><br><span class="line">         list.add(cb.like(root.get(<span class="string">&quot;username&quot;</span>).as(String.class), <span class="string">&quot;%&quot;</span>+username+<span class="string">&quot;%&quot;</span>));</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(StringUtils.isNotBlank(password))&#123;</span><br><span class="line">          list.add(cb.equal(root.get(<span class="string">&quot;password&quot;</span>).as(String.class), password));</span><br><span class="line">      &#125;</span><br><span class="line"><span class="comment">//新建一个数组，这个对象代表一个查询条件</span></span><br><span class="line">      Predicate[] p = <span class="keyword">new</span> <span class="title class_">Predicate</span>[list.size()];</span><br><span class="line">     <span class="comment">// 将list对象转化为p类型数组，加载cb中</span></span><br><span class="line">      <span class="keyword">return</span> cb.and(list.toArray(p));</span><br><span class="line">     &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
用来定义复杂或者是自定义的查询<h4 id="一些踩过的坑"><a href="#一些踩过的坑" class="headerlink" title="一些踩过的坑"></a>一些踩过的坑</h4></li>
<li>场景:将题目选项字段设为option,但是在dao层报错<br>解决:option是mysql的关键字,在sql语句中会报错</li>
<li>返回vo类时要注意vo类有没有相应的构造函数</li>
<li>关于mysql数据库中字段是json的存取值方法<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.vladmihalcea<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-types-52<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
实体类中的写法<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExpressOrder</span>&#123;</span><br><span class="line">    <span class="comment">/**主键自增 */</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**商品相关信息 */</span></span><br><span class="line">    <span class="meta">@Type(type = &quot;json&quot;)</span></span><br><span class="line">    <span class="meta">@Column( columnDefinition = &quot;json&quot; )</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;CargoModel&gt; cargoModelList;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**增值服务信息 */</span></span><br><span class="line">    <span class="meta">@Type(type = &quot;json&quot;)</span></span><br><span class="line">    <span class="meta">@Column( columnDefinition = &quot;json&quot; )</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;AddedServiceModel&gt; addedServiceModelList;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CargoModel</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;<span class="comment">// 货物名称</span></span><br><span class="line">    <span class="keyword">private</span> String count;<span class="comment">// 货物数量</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddedServiceModel</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;<span class="comment">//增值服务名，如COD等。</span></span><br><span class="line">    <span class="keyword">private</span> String value;</span><br><span class="line">    <span class="keyword">private</span> String value1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>List返回entity类报错<br>在实体类中添加<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@JsonIgnoreProperties(value = &#123; &quot;hibernateLazyInitializer&quot;, &quot;handler&quot; &#125;)</span></span><br></pre></td></tr></table></figure>
在此标记不生成json对象的属性</li>
</ol>
<p>因为jsonplugin用的是java的内审机制.hibernate会给被管理的pojo加入一个hibernateLazyInitializer属性,jsonplugin会把hibernateLazyInitializer也拿出来操作,并读取里面一个不能被反射操作的属性就产生了这个异常.<br>5. 关于自动添加创建时间和最后修改时间</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Table(name = &quot;sys_service&quot;)</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@EntityListeners(AuditingEntityListener.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysService</span> <span class="keyword">extends</span> <span class="title class_">ImprovedNamingStrategy</span> &#123;</span><br><span class="line">    <span class="meta">@GeneratedValue(strategy= GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="comment">// 创建时间</span></span><br><span class="line">    <span class="meta">@CreatedDate</span></span><br><span class="line">    <span class="meta">@Column(name = &quot;createTime&quot;,updatable = false,nullable = false)</span></span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line">    <span class="comment">//最后修改时间</span></span><br><span class="line">    <span class="meta">@LastModifiedDate</span></span><br><span class="line">    <span class="meta">@Column(name = &quot;updateTime&quot;,nullable = false)</span></span><br><span class="line">    <span class="keyword">private</span> Date updateTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在启动类中</span></span><br><span class="line"><span class="meta">@EnableJpaAuditing</span></span><br><span class="line"><span class="comment">// 在Model中用Date类型接受</span></span><br></pre></td></tr></table></figure>
<p>注:时区问题<br>我们这里的时间是 UTC+8 即东八区时间,观察到数据入库之后,时间都为 UTC 时间.<br>解决方法:</p>
<p>数据库连接添加时区指定: &amp;serverTimezone=Hongkong<br>上面的配置是解决问题的根本方法,以下是一些设置时区的配置</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">jackson:</span></span><br><span class="line">    <span class="attr">time-zone:</span> <span class="string">Hongkong</span> <span class="comment">#jackson时区配置</span></span><br><span class="line">    <span class="attr">date-format:</span> <span class="string">yyyy-MM-dd</span> <span class="string">HH:mm:ss</span>  <span class="comment"># 格式化返回时间</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">properties:</span></span><br><span class="line">      <span class="attr">hibernate:</span></span><br><span class="line">        <span class="attr">jdbc:</span></span><br><span class="line">          <span class="attr">time_zone:</span> <span class="string">Hongkong</span> <span class="comment">#Hibernate时区配置</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>毕业设计</tag>
        <tag>Java</tag>
        <tag>SpringDataJpa</tag>
      </tags>
  </entry>
  <entry>
    <title>毕业设计中springboot的使用</title>
    <url>/2020/04/12/</url>
    <content><![CDATA[<p><a href="https://github.com/Zooeeee/Online_exam">项目地址</a></p>
<h4 id="基本的项目结构-限于我当前的理解"><a href="#基本的项目结构-限于我当前的理解" class="headerlink" title="基本的项目结构(限于我当前的理解)"></a>基本的项目结构(限于我当前的理解)</h4><p>1111111</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11628766-0acc059ee71b8c30.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="基本的项目结构"></p>
<p>333333333333333</p>
<img src="https://upload-images.jianshu.io/upload_images/11628766-0acc059ee71b8c30.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/>

<ul>
<li>config 用于放置其他框架的配置java文件,例如我此处放置了jackson的配置,使得前台返回的null值会自动转换成空字符串</li>
<li>controller 用于放置控制类,MVC结构中C的功能,用于分发路由,接受参数,返回数据</li>
<li>Dao 用于放置数据访问对象,直接访问数据层</li>
<li>jsonBean 由于我这里使用的是springboot默认的jackson框架,当前端发送一个json消息时,要通过对应的jsonBean对象才能在controller中接受消息</li>
<li>model 实体类,MVC中的M,此处我用的是springdata jpa,底层是用hibernate实现,所以此处其实是数据库中表在java中的映射</li>
<li>service 服务类,dao类实现基础的crud , service是dao与controller之间的一个类,用于对dao进行更符合要求的封装</li>
<li>utils 工具类,这里我放置了token生成的工具类</li>
<li>Vo 视图层,将数据库表中的字段转化成文字,类似于数据库中的视图</li>
<li>RunApp 启动类,放置在最外层,能够扫描到同级目录以及他们的子目录<h4 id="静态图片资源的非空才能生成target"><a href="#静态图片资源的非空才能生成target" class="headerlink" title="静态图片资源的非空才能生成target"></a>静态图片资源的非空才能生成target</h4>Spring Boot 对静态资源映射提供了默认配置<br>Spring Boot 默认将 /** 所有访问映射到以下目录<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">classpath:/static</span><br><span class="line">classpath:/public</span><br><span class="line">classpath:/resources</span><br><span class="line">classpath:/META-INF/resources</span><br></pre></td></tr></table></figure>
<img src="https://upload-images.jianshu.io/upload_images/11628766-fb635f16a3af9f5b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="resource"><img src="https://upload-images.jianshu.io/upload_images/11628766-0acc059ee71b8c30.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/>
要注意的是其实图片是存放在target中的,如果只是在src中新建一个空目录,是不会在target中有对应的目录的,需要的要么是在空目录中放置一个文件,要么是判断有无目录,然后生成
![target](https://upload-images.jianshu.io/upload_images/11628766-cbe209297668486a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
#### 一些基本的注释</li>
<li>@SpringBootApplication 启动类</li>
<li>@Service 服务类</li>
<li>@Autowrised 注入类,在要使用Dao与Service的类中使用</li>
<li>@RestController  标明该类是控制类,且能直接返回List,String,Map等数据类型</li>
<li>@RequestMapping  要配置 Web 请求的映射</li>
<li>@RunWith(SpringJUnit4ClassRunner.class)<br>@SpringBootTest  测试类注解<h4 id="contoller类接受复杂json数据需要相应的jsonBean，并且加上-RequestBody注释参数"><a href="#contoller类接受复杂json数据需要相应的jsonBean，并且加上-RequestBody注释参数" class="headerlink" title="contoller类接受复杂json数据需要相应的jsonBean，并且加上@RequestBody注释参数"></a>contoller类接受复杂json数据需要相应的jsonBean，并且加上@RequestBody注释参数</h4>这样才能接受Json类型的数据<h4 id="一些lombok的常用注释"><a href="#一些lombok的常用注释" class="headerlink" title="一些lombok的常用注释"></a>一些lombok的常用注释</h4></li>
<li>Data：作用于类上，是以下注解的集合：@ToString @EqualsAndHashCode @Getter @Setter @RequiredArgsConstructor</li>
<li>@Cleanup：自动关闭资源，针对实现了java.io.Closeable接口的对象有效，如：典型的IO流对象</li>
<li>@AllArgsConstructor：生成全参构造器</li>
<li>@NoArgsConstructor：生成无参构造器；</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>毕业设计</tag>
        <tag>Java</tag>
        <tag>Springboot</tag>
      </tags>
  </entry>
  <entry>
    <title>200420一些基础知识2</title>
    <url>/2020/04/20/</url>
    <content><![CDATA[<h4 id="触发BFC规范-让具备BFC特性的容器看作一个独立的容器-容器里的元素不会影响外面的元素"><a href="#触发BFC规范-让具备BFC特性的容器看作一个独立的容器-容器里的元素不会影响外面的元素" class="headerlink" title="触发BFC规范(让具备BFC特性的容器看作一个独立的容器,容器里的元素不会影响外面的元素)"></a>触发BFC规范(让具备BFC特性的容器看作一个独立的容器,容器里的元素不会影响外面的元素)</h4><ul>
<li>浮动元素(float除了none以外的值)</li>
<li>绝对定位元素 position(absolute,flex)</li>
<li>display为inline-block,table-cells,flex</li>
<li>overflow除了visible以外的值(hidden,auto,scroll)</li>
</ul>
<p><strong>可以解决的问题</strong></p>
<ul>
<li>解决margin叠加问题</li>
<li>解决margin传递问题</li>
<li>解决浮动问题</li>
<li>解决覆盖问题   <span id="more"></span>  
<h4 id="浏览器前缀"><a href="#浏览器前缀" class="headerlink" title="浏览器前缀"></a>浏览器前缀</h4></li>
<li><em>CSS3去兼容不同的浏览器,针对旧的浏览器做兼容,新浏览器基本不用添加前缀</em>*    </li>
</ul>
<table>
<thead>
<tr>
<th align="center">浏览器</th>
<th align="center">内核</th>
<th align="center">前缀</th>
</tr>
</thead>
<tbody><tr>
<td align="center">IE</td>
<td align="center">Trident</td>
<td align="center">-ms-</td>
</tr>
<tr>
<td align="center">Firefox</td>
<td align="center">Gecko</td>
<td align="center">-moz-</td>
</tr>
<tr>
<td align="center">Opera</td>
<td align="center">Presto</td>
<td align="center">-o-</td>
</tr>
<tr>
<td align="center">Chrome</td>
<td align="center">Webkit</td>
<td align="center">-webkit-</td>
</tr>
<tr>
<td align="center">Safari</td>
<td align="center">Webkit</td>
<td align="center">-webkit-</td>
</tr>
<tr>
<td align="center">Chrome,Safari</td>
<td align="center">Blink</td>
<td align="center"></td>
</tr>
</tbody></table>
<h4 id="transition-过渡"><a href="#transition-过渡" class="headerlink" title="transition 过渡"></a>transition 过渡</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//过渡的属性,持续时间,延迟时间,过渡方式</span><br><span class="line"><span class="attribute">transition-property</span>: all;   </span><br><span class="line"><span class="attribute">transition-duration</span>: <span class="number">2s</span>;</span><br><span class="line"><span class="attribute">transition-delay</span>: <span class="number">1s</span>;</span><br><span class="line"><span class="attribute">transition-timing-function</span>: <span class="built_in">cubic-bezier</span>(<span class="number">0.075</span>, <span class="number">0.82</span>, <span class="number">0.165</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>** cubic-bezier.com中可以生成速率参数**<br>最好不要放到:hover中</p>
<h4 id="transform-变形"><a href="#transform-变形" class="headerlink" title="transform 变形"></a>transform 变形</h4><ul>
<li>translate 位移<ul>
<li>x,y是2d,z是3d</li>
</ul>
</li>
<li>scale 缩放<ul>
<li>x,y是2d,z是3d</li>
</ul>
</li>
<li>rotate 旋转<ul>
<li>x,y是3D,z是2D,因为是根据轴旋转</li>
<li>deg,角度单位. rad,弧度单位</li>
<li>rotate和rotateZ是等价关系</li>
</ul>
</li>
<li>skew 斜切<ul>
<li>只有xy,单位是角度</li>
</ul>
</li>
</ul>
<h4 id="transform注意事项"><a href="#transform注意事项" class="headerlink" title="transform注意事项"></a>transform注意事项</h4><ol>
<li>变形操作不会影响到其他元素</li>
<li>只能添加给块元素</li>
<li>复合写法,可以添加多个变形操作</li>
<li>transform-origin:基点  </li>
</ol>
<p><strong>执行时有顺序的,先做后面的,再做前面的</strong><br><em>translate会被scale,rotate,skew影响</em></p>
<h4 id="animation动画-关键帧"><a href="#animation动画-关键帧" class="headerlink" title="animation动画(关键帧)"></a>animation动画(关键帧)</h4><ul>
<li><p>animation-name  设置动画名字,于外面的@keyframes对应</p>
</li>
<li><p>animation-duration 动画持续时间</p>
</li>
<li><p>animation-delay 动画延迟时间</p>
</li>
<li><p>animation-iteration-count 动画重复次数,默认值是1,infinite 是无限</p>
</li>
<li><p>animation-timing-function 动画的运动形式</p>
</li>
<li><p>keyframes: from-&gt;0%,to-&gt;100%;</p>
</li>
<li><p>动画结束后会回到起始位置</p>
</li>
</ul>
<h4 id="实现loading效果"><a href="#实现loading效果" class="headerlink" title="实现loading效果"></a>实现loading效果</h4><p>主要思路</p>
<ol>
<li>做一个四个角有四个圆点的div</li>
<li>做第二个四个角有四个圆点的div</li>
<li>重合在一起,并且将第二个旋转45度</li>
<li>先给所有的点做出呼吸灯的效果</li>
<li>给八个点按照相同的时间间隔加上动画延迟<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span>&#123;<span class="attribute">width</span>: <span class="number">40px</span>;<span class="attribute">height</span>: <span class="number">40px</span>; <span class="attribute">position</span>: relative;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span>,<span class="selector-class">.loading</span> <span class="selector-class">.box2</span> &#123;<span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">height</span>: <span class="number">100%</span>; <span class="attribute">position</span>: absolute;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box2</span>&#123;<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">45deg</span>);&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-tag">div</span>,<span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-tag">div</span></span></span><br><span class="line"><span class="language-css">     &#123;<span class="attribute">width</span>: <span class="number">10px</span>;<span class="attribute">height</span>: <span class="number">10px</span>;<span class="attribute">background-color</span>: blue;<span class="attribute">border-radius</span>: <span class="number">50%</span>;<span class="attribute">animation</span>: loading <span class="number">1.4s</span> infinite linear &#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>), <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-css">     &#123;<span class="attribute">position</span>: absolute;<span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">top</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>), <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)</span></span><br><span class="line"><span class="language-css">     &#123;<span class="attribute">position</span>: absolute;<span class="attribute">right</span>: <span class="number">0</span>;<span class="attribute">top</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>), <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)</span></span><br><span class="line"><span class="language-css">     &#123;<span class="attribute">position</span>: absolute;<span class="attribute">right</span>: <span class="number">0</span>;<span class="attribute">bottom</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>), <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>)</span></span><br><span class="line"><span class="language-css">     &#123;<span class="attribute">position</span>: absolute;<span class="attribute">left</span>:<span class="number">0</span> ; <span class="attribute">bottom</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="keyword">@keyframes</span> loading &#123;</span></span><br><span class="line"><span class="language-css">       <span class="number">0%</span>&#123;<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);&#125;</span></span><br><span class="line"><span class="language-css">       <span class="number">50%</span>&#123;<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);&#125;</span></span><br><span class="line"><span class="language-css">       <span class="number">100%</span>&#123;<span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);&#125;</span></span><br><span class="line"><span class="language-css">     &#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)&#123;<span class="attribute">animation-delay</span>: <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)&#123;<span class="attribute">animation-delay</span>: .<span class="number">2s</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)&#123;<span class="attribute">animation-delay</span>: .<span class="number">4s</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)&#123;<span class="attribute">animation-delay</span>: .<span class="number">6s</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)&#123;<span class="attribute">animation-delay</span>: .<span class="number">8s</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)&#123;<span class="attribute">animation-delay</span>: <span class="number">1.0s</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box1</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>)&#123;<span class="attribute">animation-delay</span>: <span class="number">1.2s</span>;&#125;</span></span><br><span class="line"><span class="language-css">     <span class="selector-class">.loading</span> <span class="selector-class">.box2</span> <span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>)&#123;<span class="attribute">animation-delay</span>: <span class="number">1.4s</span>;&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="动画扩展语法"><a href="#动画扩展语法" class="headerlink" title="动画扩展语法"></a>动画扩展语法</h4><ul>
<li>animation-fill-mode :规定动画播放之前或之后,其动画效果是否可见<ul>
<li>none 默认值,在运动结束之后回到初始位置,在延迟效果下,让0%在延迟后生效</li>
<li>backwards , 在延迟的情况下,让0%在延迟前生效</li>
<li>forwards 在运动结束的之后,停到结束位置</li>
<li>both:同时生效</li>
</ul>
</li>
<li>animation-direction :属性定义是否应该轮流反向播放动画<ul>
<li>alternate: 一次正向(0%-100%),一次反向(100%-0%)</li>
<li>reserve: 永远反向(100%-0%)</li>
<li>normal: 默认值,永远正向(0%-100%)</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200421flex布局</title>
    <url>/2020/04/21/</url>
    <content><![CDATA[<p><strong>目前,得到所有浏览器的支持</strong></p>
<table>
<thead>
<tr>
<th align="left">作用在flex容器上</th>
<th align="left">作用在flex子项上</th>
</tr>
</thead>
<tbody><tr>
<td align="left">flex-direction</td>
<td align="left">order</td>
</tr>
<tr>
<td align="left">flex-wrap</td>
<td align="left">flex-grow</td>
</tr>
<tr>
<td align="left">flex-flow</td>
<td align="left">flex-shrink</td>
</tr>
<tr>
<td align="left">justify-content</td>
<td align="left">flex-basis</td>
</tr>
<tr>
<td align="left">align-items</td>
<td align="left">flex</td>
</tr>
<tr>
<td align="left">align-content</td>
<td align="left">align-self</td>
</tr>
</tbody></table>
<h4 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h4><ul>
<li>nowrap  单行显示,不换行,默认值</li>
<li>wrap 宽度不足,换行显示</li>
<li>wrap-reverse 反向</li>
</ul>
<h4 id="justify-content-主轴方向上子项的对齐和分布方式"><a href="#justify-content-主轴方向上子项的对齐和分布方式" class="headerlink" title="justify-content  主轴方向上子项的对齐和分布方式"></a>justify-content  主轴方向上子项的对齐和分布方式</h4><ul>
<li>flex-start</li>
<li>flex-end</li>
<li>center</li>
<li>space-between 两端对齐</li>
<li>space-around   两边留白为中间留白的一半</li>
<li>space-evenly   两边留白=中间留白</li>
</ul>
<h4 id="align-items-侧轴上的对齐方式"><a href="#align-items-侧轴上的对齐方式" class="headerlink" title="align-items  侧轴上的对齐方式"></a>align-items  侧轴上的对齐方式</h4><ul>
<li>stretch 拉伸,默认</li>
<li>flex-start</li>
<li>flex-end</li>
<li>center</li>
</ul>
<h4 id="align-content-可以看成与justify-content相似且对立的属性-如果flex子项只有一行-则没有效果"><a href="#align-content-可以看成与justify-content相似且对立的属性-如果flex子项只有一行-则没有效果" class="headerlink" title="align-content 可以看成与justify-content相似且对立的属性,如果flex子项只有一行,则没有效果"></a>align-content 可以看成与justify-content相似且对立的属性,如果flex子项只有一行,则没有效果</h4><h4 id="设置在子项上的css属性"><a href="#设置在子项上的css属性" class="headerlink" title="设置在子项上的css属性"></a>设置在子项上的css属性</h4><ul>
<li>order 可以通过设置,改变某一个子项的排序位置,所有子项的默认order都是0 </li>
<li>flex-grow  扩展的意思,扩展的就是flex子项所占据的宽度,扩展所侵占的空间就是除去元素外的剩余的空白间隙,默认0,置为1就沾满剩余空间的100%,剩余的综合空间是1</li>
<li>flex-shrink 收缩的意思,主要处理当flex空间不足时,单个元素的收缩比例,默认是1</li>
<li>flex-basis 在分配剩余空间之前,元素的默认大小</li>
<li>align-self 针对某一个子项在垂直轴上的对齐方式</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>flex</tag>
      </tags>
  </entry>
  <entry>
    <title>200421grid布局</title>
    <url>/2020/04/21/</url>
    <content><![CDATA[<p><strong>是一个二维布局方法,纵横两个方向总是垂直存在</strong></p>
<table>
<thead>
<tr>
<th align="left">作用在grid容器上</th>
<th align="left">作用在grid子项上</th>
</tr>
</thead>
<tbody><tr>
<td align="left">grid-template-columns</td>
<td align="left">grid-column-strat</td>
</tr>
<tr>
<td align="left">grid-template-rows</td>
<td align="left">grid-column-end</td>
</tr>
<tr>
<td align="left">grid-template-areas</td>
<td align="left">grid-row-start</td>
</tr>
<tr>
<td align="left">grid-template</td>
<td align="left">grid-row-end</td>
</tr>
<tr>
<td align="left">grid-column-gap</td>
<td align="left">grid-column</td>
</tr>
<tr>
<td align="left">grid-row-gap</td>
<td align="left">grid-row</td>
</tr>
<tr>
<td align="left">grid-gap</td>
<td align="left">grid-area</td>
</tr>
<tr>
<td align="left">justify-items</td>
<td align="left">justify-self</td>
</tr>
<tr>
<td align="left">align-items</td>
<td align="left">align-self</td>
</tr>
<tr>
<td align="left">place-items</td>
<td align="left">place-self</td>
</tr>
<tr>
<td align="left">justify-content</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">align-content</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">place-content</td>
<td align="left"></td>
</tr>
</tbody></table>
<span id="more"></span>

<h4 id="grid-template-columns-和-grid-template-rows"><a href="#grid-template-columns-和-grid-template-rows" class="headerlink" title="grid-template-columns 和 grid-template-rows"></a>grid-template-columns 和 grid-template-rows</h4><ul>
<li>对网格进行纵横划分,形成二位布局,单位可以是像素,百分比,自适应,以及fr新单位(网格剩余空间比例单位)</li>
<li>有时候,我们对于网格的划分是很规律的,如果需要添加多个纵横网格时,可以利用repeat()写法进行简化操作<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grid-template-rows: repeat(3,1fr)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="grid-template-areas-就是给我们网格划分区域的-此时grid子项只要使用grid-area属性指定其隶属于那个区"><a href="#grid-template-areas-就是给我们网格划分区域的-此时grid子项只要使用grid-area属性指定其隶属于那个区" class="headerlink" title="grid-template-areas,就是给我们网格划分区域的,此时grid子项只要使用grid-area属性指定其隶属于那个区"></a>grid-template-areas,就是给我们网格划分区域的,此时grid子项只要使用grid-area属性指定其隶属于那个区</h4><p>其中a1,a2,a3的命名自定义,重点是一致性</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">   <span class="selector-class">.box</span>&#123;</span></span><br><span class="line"><span class="language-css">     <span class="attribute">width</span>: <span class="number">300px</span>;<span class="attribute">height</span>: <span class="number">300px</span>;<span class="attribute">border</span>: burlywood solid <span class="number">1px</span>;</span></span><br><span class="line"><span class="language-css">     <span class="attribute">display</span>: grid;<span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="number">3</span>,<span class="number">1</span>fr);<span class="attribute">grid-template-columns</span>:  <span class="number">1</span>fr  <span class="number">1</span>fr <span class="number">1</span>fr;</span></span><br><span class="line"><span class="language-css">     <span class="attribute">grid-template-areas</span>: </span></span><br><span class="line"><span class="language-css">     <span class="string">&quot;a1 a1 a1&quot;</span></span></span><br><span class="line"><span class="language-css">     <span class="string">&quot;a2 a2 a3&quot;</span></span></span><br><span class="line"><span class="language-css">     <span class="string">&quot;a2 a2 a3&quot;</span>;</span></span><br><span class="line"><span class="language-css">   &#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-class">.box</span> <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)&#123;<span class="attribute">grid-area</span>: a1;&#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-class">.box</span>  <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)&#123;<span class="attribute">grid-area</span>: a2;&#125;</span></span><br><span class="line"><span class="language-css">   <span class="selector-class">.box</span>  <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)&#123;<span class="attribute">grid-area</span>: a3;&#125;</span></span><br><span class="line"><span class="language-css"> </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="grid-template-复合写法-要注意只有常规的矩形-没有不规则图形"><a href="#grid-template-复合写法-要注意只有常规的矩形-没有不规则图形" class="headerlink" title="grid-template  复合写法,要注意只有常规的矩形,没有不规则图形"></a>grid-template  复合写法,要注意只有常规的矩形,没有不规则图形</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;<span class="attribute">height</span>: <span class="number">300px</span>;<span class="attribute">border</span>: burlywood solid <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template</span>: </span><br><span class="line">    <span class="string">&quot;a1 a1 a1&quot;</span> <span class="number">1</span>fr</span><br><span class="line">    <span class="string">&quot;a2 a2 a3&quot;</span> <span class="number">1</span>fr</span><br><span class="line">    <span class="string">&quot;a2 a2 a3&quot;</span> <span class="number">1</span>fr</span><br><span class="line">    /<span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="grid-column-gap和grid-row-gap"><a href="#grid-column-gap和grid-row-gap" class="headerlink" title="grid-column-gap和grid-row-gap"></a>grid-column-gap和grid-row-gap</h4><p>设置间隔大小</p>
<h4 id="justity-items和align-items"><a href="#justity-items和align-items" class="headerlink" title="justity-items和align-items"></a>justity-items和align-items</h4><ul>
<li>justity-items指定了网格元素的水平<strong>呈现</strong>方式,是水平拉伸,还是左中右对齐</li>
<li>items和align-items指定了网格元素的垂直<strong>呈现</strong>方式,是垂直拉伸,还是上中下对齐</li>
<li>place-items视为这两个属性的复合属性</li>
</ul>
<h4 id="justity-content和align-content"><a href="#justity-content和align-content" class="headerlink" title="justity-content和align-content"></a>justity-content和align-content</h4><ul>
<li>justity-items指定了网格元素的水平<strong>分布</strong>方式</li>
<li>items和align-items指定了网格元素的垂直<strong>分布</strong>方式</li>
<li><ul>
<li>place-content视为这两个属性的复合属性</li>
</ul>
</li>
</ul>
<h4 id="作用在grid子项的css属性"><a href="#作用在grid子项的css属性" class="headerlink" title="作用在grid子项的css属性"></a>作用在grid子项的css属性</h4><ul>
<li>grid-column-strat 水平方向上占据的起始位置</li>
<li>grid-column-end 水平方向上占据的结束位置</li>
<li>grid-row-start 水平垂直上占据的起始位置</li>
<li>grid-row-end 水平垂直上占据的结束位置</li>
<li>grid-column =  grid-column-strat + grid-column-end</li>
<li>grid-row =grid-row-start + grid-row-end</li>
<li>grid-area 当前网格所占用的区域,名字和位置两种表示方法</li>
<li>justify-self 单个网格元素的水平对齐方式</li>
<li>align-self 单个网格元素的垂直对齐方式</li>
<li>place-self =justify-self + align-self</li>
<li><em>前四个属性,用四条线确定一个区域</em>*</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>grid</tag>
      </tags>
  </entry>
  <entry>
    <title>200421一些基础知识3</title>
    <url>/2020/04/21/</url>
    <content><![CDATA[<h4 id="背景拓展"><a href="#背景拓展" class="headerlink" title="背景拓展"></a>背景拓展</h4><ul>
<li>background-size 背景图的尺寸大小<ul>
<li>cover 覆盖  填满</li>
<li>cotain 包含 等比例放大</li>
</ul>
</li>
<li>backgound-origin 背景图的填充位置<ul>
<li>padding-box  默认</li>
<li>border-box</li>
<li>content-box</li>
</ul>
</li>
<li>background-clip<ul>
<li>padding-box  </li>
<li>border-box 默认</li>
<li>content-box</li>
</ul>
</li>
</ul>
<span id="more"></span>
<h4 id="渐变"><a href="#渐变" class="headerlink" title="渐变"></a>渐变</h4><ul>
<li>linear-gradient 线性渐变 ,是一个值,需要添加到background-image属性上<ul>
<li>point||angle,渐变的0度在页面的下面,正值按顺时针,负值按逆时针</li>
<li>color</li>
<li>percentage</li>
</ul>
</li>
<li>radial-gradient 径向渐变,类似于圆的渐变<ul>
<li>point</li>
<li>color</li>
<li>percentage</li>
</ul>
</li>
</ul>
<h4 id="text-shadow-文字的阴影"><a href="#text-shadow-文字的阴影" class="headerlink" title="text-shadow 文字的阴影"></a>text-shadow 文字的阴影</h4><ul>
<li>x,y,blur,color:偏移x,偏移y,模糊程度,阴影颜色</li>
<li>阴影的颜色,默认是与原色相同</li>
<li>通过逗号的方式,设置多阴影</li>
</ul>
<h4 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h4><ul>
<li>x,y,blur,spread,color,inset,多阴影</li>
<li>偏移x,偏移y,模糊程度,阴影范围,阴影颜色,内侧还是外侧阴影</li>
<li>引用的默认值是黑色</li>
<li>默认就是外阴影,如果设置outset则无效,设置inset表示内阴影</li>
</ul>
<h4 id="mask-遮罩"><a href="#mask-遮罩" class="headerlink" title="mask 遮罩"></a>mask 遮罩</h4><ul>
<li>url,repeat,x,y,w,h,多遮罩</li>
<li>mask目前还没有标准化,所以使用的时候要加上浏览器前缀</li>
<li>默认是xy都平铺</li>
</ul>
<h4 id="倒影-box-reflect-mask目前还没有标准化-所以使用的时候要加上浏览器前缀"><a href="#倒影-box-reflect-mask目前还没有标准化-所以使用的时候要加上浏览器前缀" class="headerlink" title="倒影 box-reflect,mask目前还没有标准化,所以使用的时候要加上浏览器前缀"></a>倒影 box-reflect,mask目前还没有标准化,所以使用的时候要加上浏览器前缀</h4><ul>
<li>above 上</li>
<li>below 下</li>
<li>left 左</li>
<li>right 右</li>
<li>距离</li>
<li>遮罩|渐变</li>
<li>或者 scale=-1</li>
</ul>
<h4 id="blur-模糊"><a href="#blur-模糊" class="headerlink" title="blur 模糊"></a>blur 模糊</h4><ul>
<li>filter:blur()<h4 id="calc-计算"><a href="#calc-计算" class="headerlink" title="calc 计算"></a>calc 计算</h4><h4 id="分栏布局-类似于报纸的纵向排列"><a href="#分栏布局-类似于报纸的纵向排列" class="headerlink" title="分栏布局,类似于报纸的纵向排列"></a>分栏布局,类似于报纸的纵向排列</h4></li>
<li>column-count  分栏个数</li>
<li>column-width  分栏宽度</li>
<li>column-gap  分栏间距</li>
<li>column-rule  分栏边线</li>
<li>column-span  合并分栏</li>
<li>column-count 和 column-width 会冲突,最好只用一个</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200421一些基础知识4</title>
    <url>/2020/04/21/</url>
    <content><![CDATA[<h4 id="伪类和伪元素"><a href="#伪类和伪元素" class="headerlink" title="伪类和伪元素"></a>伪类和伪元素</h4><ul>
<li>css3中才开始明显区分,:是伪类,::是伪元素</li>
<li>伪类本质是为了弥补常规css选择器的不足,常用于获取不存在于DOM数的信息<ul>
<li>:hover</li>
<li>:empty</li>
<li>:focus</li>
</ul>
</li>
<li>伪元素本质上是创建了一个有内容的虚拟容器,这个容器不包含任何DOM元素,但是可以包含内容.另外,开发者可以用伪元素定制样式<ul>
<li>::selection</li>
<li>::first-line/first-letter</li>
<li>::before/after<span id="more"></span>
<h4 id="CSS-Hack"><a href="#CSS-Hack" class="headerlink" title="CSS Hack"></a>CSS Hack</h4></li>
</ul>
</li>
<li><em>CSSHack用来解决浏览器的兼容问题,为不同版本的浏览器定制编写不同的CSS效果,使用每个浏览器单独识别的样式代码,控制浏览器的使用样式</em>*</li>
</ul>
<ol>
<li>CSS属性前缀法<table>
<thead>
<tr>
<th align="left">前缀标志</th>
<th align="left">兼容浏览器</th>
<th align="left">位置</th>
</tr>
</thead>
<tbody><tr>
<td align="left">_</td>
<td align="left">IE6</td>
<td align="left">属性前</td>
</tr>
<tr>
<td align="left">+,*</td>
<td align="left">IE6,IE7</td>
<td align="left">属性前</td>
</tr>
<tr>
<td align="left">\9</td>
<td align="left">IE6,7,8,9</td>
<td align="left">值后</td>
</tr>
<tr>
<td align="left">_0</td>
<td align="left">IE8,9,10,11</td>
<td align="left">值后</td>
</tr>
</tbody></table>
</li>
<li>选择器前缀法<table>
<thead>
<tr>
<th align="left">前缀标志</th>
<th align="left">兼容浏览器</th>
</tr>
</thead>
<tbody><tr>
<td align="left">*html</td>
<td align="left">IE6</td>
</tr>
<tr>
<td align="left">*+html</td>
<td align="left">IE7</td>
</tr>
<tr>
<td align="left">:root</td>
<td align="left">IE9以上及现代浏览器</td>
</tr>
</tbody></table>
</li>
<li>IE条件注释法<table>
<thead>
<tr>
<th align="left">前缀标志</th>
<th align="left">兼容浏览器</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><!--[if IE]>...<![endif]--></td>
<td align="left">IE6</td>
</tr>
<tr>
<td align="left"><!--[if IE 7]>...<![endif]--></td>
<td align="left">IE7</td>
</tr>
<tr>
<td align="left"><!--[if lte IE 7 ]>...<![endif]--></td>
<td align="left">IE7及以下</td>
</tr>
<tr>
<td align="left"><!--[if ! IE 7 ]>...<![endif]--></td>
<td align="left">非IE7</td>
</tr>
</tbody></table>
</li>
</ol>
<h4 id="渐进增强和优雅降级"><a href="#渐进增强和优雅降级" class="headerlink" title="渐进增强和优雅降级"></a>渐进增强和优雅降级</h4><ul>
<li>渐进增强:针对低版本浏览器进行构建页面,保证最基本的功能,然后再针对高级浏览器进行效果,交互等改进和追加能达到更好的用户体验</li>
<li>优雅降级: 一开始就构建完整的功能,然后再针对低版本浏览器进行兼容</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200422CSS新特性</title>
    <url>/2020/04/22/</url>
    <content><![CDATA[<h4 id="自定义属性"><a href="#自定义属性" class="headerlink" title="自定义属性"></a>自定义属性</h4><p><strong>在所有现在浏览器下支持</strong><br>变量的使用遵循就近原则</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">  <span class="attr">--color</span>:red;</span><br><span class="line">  <span class="attr">--size</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--color);</span><br><span class="line">  <span class="comment">/*如果找的到第一个就用第一个,找不到就用第二个默认值*/</span></span><br><span class="line">  <span class="attribute">font-size</span> : <span class="built_in">var</span>(--size,<span class="number">50px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="shapes"><a href="#shapes" class="headerlink" title="shapes"></a>shapes</h4><p><strong>shapes布局可以实现不规则的文字环绕效果,需要和浮动配合使用</strong></p>
<ul>
<li>shape-outside  规定环绕盒模型中的哪个部分 margin,border,padding </li>
<li>clip-path  自定义div的形状</li>
<li>sharp-margin 环绕文字与div的间隔<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#parent</span>&#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border</span>:<span class="number">1px</span> solid ;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">       &#125;</span></span><br><span class="line"><span class="language-css">       <span class="selector-id">#shape</span>&#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border</span>: <span class="number">10px</span> black solid;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">shape-outside</span>: margin-box;</span></span><br><span class="line"><span class="language-css">       &#125;</span></span><br><span class="line"><span class="language-css">   </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;shape&quot;</span>&gt;</span>aaaaaaaaa<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       aaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">       aaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">       aaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">       aaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">       aaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">       aaaaaaaaaaaaaaaaaaaaaaaa</span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="scrollbar"><a href="#scrollbar" class="headerlink" title="scrollbar"></a>scrollbar</h4><p><strong>用于实现自定义滚动条(伪元素)</strong></p>
<ul>
<li>::webkit-scrollbar  width控制高度滚动条,height控制宽度滚动条</li>
<li>::webkit-scrollbar-thumb  拖拽块的样式</li>
<li>::webkit-scrollbar-track  容器的样式<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*页面整体滚动条*/</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3000px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>::-webkit-scrollbar-thumb  &#123;</span><br><span class="line">    <span class="attribute">background-color</span>:yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span>::-webkit-scrollbar-track &#123;</span><br><span class="line">    <span class="attribute">background-color</span> :<span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="scrollsnap"><a href="#scrollsnap" class="headerlink" title="scrollsnap"></a>scrollsnap</h4><p><strong>滚动捕捉,允许你在滚动后完成滚动后多锁定特定的元素或者位置,类似于吸附效果</strong></p>
<ul>
<li>scroll-snap-type<ul>
<li>x  轴</li>
<li>mandatory  强制</li>
</ul>
</li>
<li>scroll-snap-align<ul>
<li>start  左对齐</li>
<li>center 中对齐</li>
<li>end 右对齐</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200422CSS架构</title>
    <url>/2020/04/22/</url>
    <content><![CDATA[<p><strong>主要解决css工程中的规范化,模块化开发问题,一般用sass或者less</strong></p>
<h4 id="css目录结构"><a href="#css目录结构" class="headerlink" title="css目录结构"></a>css目录结构</h4><table>
<thead>
<tr>
<th align="left">文件夹</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">base</td>
<td align="left">一些通用的css,如重置默认样式,动画,工具,打印等</td>
</tr>
<tr>
<td align="left">components</td>
<td align="left">用于构建页面所需要的所有组件,如按钮,表单,表格,弹窗等</td>
</tr>
<tr>
<td align="left">layout</td>
<td align="left">用于布局页面的不同部分,如页眉,页脚,弹性布局,网格布局</td>
</tr>
<tr>
<td align="left">pages</td>
<td align="left">放置页面之间不同的样式,如首页特殊样式,列表页特殊样式</td>
</tr>
<tr>
<td align="left">themes</td>
<td align="left">应用不同的主题样式,如:管理员,卖家,买家</td>
</tr>
<tr>
<td align="left">abstracts</td>
<td align="left">放一些如:函数,变量,响应式等辅助开发部分</td>
</tr>
<tr>
<td align="left">venders</td>
<td align="left">放置一些独立的第三方css文件,如bootstrap,iconfont</td>
</tr>
<tr>
<td align="left">然后放置一个main.css 引入上述文件</td>
<td align="left"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200422PostCSS</title>
    <url>/2020/04/22/</url>
    <content><![CDATA[<p><strong>PostCSS本身是一个功能比较单一的工具.它提供了一种方式用js代码来处理css.利用postCSS可以实现一些工程化的操作,如:自动添加浏览器前缀,代码合并,代码压缩等</strong></p>
<h4 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h4><p>npm install  postcss-cli  -g</p>
<h4 id="常用命令-o-w"><a href="#常用命令-o-w" class="headerlink" title="常用命令-o -w"></a>常用命令-o -w</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">postcss src/demo.css -o dist/demo.css -w</span><br></pre></td></tr></table></figure>
<ul>
<li>-o指定输出文件</li>
<li>-w 使用观察者模式,热编译 </li>
<li>在src目录下创建 postcss.config.js配置文件,类似webpack</li>
</ul>
<h4 id="autoprefixer"><a href="#autoprefixer" class="headerlink" title="autoprefixer"></a>autoprefixer</h4><p><strong>为css属性添加浏览器前缀</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 配置文件</span></span><br><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    plugins : [</span><br><span class="line">        <span class="title function_">autoprefixer</span>(&#123;</span><br><span class="line">            browsers : [<span class="string">&#x27;&gt; 0%&#x27;</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">&#125;</span><br><span class="line">//编译后</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">       -moz-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">        -ms-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">         -o-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">            <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">3deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="postcss-import"><a href="#postcss-import" class="headerlink" title="postcss-import"></a>postcss-import</h4><p><strong>将源码中的@import的css文件合并成一个css文件</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pcImport = <span class="built_in">require</span>(<span class="string">&#x27;postcss-import&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    plugins : [</span><br><span class="line">        pcImport</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="cssnano"><a href="#cssnano" class="headerlink" title="cssnano"></a>cssnano</h4><p><strong>丑化css代码</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pcImport = <span class="built_in">require</span>(<span class="string">&#x27;cssnano&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    plugins : [</span><br><span class="line">       cssnano</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="css-next"><a href="#css-next" class="headerlink" title="css-next"></a>css-next</h4><p><strong>将最新的css语法翻译成支持老版本的语法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> cssnext = <span class="built_in">require</span>(<span class="string">&#x27;postcss-cssnext&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    plugins : [</span><br><span class="line">        cssnext</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">    <span class="attr">--color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--color);</span><br><span class="line">&#125;</span><br><span class="line">//output</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="stylelint"><a href="#stylelint" class="headerlink" title="stylelint"></a>stylelint</h4><p><strong>css语法检测</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> stylelint = <span class="built_in">require</span>(<span class="string">&#x27;stylelint&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    plugins : [</span><br><span class="line">        <span class="title function_">stylelint</span>(&#123;</span><br><span class="line">            <span class="string">&quot;rules&quot;</span>:&#123;</span><br><span class="line">                <span class="string">&quot;color-no-invalid-hex&quot;</span>:<span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:#ff;</span><br><span class="line">&#125;</span><br><span class="line">// <span class="number">2</span>:<span class="number">11</span>    ‼  Unexpected invalid hex color <span class="string">&quot;#ff&quot;</span> (color-no-invalid-hex) [stylelint]</span><br></pre></td></tr></table></figure>

<h4 id="postcss-sprites"><a href="#postcss-sprites" class="headerlink" title="postcss-sprites"></a>postcss-sprites</h4><p><strong>自动生成精灵图/雪碧图</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sprites = <span class="built_in">require</span>(<span class="string">&#x27;postcss-sprites&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    plugins : [</span><br><span class="line">        <span class="title function_">sprites</span>(&#123;</span><br><span class="line">            spritePath : <span class="string">&#x27;./dist&#x27;</span>  <span class="comment">//精灵图输出地址</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">./img/1.jpg</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">./img/2.jpg</span>);</span><br><span class="line">&#125;</span><br><span class="line">//output</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../dist/sprite.png</span>);</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">1920px</span> <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../dist/sprite.png</span>);</span><br><span class="line">    <span class="attribute">background-position</span>: -<span class="number">960px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">1920px</span> <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200422sass和less</title>
    <url>/2020/04/22/</url>
    <content><![CDATA[<h3 id="Sass和Less都属于css预处理器-css预处理器定义了一种新的语言-其基本思想是-用一种专门的编程语言-为css增加一些编程的特性-如变量-函数-语句-继承等-将css作为目标生成文件"><a href="#Sass和Less都属于css预处理器-css预处理器定义了一种新的语言-其基本思想是-用一种专门的编程语言-为css增加一些编程的特性-如变量-函数-语句-继承等-将css作为目标生成文件" class="headerlink" title="Sass和Less都属于css预处理器,css预处理器定义了一种新的语言,其基本思想是,用一种专门的编程语言,为css增加一些编程的特性,如变量,函数,语句,继承等,将css作为目标生成文件."></a>Sass和Less都属于css预处理器,css预处理器定义了一种新的语言,其基本思想是,用一种专门的编程语言,为css增加一些编程的特性,如变量,函数,语句,继承等,将css作为目标生成文件.</h3><p><strong>sass和scss都是sass的后缀,只是一个是老版本,一个是新版本</strong></p>
<span id="more"></span>
<h3 id="Less与Scss的使用与区别"><a href="#Less与Scss的使用与区别" class="headerlink" title="Less与Scss的使用与区别"></a>Less与Scss的使用与区别</h3><h4 id="注释-less与scss没区别"><a href="#注释-less与scss没区别" class="headerlink" title="注释 less与scss没区别"></a>注释 less与scss没区别</h4><p>单行注释,如// 是不会被编译的<br>多行注释(css原生注释)/**/,是会被编译的</p>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><h5 id="less-使用"><a href="#less-使用" class="headerlink" title="less 使用@"></a>less 使用@</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@number:</span><span class="number">123px</span>;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="variable">@number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// css中结果</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">123px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-使用"><a href="#scss-使用" class="headerlink" title="scss 使用$"></a>scss 使用$</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$number</span>:<span class="number">123px</span>;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">$number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css中结果</span></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">123px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h4><h5 id="less-使用-key"><a href="#less-使用-key" class="headerlink" title="less 使用@{key}"></a>less 使用@{key}</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@key:</span>margin;</span><br><span class="line"><span class="variable">@i:</span><span class="number">3</span>;</span><br><span class="line"><span class="selector-class">.box</span><span class="variable">@&#123;i&#125;</span>&#123;</span><br><span class="line">    @&#123;key&#125;:<span class="selector-tag">auto</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box3</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-使用-key"><a href="#scss-使用-key" class="headerlink" title="scss 使用 #{$key}"></a>scss 使用 #{$key}</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$key</span> : margin;</span><br><span class="line"><span class="variable">$i</span>:<span class="number">3</span>;</span><br><span class="line"><span class="selector-class">.box</span>#&#123;<span class="variable">$i</span>&#125;&#123;</span><br><span class="line">    #&#123;<span class="variable">$key</span>&#125;:auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box3</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><h5 id="less-作用域-就近原则-不在乎声明与使用的先后"><a href="#less-作用域-就近原则-不在乎声明与使用的先后" class="headerlink" title="less 作用域,就近原则,不在乎声明与使用的先后"></a>less 作用域,就近原则,不在乎声明与使用的先后</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@number:</span><span class="number">123px</span>;</span><br><span class="line"><span class="selector-class">.box4</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">@number</span>;</span><br><span class="line">    <span class="variable">@number:</span><span class="number">456px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box4</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">456px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">456px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-作用域-在乎使用的顺序"><a href="#scss-作用域-在乎使用的顺序" class="headerlink" title="scss 作用域,在乎使用的顺序"></a>scss 作用域,在乎使用的顺序</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$number</span>:<span class="number">123px</span>;</span><br><span class="line"><span class="selector-class">.box4</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">$number</span>;</span><br><span class="line">    <span class="variable">$number</span>:<span class="number">456px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$number</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box4</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">123px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">456px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="选择器嵌套-两者一样"><a href="#选择器嵌套-两者一样" class="headerlink" title="选择器嵌套 两者一样"></a>选择器嵌套 两者一样</h4><p><strong>值得注意的是,如果直接写:hover伪类,那么生成的将是含有空格的代码,意为所有后代,如果只要该类,则要加&amp;</strong></p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="selector-tag">li</span>&#123; <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">        <span class="selector-tag">div</span>&#123; <span class="attribute">color</span>: <span class="number">#fff</span>;&#125;;</span><br><span class="line">        <span class="selector-tag">p</span>&#123; <span class="attribute">color</span>: <span class="number">#fff</span>;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#909</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#909</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="属性嵌套-scss才有"><a href="#属性嵌套-scss才有" class="headerlink" title="属性嵌套(scss才有)"></a>属性嵌套(scss才有)</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">font</span> : &#123;</span><br><span class="line">        size:<span class="number">10px</span>;</span><br><span class="line">        family:宋体;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: 宋体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h4><h5 id="less"><a href="#less" class="headerlink" title="less"></a>less</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@num :</span> <span class="number">10px</span>;</span><br><span class="line"><span class="selector-class">.box6</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@num</span> * <span class="number">3</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#111</span> * <span class="number">2</span> ;</span><br><span class="line">    <span class="comment">// 以前一个单位作为最终单位</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="variable">@num</span> + <span class="number">10rem</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10rem</span> + <span class="variable">@num</span> ;</span><br><span class="line">    <span class="comment">//转义</span></span><br><span class="line">    <span class="attribute">padding </span>: <span class="number">20px</span> / <span class="number">5</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="string">~&quot;20px / 5&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box6</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#222222</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> / <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss"><a href="#scss" class="headerlink" title="scss"></a>scss</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$num</span> : <span class="number">10px</span>;</span><br><span class="line"><span class="selector-class">.box6</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">$num</span> * <span class="number">3</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#111</span> * <span class="number">2</span> ;</span><br><span class="line">    <span class="comment">// 不是相同的单位不能编译成功</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="variable">$num</span> + <span class="number">10px</span>;</span><br><span class="line">    <span class="comment">// 默认不识别/,如果需要运算,则要用()</span></span><br><span class="line">    <span class="attribute">padding</span> : <span class="number">20px</span> / <span class="number">5</span>;</span><br><span class="line">    <span class="attribute">padding</span>: (<span class="number">20px</span> / <span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box6</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#222222</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> / <span class="number">5</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="混入"><a href="#混入" class="headerlink" title="混入"></a>混入</h4><h5 id="less-没加括号的会编译进css文件-加括不编译进css且可以传参"><a href="#less-没加括号的会编译进css文件-加括不编译进css且可以传参" class="headerlink" title="less 没加括号的会编译进css文件,加括不编译进css且可以传参"></a>less 没加括号的会编译进css文件,加括不编译进css且可以传参</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.show</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.hide</span>(<span class="variable">@color</span>)&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box7</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="selector-class">.show</span>;</span><br><span class="line">    <span class="selector-class">.hide</span>(blue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.show</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box7</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-使用-mixin定义-include使用"><a href="#scss-使用-mixin定义-include使用" class="headerlink" title="scss 使用@mixin定义,@include使用"></a>scss 使用@mixin定义,@include使用</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> show&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@mixin</span> hide(<span class="variable">$color</span>)&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box7</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="keyword">@include</span> show;</span><br><span class="line">    <span class="keyword">@include</span> hide(blue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box7</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h4><h5 id="less-1"><a href="#less-1" class="headerlink" title="less"></a>less</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#namespace</span> &#123;</span><br><span class="line">    <span class="selector-class">.display</span>()&#123;</span><br><span class="line">        <span class="attribute">display</span>: inline;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box8</span>&#123;</span><br><span class="line">    <span class="selector-id">#namespace</span><span class="selector-class">.display</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box8</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-1"><a href="#scss-1" class="headerlink" title="scss"></a>scss</h5><p>暂无</p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><h5 id="less-不能去掉不需要的类-会在生成的css中还是含有-show"><a href="#less-不能去掉不需要的类-会在生成的css中还是含有-show" class="headerlink" title="less 不能去掉不需要的类,会在生成的css中还是含有.show"></a>less 不能去掉不需要的类,会在生成的css中还是含有.show</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.show</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box5</span>&#123;</span><br><span class="line">    <span class="selector-tag">&amp;</span>:<span class="selector-tag">extend</span>(.show);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box7</span>&#123;</span><br><span class="line">    <span class="selector-tag">&amp;</span>:<span class="selector-tag">extend</span>(.show);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.show</span>,</span><br><span class="line"><span class="selector-class">.box5</span>,</span><br><span class="line"><span class="selector-class">.box7</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-表示占位符-不在生成代码中编译"><a href="#scss-表示占位符-不在生成代码中编译" class="headerlink" title="scss %表示占位符,不在生成代码中编译"></a>scss %表示占位符,不在生成代码中编译</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line">%show&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box5</span>&#123;</span><br><span class="line">    <span class="keyword">@extend</span> %show;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box7</span>&#123;</span><br><span class="line">    <span class="keyword">@extend</span> %show;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box5</span>, <span class="selector-class">.box7</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h4><h5 id="less-2"><a href="#less-2" class="headerlink" title="less"></a>less</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box6</span>&#123;</span><br><span class="line">    <span class="comment">//逗号合并</span></span><br><span class="line">    <span class="selector-tag">background</span>+: <span class="selector-tag">url</span>(<span class="number">1</span>.png);</span><br><span class="line">    <span class="selector-tag">background</span>+: <span class="selector-tag">url</span>(<span class="number">2</span>.png);</span><br><span class="line">    <span class="comment">//空格合并</span></span><br><span class="line">    <span class="selector-tag">transform</span>+<span class="selector-tag">_</span>: <span class="selector-tag">rotate</span>(<span class="number">30deg</span>);</span><br><span class="line">    <span class="selector-tag">transform</span>+<span class="selector-tag">_</span>: <span class="selector-tag">scale</span>(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box6</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">1.png</span>), url(<span class="string">2.png</span>);</span><br><span class="line">  <span class="attribute">transform</span>: rotate(<span class="number">30deg</span>) scale(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-注意-链接和空格链接"><a href="#scss-注意-链接和空格链接" class="headerlink" title="scss 注意,链接和空格链接"></a>scss 注意,链接和空格链接</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$background</span> : (</span><br><span class="line">    a : url(a.png), </span><br><span class="line">    b : url(b.png) </span><br><span class="line">);</span><br><span class="line"><span class="variable">$transform</span> : (</span><br><span class="line">   a: rotate(<span class="number">30deg</span>),</span><br><span class="line">   b: scale(<span class="number">2</span>)</span><br><span class="line">);</span><br><span class="line"><span class="selector-class">.box8</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: map-values(<span class="variable">$background</span>);</span><br><span class="line">    <span class="attribute">transform</span>: zip(map-values(<span class="variable">$background</span>)...);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box8</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: map-values(<span class="variable">$background</span>);</span><br><span class="line">    <span class="attribute">transform</span>: zip(map-values(<span class="variable">$background</span>)...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="media"><a href="#media" class="headerlink" title="media"></a>media</h4><h5 id="less与scss一样"><a href="#less与scss一样" class="headerlink" title="less与scss一样"></a>less与scss一样</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box8</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="keyword">@media</span> screen &#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">600px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">@media</span> print&#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box8</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen &#123;</span><br><span class="line">  <span class="selector-class">.box8</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.box8</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h4><h5 id="less-3"><a href="#less-3" class="headerlink" title="less"></a>less</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@count :</span> <span class="number">5</span> ;</span><br><span class="line"><span class="selector-class">.get</span>(<span class="variable">@cn</span>) <span class="keyword">when</span>(<span class="variable">@cn</span>&gt;<span class="number">4</span>)&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@cn</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box11</span>&#123;</span><br><span class="line">    <span class="selector-class">.get</span>(<span class="variable">@count</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box11</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-2"><a href="#scss-2" class="headerlink" title="scss"></a>scss</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$count</span> : <span class="number">4</span> ;</span><br><span class="line"><span class="selector-class">.box11</span>&#123;</span><br><span class="line">    <span class="keyword">@if</span> (<span class="variable">$count</span> &gt; <span class="number">5</span>) &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span> + <span class="variable">$count</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">@else</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">50px</span> + <span class="variable">$count</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box11</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">54px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4><h5 id="less-通过递归-实现循环-比较麻烦-反向输出"><a href="#less-通过递归-实现循环-比较麻烦-反向输出" class="headerlink" title="less,通过递归,实现循环,比较麻烦,反向输出"></a>less,通过递归,实现循环,比较麻烦,反向输出</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@count2 :</span> <span class="number">0</span> ;</span><br><span class="line"><span class="selector-class">.get2</span>(<span class="variable">@cn</span>) <span class="keyword">when</span>(<span class="variable">@cn</span> &lt; <span class="number">3</span> )&#123;</span><br><span class="line">    <span class="selector-class">.get2</span>(<span class="variable">@cn</span>+<span class="number">1</span>);</span><br><span class="line">    <span class="selector-class">.box-</span><span class="variable">@&#123;cn&#125;</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">100px</span>+<span class="variable">@cn</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.get2</span>(<span class="variable">@count2</span>);</span><br><span class="line"><span class="comment">//css  </span></span><br><span class="line"><span class="selector-class">.box-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">102px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">101px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box-0</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="scss-3"><a href="#scss-3" class="headerlink" title="scss"></a>scss</h5><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="variable">$count2</span> : <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">0</span> to <span class="number">3</span> &#123;</span><br><span class="line">    <span class="selector-class">.box</span>#&#123;<span class="variable">$i</span>&#125;&#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span> + <span class="variable">$i</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//css</span></span><br><span class="line"><span class="selector-class">.box0</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">101px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">102px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="导入-二者相同"><a href="#导入-二者相同" class="headerlink" title="导入,二者相同"></a>导入,二者相同</h4><h5 id="less-4"><a href="#less-4" class="headerlink" title="less"></a>less</h5><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;xxxx.less&#x27;</span>;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;xxxx.scss&#x27;</span>;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title>200422移动端布局</title>
    <url>/2020/04/22/</url>
    <content><![CDATA[<p>大一点的网站都是分开开发移动端和PC端的<br><strong>后端检测设备-&gt;如果是PC端,则继续访问<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-&gt;如果是移动端,重定向到移动端路由</strong></p>
<span id="more"></span>
<h4 id="Viewport视口"><a href="#Viewport视口" class="headerlink" title="Viewport视口"></a>Viewport视口</h4><p>&emsp;在移动端viewport视口就是浏览器显示页面内容的屏幕区域.在viewport中有两种视口,分别表示为,visual viewport(可视视口)和layout viewport(布局视口)<br>&emsp;visual viewport固定大小和屏幕大小相同,在上面,而layout viewport可改变大小,在下面.Layout viewport默认大小为980像素,可通过document.documentElement.clientWidth获取<br>&emsp;<strong>现在网页制作需要将layout viewport设置成跟visual viewport相同大小,方便进行网页制作</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 宽度为设备宽度,初始缩放为1,不允许用户缩放 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0,user-scaleable=no&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="适配方案"><a href="#适配方案" class="headerlink" title="适配方案"></a>适配方案</h4><h4 id="百分比布局-也叫流式布局-好处是大屏幕下显示更多的内容-坏处是宽屏下比例会有一点不协调"><a href="#百分比布局-也叫流式布局-好处是大屏幕下显示更多的内容-坏处是宽屏下比例会有一点不协调" class="headerlink" title="百分比布局,也叫流式布局,好处是大屏幕下显示更多的内容,坏处是宽屏下比例会有一点不协调"></a>百分比布局,也叫流式布局,好处是大屏幕下显示更多的内容,坏处是宽屏下比例会有一点不协调</h4><ol>
<li>文字流式</li>
<li>控件弹性</li>
<li>图片等比缩放</li>
</ol>
<h4 id="等比缩放布局-也叫rem布局"><a href="#等比缩放布局-也叫rem布局" class="headerlink" title="等比缩放布局,也叫rem布局"></a>等比缩放布局,也叫rem布局</h4><ol>
<li>单位:em是一个相对单位,1em是当前元素或者是父元素的font-size值</li>
<li>rem 是一个相对单位,1rem等于根元素的font-size值</li>
<li>vw/vh把屏幕分成一百份,1vw等于屏幕宽的1%</li>
<li>原理是代码使用相同的rem尺寸,然后根据屏幕动态设置html标签下的font-size<h4 id="如何动态设置font-size"><a href="#如何动态设置font-size" class="headerlink" title="如何动态设置font-size"></a>如何动态设置font-size</h4></li>
<li>通过js<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 淘宝网在iphone6下font-size=100px;在plus下font-size为110.4</span></span><br><span class="line"><span class="comment">// iewport = document.documentElement.clientWidth</span></span><br><span class="line"><span class="comment">// iphone 6 = 375</span></span><br><span class="line"><span class="comment">// iphone 6 plus =  414</span></span><br><span class="line"><span class="comment">// iphone 6 : document.documentElement.clientWidth / 3.75 -&gt; 100</span></span><br><span class="line"><span class="comment">// iphone 6 plus : document.documentElement.clientWidth / 3.75 -&gt; 110.4</span></span><br><span class="line"><span class="comment">// 要得到100px 是因为根据设计稿的px换算时,100比较好算</span></span><br><span class="line"><span class="keyword">let</span> fontSize = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span> / <span class="number">3.75</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">fontSize</span> = fontSize + <span class="string">&#x27;px&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li>通过vm<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* vm 把屏幕分成100份,屏幕款=100vw</span></span><br><span class="line"><span class="comment">iphone 6  375px  1vw = 3.75px</span></span><br><span class="line"><span class="comment">iphone 6  plus 414px  1vw = 4.14px</span></span><br><span class="line"><span class="comment">如果在iphone6下想得到100px,该设置多少vw呢</span></span><br><span class="line"><span class="comment">100/3.75 = 26.6666667 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">26.666667vw</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li>注:要给body重置一下font-size</li>
</ol>
<h4 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h4><p>利用媒体查询,即media queries,可以针对不同的媒体类型定义不同的样式,从而实现响应式布局<br>|取值|含义|<br>|:–|:–|<br>|all|用于所有设备|<br>|print|用于打印机和打印浏览|<br>|screen|用于电脑屏幕,平板手机,智能手机等|<br>|speech|应用于屏幕阅读器等发声设备|</p>
<p>常见选项:</p>
<ul>
<li>媒体类型</li>
<li>and,not</li>
<li>min-width,max-width</li>
<li>orientation:portrait,orientation:landscape<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> all <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">500px</span>)&#123;</span><br><span class="line">  <span class="selector-id">#box</span>&#123;<span class="attribute">background</span>:<span class="number">#ccc</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>通过link标签<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">res</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;a.css&quot;</span> <span class="attr">media</span> = <span class="string">&quot;all and (min-width:500px)&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>常见的修改样式<ul>
<li>display</li>
<li>float</li>
<li>width</li>
<li>响应式代码写到要适配的css后面</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>css</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>flex</tag>
      </tags>
  </entry>
  <entry>
    <title>200424js的基本数据结构</title>
    <url>/2020/04/24/</url>
    <content><![CDATA[<h4 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h4><p><strong>栈是一个线性结构.</strong><br><strong>栈的特点是只能在某一端添加或者删除数据,遵循先进后出的原则</strong></p>
<span id="more"></span>
<p>由于每种数据结构可以用多种方式实现,此处我选择与栈相似的数组实现</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stack</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span> = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 入栈</span></span><br><span class="line">    <span class="title function_">push</span>(<span class="params">item</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="title function_">push</span>(item)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 出栈</span></span><br><span class="line">    <span class="title function_">pop</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="title function_">pop</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 最新数据</span></span><br><span class="line">    <span class="title function_">peek</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">stack</span>[<span class="variable language_">this</span>.<span class="title function_">getCount</span>() - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 获取数量</span></span><br><span class="line">    <span class="title function_">getCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">stack</span>.<span class="property">length</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 是否为空</span></span><br><span class="line">    <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">getCount</span>() === <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h4><p><strong>队列是一个线性结构.</strong><br><strong>队列是一个线性结构，特点是在某一端添加数据，在另一端删除数据，遵循先进先出的原则。</strong></p>
<h5 id="单链队列"><a href="#单链队列" class="headerlink" title="单链队列"></a>单链队列</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Queue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = []</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 进入队列</span></span><br><span class="line">  <span class="title function_">enQueue</span>(<span class="params">item</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">push</span>(item)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 出队列</span></span><br><span class="line">  <span class="title function_">deQueue</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">shift</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getHeader</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getLength</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">getLength</span>() === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="循环队列"><a href="#循环队列" class="headerlink" title="循环队列"></a>循环队列</h5><p><em>循环队列就是将队列存储空间的最后一个位置绕到第一个位置，形成逻辑上的环状空间，供队列循环使用。在循环队列结构中，当存储空间的最后一个位置已被使用而再要进入队运算时，只需要存储空间的第一个位置空闲，便可将元素加入到第一个位置，即将存储空间的第一个位置作为队尾。循环队列可以更简单防止伪溢出的发生，但队列大小是固定的。</em></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SqQueue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">length</span>) &#123;</span><br><span class="line">    <span class="comment">// 　令队列空间中的一个单元闲置，使得队列非空时，Q.rear与Q.front之间至少间隔一个空闲单位</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = <span class="keyword">new</span> <span class="title class_">Array</span>(length + <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// 队头</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">first</span> = <span class="number">0</span></span><br><span class="line">    <span class="comment">// 队尾</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">last</span> = <span class="number">0</span></span><br><span class="line">    <span class="comment">// 当前队列大小</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">enQueue</span>(<span class="params">item</span>) &#123;</span><br><span class="line">    <span class="comment">// 判断队尾 + 1 是否为队头</span></span><br><span class="line">    <span class="comment">// 如果是就代表需要扩容数组</span></span><br><span class="line">    <span class="comment">// % this.queue.length 是为了防止数组越界</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">first</span> === (<span class="variable language_">this</span>.<span class="property">last</span> + <span class="number">1</span>) % <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">resize</span>(<span class="variable language_">this</span>.<span class="title function_">getLength</span>() * <span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>[<span class="variable language_">this</span>.<span class="property">last</span>] = item</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span>++</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">last</span> = (<span class="variable language_">this</span>.<span class="property">last</span> + <span class="number">1</span>) % <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">deQueue</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">isEmpty</span>()) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;Queue is empty&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> r = <span class="variable language_">this</span>.<span class="property">queue</span>[<span class="variable language_">this</span>.<span class="property">first</span>]</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>[<span class="variable language_">this</span>.<span class="property">first</span>] = <span class="literal">null</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">first</span> = (<span class="variable language_">this</span>.<span class="property">first</span> + <span class="number">1</span>) % <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span>--</span><br><span class="line">    <span class="comment">// 判断当前队列大小是否过小</span></span><br><span class="line">    <span class="comment">// 为了保证不浪费空间，在队列空间等于总长度四分之一时</span></span><br><span class="line">    <span class="comment">// 且不为 2 时缩小总长度为当前的一半</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">size</span> === <span class="variable language_">this</span>.<span class="title function_">getLength</span>() / <span class="number">4</span> &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">getLength</span>() / <span class="number">2</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">resize</span>(<span class="variable language_">this</span>.<span class="title function_">getLength</span>() / <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getHeader</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">isEmpty</span>()) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;Queue is empty&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>[<span class="variable language_">this</span>.<span class="property">first</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getLength</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span> - <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">first</span> === <span class="variable language_">this</span>.<span class="property">last</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">resize</span>(<span class="params">length</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> q = <span class="keyword">new</span> <span class="title class_">Array</span>(length)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">      q[i] = <span class="variable language_">this</span>.<span class="property">queue</span>[(i + <span class="variable language_">this</span>.<span class="property">first</span>) % <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="property">length</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = q</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">first</span> = <span class="number">0</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">last</span> = <span class="variable language_">this</span>.<span class="property">size</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h4><p><strong>链表是一个线性结构，同时也是一个天然的递归结构。链表结构可以充分利用计算机内存空间，实现灵活的内存动态管理。但是链表失去了数组随机读取的优点，同时链表由于增加了结点的指针域，空间开销比较大。</strong></p>
<h5 id="单向链表"><a href="#单向链表" class="headerlink" title="单向链表"></a>单向链表</h5><p><strong>重点部分在于利用递归的那个find方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//重点</span></span><br><span class="line"><span class="comment">// index是传入的值,也就是要找的值,currentIndex是函数利用的值,从链表的头</span></span><br><span class="line"><span class="comment">// 遍历链表,直到链表中的指针===要找的指针,就是找到了这个node</span></span><br><span class="line"><span class="title function_">find</span>(<span class="params">header, index, currentIndex</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (index === currentIndex) <span class="keyword">return</span> header</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">find</span>(header.<span class="property">next</span>, index, currentIndex + <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">v, next</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = v</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">next</span> = next</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LinkList</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 链表长度</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="number">0</span></span><br><span class="line">    <span class="comment">// 虚拟头部</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">dummyNode</span> = <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// index是传入的值,也就是要找的值,currentIndex是函数利用的值,从链表的头</span></span><br><span class="line">  <span class="comment">// 遍历链表,直到链表中的指针===要找的指针,就是找到了这个node</span></span><br><span class="line">  <span class="title function_">find</span>(<span class="params">header, index, currentIndex</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (index === currentIndex) <span class="keyword">return</span> header</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">find</span>(header.<span class="property">next</span>, index, currentIndex + <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addNode</span>(<span class="params">v, index</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">checkIndex</span>(index)</span><br><span class="line">    <span class="comment">// 当往链表末尾插入时，prev.next 为空</span></span><br><span class="line">    <span class="comment">// 其他情况时，因为要插入节点，所以插入的节点</span></span><br><span class="line">    <span class="comment">// 的 next 应该是 prev.next</span></span><br><span class="line">    <span class="comment">// 然后设置 prev.next 为插入的节点</span></span><br><span class="line">    <span class="keyword">let</span> prev = <span class="variable language_">this</span>.<span class="title function_">find</span>(<span class="variable language_">this</span>.<span class="property">dummyNode</span>, index, <span class="number">0</span>)</span><br><span class="line">    prev.<span class="property">next</span> = <span class="keyword">new</span> <span class="title class_">Node</span>(v, prev.<span class="property">next</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span>++</span><br><span class="line">    <span class="keyword">return</span> prev.<span class="property">next</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">insertNode</span>(<span class="params">v, index</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">addNode</span>(v, index)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addToFirst</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">addNode</span>(v, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addToLast</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">addNode</span>(v, <span class="variable language_">this</span>.<span class="property">size</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">removeNode</span>(<span class="params">index, isLast</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">checkIndex</span>(index)</span><br><span class="line">    index = isLast ? index - <span class="number">1</span> : index</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="variable language_">this</span>.<span class="title function_">find</span>(<span class="variable language_">this</span>.<span class="property">dummyNode</span>, index, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">let</span> node = prev.<span class="property">next</span></span><br><span class="line">    prev.<span class="property">next</span> = node.<span class="property">next</span></span><br><span class="line">    node.<span class="property">next</span> = <span class="literal">null</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span>--</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">removeFirstNode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">removeNode</span>(<span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">removeLastNode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">removeNode</span>(<span class="variable language_">this</span>.<span class="property">size</span>, <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">checkIndex</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="variable language_">this</span>.<span class="property">size</span>) <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;Index error&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getNode</span>(<span class="params">index</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">checkIndex</span>(index)</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">isEmpty</span>()) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">find</span>(<span class="variable language_">this</span>.<span class="property">dummyNode</span>, index, <span class="number">0</span>).<span class="property">next</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">size</span> === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getSize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">size</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="树"><a href="#树" class="headerlink" title="树"></a>树</h4><h5 id="二叉搜索树"><a href="#二叉搜索树" class="headerlink" title="二叉搜索树"></a>二叉搜索树</h5><p><strong>二分搜索树也是二叉树，拥有二叉树的特性。但是区别在于二分搜索树每个节点的值都比他的左子树的值大，比右子树的值小。这种存储方式很适合于数据搜索。如下图所示，当需要查找的时候，因为需要查找的值比根节点的值大，所以只需要在根节点的右子树上寻找，大大提高了搜索效率。</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">value</span> = value</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">left</span> = <span class="literal">null</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">right</span> = <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BST</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">root</span> = <span class="literal">null</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getSize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">size</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">size</span> === <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">addNode</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">root</span> = <span class="variable language_">this</span>.<span class="title function_">_addChild</span>(<span class="variable language_">this</span>.<span class="property">root</span>, v)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 添加节点时，需要比较添加的节点值和当前</span></span><br><span class="line">  <span class="comment">// 节点值的大小</span></span><br><span class="line">  <span class="comment">// 也是递归的思想,当添加的值 &lt; 节点值时,进入递归</span></span><br><span class="line">  <span class="comment">// 当递归到空值时,插入</span></span><br><span class="line">  <span class="title function_">_addChild</span>(<span class="params">node, v</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">size</span>++</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(v)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node.<span class="property">value</span> &gt; v) &#123;</span><br><span class="line">      node.<span class="property">left</span> = <span class="variable language_">this</span>.<span class="title function_">_addChild</span>(node.<span class="property">left</span>, v)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (node.<span class="property">value</span> &lt; v) &#123;</span><br><span class="line">      node.<span class="property">right</span> = <span class="variable language_">this</span>.<span class="title function_">_addChild</span>(node.<span class="property">right</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h5><ol>
<li>前序遍历  根-左-右</li>
<li>中序遍历  左-根-右</li>
<li>后序遍历  左-右-根<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 先序遍历可用于打印树的结构</span></span><br><span class="line"><span class="comment">// 先序遍历先访问根节点，然后访问左节点，最后访问右节点。</span></span><br><span class="line"><span class="title function_">preTraversal</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">_pre</span>(<span class="variable language_">this</span>.<span class="property">root</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">_pre</span>(<span class="params">node</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">value</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_pre</span>(node.<span class="property">left</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_pre</span>(node.<span class="property">right</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 中序遍历可用于排序</span></span><br><span class="line"><span class="comment">// 对于 BST 来说，中序遍历可以实现一次遍历就</span></span><br><span class="line"><span class="comment">// 得到有序的值</span></span><br><span class="line"><span class="comment">// 中序遍历表示先访问左节点，然后访问根节点，最后访问右节点。</span></span><br><span class="line"><span class="title function_">midTraversal</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">_mid</span>(<span class="variable language_">this</span>.<span class="property">root</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">_mid</span>(<span class="params">node</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_mid</span>(node.<span class="property">left</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">value</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_mid</span>(node.<span class="property">right</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 后序遍历可用于先操作子节点</span></span><br><span class="line"><span class="comment">// 再操作父节点的场景</span></span><br><span class="line"><span class="comment">// 后序遍历表示先访问左节点，然后访问右节点，最后访问根节点。</span></span><br><span class="line"><span class="title function_">backTraversal</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">_back</span>(<span class="variable language_">this</span>.<span class="property">root</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">_back</span>(<span class="params">node</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (node) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_back</span>(node.<span class="property">left</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_back</span>(node.<span class="property">right</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">value</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
        <tag>数据结构</tag>
      </tags>
  </entry>
  <entry>
    <title>200424一些面试题(阿里篇)</title>
    <url>/2020/04/24/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结(阿里篇)<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<h4 id="用js描述一棵树"><a href="#用js描述一棵树" class="headerlink" title="用js描述一棵树"></a>用js描述一棵树</h4><span id="more"></span>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 首先我们定义一个Node的构造函数</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Node</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">left</span> = <span class="literal">null</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">right</span> = <span class="literal">null</span>;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">data</span> = data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 二叉树的创建</span></span><br><span class="line"><span class="comment">  * 我们规定用数字0表示为空节点</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createTree</span> (data) &#123;</span><br><span class="line">  <span class="comment">// 取第一个值</span></span><br><span class="line">  <span class="keyword">let</span> dat = data.<span class="title function_">shift</span>();</span><br><span class="line">  <span class="keyword">let</span> p = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (dat != <span class="number">0</span>) &#123;</span><br><span class="line">    p = <span class="keyword">new</span> <span class="title class_">Node</span>(dat);</span><br><span class="line">    p.<span class="property">left</span> = <span class="title function_">createTree</span>(data);</span><br><span class="line">    p.<span class="property">right</span> = <span class="title function_">createTree</span>(data);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造一棵二叉树</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">root = <span class="title function_">createTree</span>(arr);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="非递归遍历树"><a href="#非递归遍历树" class="headerlink" title="非递归遍历树"></a>非递归遍历树</h4><p><a href="https://www.jianshu.com/p/3eee17f3c6f4">地址</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//  非递归前序遍历</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">prevTraverseUnRecursion</span> (root) &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = [],node = <span class="literal">null</span>;</span><br><span class="line">  <span class="comment">// 这里arr的第一个值就是root的根节点</span></span><br><span class="line">  <span class="comment">// unshift-数组的开头添加一个值,并返回长度</span></span><br><span class="line">  arr.<span class="title function_">unshift</span>(root);</span><br><span class="line">  <span class="keyword">while</span> (arr.<span class="property">length</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 删除第一个元素</span></span><br><span class="line">    node = arr.<span class="title function_">shift</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(node.<span class="property">data</span>);</span><br><span class="line">    <span class="comment">// 这里先加右边的是因为待会shift取第一个,与这里加的顺序是反的</span></span><br><span class="line">    <span class="keyword">if</span> (node.<span class="property">right</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">      arr.<span class="title function_">unshift</span>(node.<span class="property">right</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (node.<span class="property">left</span> !== <span class="literal">null</span>) &#123;</span><br><span class="line">      arr.<span class="title function_">unshift</span>(node.<span class="property">left</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="详述js-new操作"><a href="#详述js-new操作" class="headerlink" title="详述js new操作"></a>详述js new操作</h4><p>new操作符新建了一个空对象，这个对象原型指向构造函数的prototype，执行构造函数后返回这个对象</p>
<ol>
<li>创建一个空的对象</li>
<li>链接到原型</li>
<li>绑定this指向，执行构造函数</li>
<li>确保返回的是对象 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Func</span> = <span class="keyword">function</span> (<span class="params">name,age</span>) &#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">age</span> = age; </span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Func</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span>=<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyNew</span>(<span class="params">Func,...args</span>)&#123;</span><br><span class="line">    <span class="comment">// 新建一个原型为Func原型的对象</span></span><br><span class="line">    <span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Func</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">    <span class="comment">// 执行构造函数,利用apply改变this指针指向obj,返回一个值</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="title class_">Func</span>.<span class="title function_">apply</span>(obj,...args)</span><br><span class="line">    <span class="comment">// 若该值是对象,则返回,若不是,返回执行过构造函数的obj</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">typeof</span> result === <span class="string">&#x27;object&#x27;</span>) ? result : obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> child = <span class="title class_">MyNew</span>(<span class="title class_">Func</span>,[<span class="string">&#x27;zy&#x27;</span>,<span class="number">16</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child);</span><br><span class="line">child.<span class="title function_">sayName</span>() <span class="comment">//zy</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child <span class="keyword">instanceof</span>  <span class="title class_">Func</span>);   <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;name&#x27;</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;age&#x27;</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;sayName&#x27;</span>)); <span class="comment">//false 方法在原型中</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="方法调用模式this指向"><a href="#方法调用模式this指向" class="headerlink" title="方法调用模式this指向"></a>方法调用模式this指向</h4><p><strong>在js中，this的含义比较多，在不同的情况下，代表的意义也不一样。总的来说有以下四种含义：</strong></p>
<ol>
<li>纯粹的函数调用:在这种模式下，this代表全局对象Global。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span>=<span class="number">1</span>;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>();</span><br><span class="line"><span class="comment">//输出结果是1.</span></span><br></pre></td></tr></table></figure></li>
<li>作为对象方法的调用:函数还可以作为某个对象的方法调用，这时this就指这个上级对象。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">var</span> o=&#123;&#125;;</span><br><span class="line">    o.<span class="property">x</span>=<span class="number">1</span>;</span><br><span class="line">    o.<span class="property">m</span>=test;</span><br><span class="line">    o.<span class="title function_">m</span>();<span class="comment">//1</span></span><br></pre></td></tr></table></figure></li>
<li>作为构造函数调用:所谓构造函数，就是通过这个函数生成一个新对象。这时，this就是指这个新对象。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span> () &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span>=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o=<span class="keyword">new</span> <span class="title function_">test</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">//2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o.<span class="property">x</span>); <span class="comment">//1</span></span><br></pre></td></tr></table></figure></li>
<li>apply :  apply()是函数对象的一个方法，它的作用是改变函数的调用对象，它的第一个参数就表示改变后的调用这个函数的对象。因此，this指的就是这第一个参数。<br>apply()的参数为空时，默认调用全局对象。因此运行结果是0，证明this指的是全局对象。如果写成这样：<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 浏览器环境</span></span><br><span class="line"><span class="comment">// node下回找不到undefined</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o=&#123;&#125;;</span><br><span class="line">o.<span class="property">x</span>=<span class="number">1</span>;</span><br><span class="line">o.<span class="property">m</span>=test;</span><br><span class="line">o.<span class="property">m</span>.<span class="title function_">apply</span>();<span class="comment">//0</span></span><br><span class="line">o.<span class="property">m</span>.<span class="title function_">apply</span>(o);<span class="comment">//1</span></span><br><span class="line"><span class="comment">//证明这时this代表的是对象o。</span></span><br></pre></td></tr></table></figure>
<h4 id="什么是js闭包"><a href="#什么是js闭包" class="headerlink" title="什么是js闭包"></a>什么是js闭包</h4>闭包指的是：能够访问另一个函数作用域的变量的函数。<br>「函数」和「函数内部能访问到的变量」（也叫环境）的总和，就是一个闭包。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> inner = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        cosole.<span class="title function_">log</span>(a)</span><br><span class="line">    &#125;</span><br><span class="line">     retrun inner <span class="comment">//inner就是一个闭包函数，因为它能够访问到outer函数的作用域</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="如何跨域访问"><a href="#如何跨域访问" class="headerlink" title="如何跨域访问"></a>如何跨域访问</h4><p><strong>协议、域名、端口号都相同，只要有一个不相同，那么都是非同源。就连localhost=127.0.0.1 都不行</strong><br>限制情况:</p>
<ol>
<li>Cookie、LocalStorage 和 IndexDB 无法读取</li>
<li>DOM 和 Js对象无法获得</li>
<li>AJAX 请求不能发送<br>注意：对于像 img、iframe、script 等标签的 src 属性是特例，它们是可以访问非同源网站的资源的。</li>
</ol>
<p><em>这种标签是不会遇到’跨域’问题的，严格上来说，这不是跨域，跨域是指在脚本代码中向非同源域发送HTTP请求，这只是跨站资源请求</em></p>
<h5 id="jsonp方式"><a href="#jsonp方式" class="headerlink" title="jsonp方式"></a>jsonp方式</h5><p>jsonp跨域是JavaScript设计模式中的一种代理模式。在<strong>html页面中通过相应的标签从不同域名下加载静态资源文件是被浏览器允许的（从js中调用不行</strong>），所以我们可以通过这个“漏洞”来进行跨域。一般，我们可以动态的创建script标签，再去请求一个带参网址来实现跨域通信。局限是只能get请求。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//原生的实现方式</span></span><br><span class="line"><span class="keyword">var</span> ajax = <span class="keyword">function</span>(<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> callbackName = params.<span class="property">jsonp</span>;</span><br><span class="line">    <span class="variable language_">window</span>[callbackName] = <span class="keyword">function</span> (<span class="params">object</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;callback:&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(object);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">    script.<span class="title function_">setAttribute</span>(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;text/javascript&quot;</span>);</span><br><span class="line">    script.<span class="property">src</span> = params.<span class="property">url</span>+<span class="string">&#x27;?callback=&#x27;</span>+params.<span class="property">callback</span>;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    head.<span class="title function_">appendChild</span>(script);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="string">&quot;url&quot;</span>:<span class="string">&quot;http://localhost:3000/&quot;</span>,    <span class="comment">// 请求地址</span></span><br><span class="line">    <span class="string">&quot;callback&quot;</span>:<span class="string">&quot;success&quot;</span>,  <span class="comment">// 回调函数名为&quot;success&quot;，可以设置为合法的字符串</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//jquery实现方式</span></span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;http://www.xxx.com/login&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>:<span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    <span class="attr">dataType</span>:<span class="string">&#x27;jsonp&#x27;</span>,<span class="comment">//请求方式为jsonp</span></span><br><span class="line">    <span class="attr">jsonpCallback</span>:<span class="string">&#x27;callback&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">callback</span>(<span class="params">res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// express</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> data = &#123;</span><br><span class="line">        name : <span class="string">&#x27;zy&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    res.<span class="title function_">type</span>(<span class="string">&#x27;text/javascript&#x27;</span>)</span><br><span class="line">    <span class="comment">// 通过调用传过来的参数知道回调函数的名字,在发送请求让前端调用这个回调函数</span></span><br><span class="line">    res.<span class="title function_">send</span>(req.<span class="property">query</span>.<span class="property">callback</span>+<span class="string">&#x27;(&#x27;</span> +<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data)+<span class="string">&#x27;)&#x27;</span>) </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>特别注意的是，上面代码里传入的callback参数是服务器传回数据后需要调用的方法，上面代码中方法是callback();<br>服务器端传回的数据格式应该是<br>callback(数据)<br>另外有时会出现406错误，这时候就需要在响应头中添加Access-Control-Allow-Origin,值为<em>，表示的是允许所有域名访问。<br>response.setHeader(“Access-Control-Allow-Origin”, “</em>“);<br>Jsonp很好用对吧，但只能get请求。</p>
<h5 id="跨域资源共享CORS"><a href="#跨域资源共享CORS" class="headerlink" title="跨域资源共享CORS"></a>跨域资源共享CORS</h5><p>整个CORS通信过程，都是浏览器自动完成，不需要用户参与。对于开发者来说，CORS通信与同源的AJAX通信没有差别，代码完全一样。浏览器一旦发现AJAX请求跨源，就会自动添加一些附加的头信息，有时还会多出一次附加的请求，但用户不会有感觉。 因此，实现CORS通信的关键<strong>是服务器</strong>。主要分为简单请求和非简单请求<br><em>请求方式为HEAD、POST 或者 GET,http头信息不超出以下字段：</em>就是简单请求.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Accept、Accept-Language </span><br><span class="line">Content-Language</span><br><span class="line">Last-Event-ID</span><br><span class="line">Content-Type(限于三个值：application/x-www-form-urlencoded、multipart/form-data、text/plain)</span><br></pre></td></tr></table></figure>
<ol>
<li>简单请求<br>具体来说，就是在头信息之中，增加一个Origin字段。 下面是一个例子，浏览器发现这次跨源AJAX请求是简单请求，就自动在头信息之中，添加一个Origin字段。<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">GET /cors HTTP/1.1</span><br><span class="line">Origin: http://api.bob.com</span><br><span class="line">Host: api.alice.com</span><br><span class="line">Accept-Language: en-US</span><br><span class="line">Connection: keep-alive</span><br><span class="line">User-Agent: Mozilla/5.0</span><br></pre></td></tr></table></figure></li>
<li>非简单请求<br>非简单请求是那种对服务器有特殊要求的请求，比如请求方法是PUT或DELETE，或者Content-Type字段的类型是application/json。<br>非简单请求的CORS请求，会在正式通信之前，增加一次HTTP查询请求，称为”预检”请求（preflight）——浏览器先询问服务器，当前网页所在的域名是否在服务器的许可名单之中，以及可以使用哪些HTTP动词和头信息字段。只有得到肯定答复，浏览器才会发出正式的XMLHttpRequest请求，否则就报错。</li>
</ol>
<h5 id="nginx代理跨域"><a href="#nginx代理跨域" class="headerlink" title="nginx代理跨域"></a>nginx代理跨域</h5><p>跨域原理： 同源策略是浏览器的安全策略，不是HTTP协议的一部分。服务器端调用HTTP接口只是使用HTTP协议，不会执行JS脚本，不需要同源策略，也就不存在跨越问题。</p>
<p>实现思路：通过nginx配置一个代理服务器（域名与domain1相同，端口不同）做跳板机，反向代理访问domain2接口，并且可以顺便修改cookie中domain信息，方便当前域cookie写入，实现跨域登录。</p>
<h4 id="vue的父子组件之间如何通信"><a href="#vue的父子组件之间如何通信" class="headerlink" title="vue的父子组件之间如何通信"></a>vue的父子组件之间如何通信</h4><ol>
<li>父传子:<br>父组件:在template中使用子组件时,动态绑定一个属性,例如’:data = this.data’.<br>子组件:在script中使用props:[‘data’],来接受这个数据</li>
<li>子传父<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//子组件:</span><br><span class="line">&lt;input type=&quot;button&quot; @click = &quot;up()&quot;&gt;</span><br><span class="line">methods: &#123; up() &#123; this.$emit(&#x27;upup&#x27;,&#x27;hehe&#x27;); //主动触发upup方法，&#x27;hehe&#x27;为向父组件传递的数据 &#125; &#125; </span><br><span class="line">//父组件:</span><br><span class="line">&lt;div @upup = &quot;change(msg)&quot;&gt;</span><br><span class="line">methods: &#123; change(msg) &#123; this.msg = msg; &#125; &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="用css写无限循环动画"><a href="#用css写无限循环动画" class="headerlink" title="用css写无限循环动画"></a>用css写无限循环动画</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">//定义动画播放次数，infinite指定播放无限次数</span><br></pre></td></tr></table></figure>

<h4 id="如何响应式布局"><a href="#如何响应式布局" class="headerlink" title="如何响应式布局"></a>如何响应式布局</h4><ol>
<li>通过rem来实现响应式布局<ol>
<li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,user-scaleable=no&quot;&gt;</code>先设定布局视口</li>
<li>rem时根容器html的font-familiy大小,通常用vm设置<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* vm 把屏幕分成100份,屏幕款=100vw</span></span><br><span class="line"><span class="comment">iphone 6  375px  1vw = 3.75px</span></span><br><span class="line"><span class="comment">iphone 6  plus 414px  1vw = 4.14px</span></span><br><span class="line"><span class="comment">如果在iphone6下想得到100px,该设置多少vw呢</span></span><br><span class="line"><span class="comment">100/3.75 = 26.6666667 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">26.666667vw</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li>之后所有的单位从px转变为rem</li>
</ol>
</li>
<li>通过media查询实现响应式布局<ol>
<li><code>&lt;link res=&quot;stylesheet&quot; href=&quot;a.css&quot; media = &quot;all and (min-width:500px)&quot;&gt;</code></li>
<li><code> @media all and (min-width:500px)&#123;&#125;</code></li>
</ol>
</li>
</ol>
<h4 id="如何清除float"><a href="#如何清除float" class="headerlink" title="如何清除float"></a>如何清除float</h4><ol>
<li>空标签的clear<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.clear&#123;clear: both;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sienna&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;blue&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>父级div定义 overflow: auto/hidden<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.over-flow&#123; overflow: auto; zoom: 1;&#125;/*zoom1; 是在处理兼容性问题*/</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box over-flow&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sienna&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;blue&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>使用伪元素来清除浮动(:after,注意：作用于浮动元素的父亲）,原理其实还是空标签的clear<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">.clearfix:after&#123;</span><br><span class="line">    content:&quot;&quot;;/*设置内容为空*/</span><br><span class="line">    height:0;/*高度为0*/</span><br><span class="line">    line-height:0;/*行高为0*/</span><br><span class="line">    display:block;/*将文本转为块级元素*/</span><br><span class="line">    visibility:hidden;/*将元素隐藏*/</span><br><span class="line">    clear:both;/*清除浮动*/</span><br><span class="line">&#125;</span><br><span class="line">.clearfix&#123;</span><br><span class="line">    zoom:1;/*为了兼容IE*/</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box clearfix&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sienna&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;blue&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="手写jsonp"><a href="#手写jsonp" class="headerlink" title="手写jsonp"></a>手写jsonp</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ajax = <span class="keyword">function</span>(<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> callbackName = params.<span class="property">jsonp</span>;</span><br><span class="line">    <span class="variable language_">window</span>[callbackName] = <span class="keyword">function</span> (<span class="params">json</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;callback:&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(json);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">    script.<span class="title function_">setAttribute</span>(<span class="string">&quot;type&quot;</span>,<span class="string">&quot;text/javascript&quot;</span>);</span><br><span class="line">    script.<span class="property">src</span> = params.<span class="property">url</span>+params.<span class="property">jsonp</span>;</span><br><span class="line">    <span class="keyword">var</span> head = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    head.<span class="title function_">appendChild</span>(script);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="string">&quot;url&quot;</span>:<span class="string">&quot;/userInvite/saveLog.do?regKey=eUa%252Fv70AeBC2QolRKlUNJA%253D%253D&amp;refererUrl=www.baidu.com&amp;guid=&amp;callback=&quot;</span>,    <span class="comment">// 请求地址</span></span><br><span class="line">    <span class="string">&quot;jsonp&quot;</span>:<span class="string">&quot;success_jsonpCallback&quot;</span>,  <span class="comment">// 回调函数名为&quot;success_jsonpCallback&quot;，可以设置为合法的字符串</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="为什么禁止跨域"><a href="#为什么禁止跨域" class="headerlink" title="为什么禁止跨域"></a>为什么禁止跨域</h4><p>跨域的访问会带来许多安全性的问题，比如，cookie一般用于状态控制，常用于存储登录的信息，如果允许跨域访问，那么别的网站只需要一段脚本就可以获取你的cookie，从而冒充你的身份去登录网站，造成非常大的安全问题，因此，现代浏览器均推行同源策略。</p>
<h4 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h4><ul>
<li>物理层  线</li>
<li>数据链路  mac</li>
<li>网络层    ip</li>
<li>传输层   tcp udp</li>
<li>会话层   进程</li>
<li>表示层  :数据的表示 ,安全 ,压缩:jpeg,ASCII</li>
<li>应用层  :http</li>
</ul>
<h4 id="tcp三次握手-四次挥手"><a href="#tcp三次握手-四次挥手" class="headerlink" title="tcp三次握手 四次挥手"></a>tcp三次握手 四次挥手</h4><h5 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h5><ol>
<li>第一次握手：建立连接时，客户端发送syn包（syn=x）到服务器，并进入SYN_SENT状态，等待服务器确认；SYN：同步序列编号（Synchronize Sequence Numbers）。</li>
<li>第二次握手：服务器收到syn包，必须确认客户的SYN（ack=x+1），同时自己也发送一个SYN包（syn=y），即<strong>SYN+ACK</strong>包，此时服务器进入SYN_RECV状态；</li>
<li>第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=y+1），此包发送完毕，客户端和服务器进入ESTABLISHED（TCP连接成功）状态，完成三次握手。</li>
</ol>
<h5 id="四次挥手"><a href="#四次挥手" class="headerlink" title="四次挥手"></a>四次挥手</h5><ol>
<li>第一次挥手：客户端发出释放<strong>FIN=1</strong>，自己序列号seq=u，进入FIN-WAIT-1状态</li>
<li>第二次挥手：服务器收到客户端的后，发出<strong>ACK=1</strong>确认标志和客户端的确认号ack=u+1，自己的序列号seq=v，进入CLOSE-WAIT状态</li>
<li>第三次挥手：客户端收到服务器确认结果后，进入FIN-WAIT-2状态。此时服务器发送释放<strong>FIN=1信号</strong>，确认标志ACK=1，确认序号ack=u+1，自己序号seq=w，服务器进入LAST-ACK（最后确认态）</li>
<li>第四次挥手：客户端收到回复后，发送确认<strong>ACK=1</strong>，ack=w+1，自己的seq=u+1，客户端进入TIME-WAIT（时间等待）。客户端经过2个最长报文段寿命后，客户端CLOSE；服务器收到确认后，立刻进入CLOSE状态。</li>
</ol>
<h5 id="3和4的原因"><a href="#3和4的原因" class="headerlink" title="3和4的原因:"></a>3和4的原因:</h5><ul>
<li>三次握手时，服务器同时把ACK和SYN放在一起发送到了客户端那里</li>
<li>四次挥手时，当收到对方的 FIN 报文时，仅仅表示对方不再发送数据了但是还能接收数据，己方是否现在关闭发送数据通道，需要上层应用来决定，因此，己方 ACK 和 FIN 一般都会分开发送。</li>
</ul>
<h5 id="客户端最后还要等待2MSL？"><a href="#客户端最后还要等待2MSL？" class="headerlink" title="客户端最后还要等待2MSL？:"></a>客户端最后还要等待2MSL？:</h5><p>客户端需要保证最后一次发送的ACK报文到服务器，如果服务器未收到，可以请求客户端重发，这样客户端还有时间再发，重启2MSL计时。</p>
<h4 id="Timeout为何能在单线程的js里异步执行"><a href="#Timeout为何能在单线程的js里异步执行" class="headerlink" title="Timeout为何能在单线程的js里异步执行"></a>Timeout为何能在单线程的js里异步执行</h4><p>js代码执行遇到setTimeout(fn,millisec)时，会把fn这个函数放在任务队列中，当js引擎线程空闲时并达到millisec指定的时间时，才会把fn放到js引擎线程中执行。</p>
<p>除了放置异步任务的事件，”任务队列”还可以放置定时事件。<br>setTimeout()接受两个参数，第一个是回调函数，第二个是推迟执行的毫秒数。<br>需要注意的是，setTimeout()只是将事件插入了”任务队列”，必须等到当前代码（执行栈）执行完，主线程才会去执行它指定的回调函数。要是当前代码耗时很长，有可能要等很久，所以并没有办法保证，回调函数一定会在setTimeout()指定的时间执行。</p>
<p>综上所属<br>setTimeout是单线程，类似异步，但不是异步 。</p>
<h4 id="进程和线程的区别"><a href="#进程和线程的区别" class="headerlink" title="进程和线程的区别"></a>进程和线程的区别</h4><ol>
<li>根本区别：进程是<strong>操作系统资源分配</strong>的基本单位，而线程是<strong>任务调度和执行的</strong>基本单位</li>
<li>在开销方面：每个进程都有独立的代码和数据空间（程序上下文），程序之间的切换会有较大的开销；线程可以看做轻量级的进程，同一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器（PC），线程之间切换的开销小。</li>
<li>所处环境：在操作系统中能同时运行多个进程（程序）；而在同一个进程（程序）中有多个线程同时执行（通过CPU调度，在每个时间片中只有一个线程执行）</li>
<li>内存分配方面：系统在运行的时候会为每个进程分配不同的内存空间；而对线程而言，除了CPU外，系统不会为线程分配内存（线程所使用的资源来自其所属进程的资源），线程组之间只能共享资源。</li>
<li>包含关系：没有线程的进程可以看做是单线程的，如果一个进程内有多个线程，则执行过程不是一条线的，而是多条线（线程）共同完成的；线程是进程的一部分，所以线程也被称为轻权进程或者轻量级进程。</li>
</ol>
<h4 id="写一个数字转中文的程序"><a href="#写一个数字转中文的程序" class="headerlink" title="写一个数字转中文的程序"></a>写一个数字转中文的程序</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">NoToChinese</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/^\d*(\.\d*)?$/</span>.<span class="title function_">test</span>(num)) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&#x27;Number is wrong!&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;Number is wrong!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">AA</span> = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&#x27;零&#x27;</span>, <span class="string">&#x27;壹&#x27;</span>, <span class="string">&#x27;贰&#x27;</span>, <span class="string">&#x27;叁&#x27;</span>, <span class="string">&#x27;肆&#x27;</span>, <span class="string">&#x27;伍&#x27;</span>, <span class="string">&#x27;陆&#x27;</span>, <span class="string">&#x27;柒&#x27;</span>, <span class="string">&#x27;捌&#x27;</span>, <span class="string">&#x27;玖&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">BB</span> = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;拾&#x27;</span>, <span class="string">&#x27;佰&#x27;</span>, <span class="string">&#x27;仟&#x27;</span>, <span class="string">&#x27;萬&#x27;</span>, <span class="string">&#x27;亿&#x27;</span>, <span class="string">&#x27;点&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> a = (<span class="string">&#x27;&#x27;</span> + num).<span class="title function_">replace</span>(<span class="regexp">/(^0*)/g</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>),</span><br><span class="line">    k = <span class="number">0</span>,</span><br><span class="line">    re = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = a[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">      <span class="keyword">switch</span> (k) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">          re = <span class="variable constant_">BB</span>[<span class="number">7</span>] + re;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">          <span class="keyword">if</span> (!<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;0&#123;4&#125;\\d&#123;&#x27;</span> + (a[<span class="number">0</span>].<span class="property">length</span> - i - <span class="number">1</span>) + <span class="string">&#x27;&#125;$&#x27;</span>).<span class="title function_">test</span>(a[<span class="number">0</span>]))</span><br><span class="line">          re = <span class="variable constant_">BB</span>[<span class="number">4</span>] + re;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">          re = <span class="variable constant_">BB</span>[<span class="number">5</span>] + re;</span><br><span class="line">          <span class="variable constant_">BB</span>[<span class="number">7</span>] = <span class="variable constant_">BB</span>[<span class="number">5</span>];</span><br><span class="line">          k = <span class="number">0</span>;</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (k % <span class="number">4</span> == <span class="number">2</span> &amp;&amp; a[<span class="number">0</span>].<span class="title function_">charAt</span>(i + <span class="number">2</span>) != <span class="number">0</span> &amp;&amp; a[<span class="number">0</span>].<span class="title function_">charAt</span>(i + <span class="number">1</span>) == <span class="number">0</span>) re = <span class="variable constant_">AA</span>[<span class="number">0</span>] + re;</span><br><span class="line">      <span class="keyword">if</span> (a[<span class="number">0</span>].<span class="title function_">charAt</span>(i) != <span class="number">0</span>) re = <span class="variable constant_">AA</span>[a[<span class="number">0</span>].<span class="title function_">charAt</span>(i)] + <span class="variable constant_">BB</span>[k % <span class="number">4</span>] + re;</span><br><span class="line">      k++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a.<span class="property">length</span> &gt; <span class="number">1</span>) <span class="comment">//加上小数部分(如果有小数部分) </span></span><br><span class="line">    &#123;</span><br><span class="line">      re += <span class="variable constant_">BB</span>[<span class="number">6</span>];</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a[<span class="number">1</span>].<span class="property">length</span>; i++) re += <span class="variable constant_">AA</span>[a[<span class="number">1</span>].<span class="title function_">charAt</span>(i)];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> re;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h4 id="js函数中如何绑定this到新对象上"><a href="#js函数中如何绑定this到新对象上" class="headerlink" title="js函数中如何绑定this到新对象上"></a>js函数中如何绑定this到新对象上</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Func</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> func=<span class="keyword">new</span> <span class="title class_">Func</span> ();</span><br><span class="line"><span class="comment">//1 创建一个空的对象</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="comment">//2 链接到原型</span></span><br><span class="line">obj.<span class="property">__proto__</span>= <span class="title class_">Func</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line"><span class="comment">//3 绑定this指向，执行构造函数</span></span><br><span class="line"><span class="keyword">var</span> result =<span class="title class_">Func</span>.<span class="title function_">call</span>(obj);</span><br><span class="line"><span class="comment">//4 判断Func的返回值类型：如果是值类型，返回obj。如果是引用类型，就返回这个引用类型的对象</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_">typeof</span>(result) == <span class="string">&quot;object&quot;</span>)&#123;</span><br><span class="line">  func=result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">  func=obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="bind和call有什么区别"><a href="#bind和call有什么区别" class="headerlink" title="bind和call有什么区别"></a>bind和call有什么区别</h4><ol>
<li>apply的用法可以表示如下：<br>A.apply(B, [x, y, z]);<br>此方法可以改变函数A的this指向，使之指向函数B。第二个参数传的是一个函数参数列表的数组形式。</li>
<li>call的用法和apply差不多，就只有传参方式不一样。类似于这样 :<br>A.call(B, x, y, z)<br>可以把多个参数分开来传，而不是像apply一样，需要把所有参数放到一个数组里边传进来。</li>
<li>bind的传参方式和call一样，只不过它的不同之处是，apply和call方法调用之后会立即执行，而bind方法调用之后会返回一个新的函数，它并不会立即执行，需要我们手动执行。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;佚名&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">20</span>;</span><br><span class="line"><span class="comment">//global.name</span></span><br><span class="line"><span class="comment">//global.age</span></span><br><span class="line"><span class="keyword">var</span> p1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="attr">func</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`姓名:<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>,年龄:<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p2 = &#123;</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&quot;李四&quot;</span>,</span><br><span class="line">	<span class="attr">age</span>: <span class="number">15</span></span><br><span class="line">&#125;</span><br><span class="line">p1.<span class="title function_">func</span>();  <span class="comment">//姓名:张三,年龄:12</span></span><br><span class="line">p1.<span class="property">func</span>.<span class="title function_">call</span>();  <span class="comment">//姓名:佚名,年龄:20</span></span><br><span class="line">p1.<span class="property">func</span>.<span class="title function_">apply</span>(p2);  <span class="comment">//姓名:李四,年龄:15</span></span><br><span class="line">p1.<span class="property">func</span>.<span class="title function_">bind</span>(p2)(); <span class="comment">//姓名:李四,年龄:15</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="手写快排"><a href="#手写快排" class="headerlink" title="手写快排"></a>手写快排</h4><ol>
<li>从数组中取出一个数作为基准(pivot)。</li>
<li>在原数组中进行移动，将大于基准的数放到基准右边，小于基准的数放到基准左边，在基准左右形成两个子数组。</li>
<li>在左右子数组中反复执行步骤1、2，直到所有子数组只剩下一个数。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">quickSort</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="comment">//如果数组&lt;=1,则直接返回</span></span><br><span class="line">    <span class="keyword">if</span>(arr.<span class="property">length</span>&lt;=<span class="number">1</span>)&#123;<span class="keyword">return</span> arr;&#125;</span><br><span class="line">    <span class="keyword">var</span> pivotIndex=<span class="title class_">Math</span>.<span class="title function_">floor</span>(arr.<span class="property">length</span>/<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//找基准，并把基准从原数组删除</span></span><br><span class="line">    <span class="keyword">var</span> pivot=arr.<span class="title function_">splice</span>(pivotIndex,<span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">//定义左右数组</span></span><br><span class="line">    <span class="keyword">var</span> left=[];</span><br><span class="line">    <span class="keyword">var</span> right=[];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//比基准小的放在left，比基准大的放在right</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;=pivot)&#123;</span><br><span class="line">            left.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            right.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//递归</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([pivot],<span class="title function_">quickSort</span>(right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="讲一下http状态码-其中303-304代表什么"><a href="#讲一下http状态码-其中303-304代表什么" class="headerlink" title="讲一下http状态码 其中303 304代表什么"></a>讲一下http状态码 其中303 304代表什么</h4><p>当浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含HTTP状态码的信息头（server header）用以响应浏览器的请求。<br>HTTP状态码的英文为HTTP Status Code。<br>开头信息分类</p>
<ol>
<li>信息，服务器收到请求，需要请求者继续执行操作</li>
<li>成功，操作被成功接收并处理</li>
<li>重定向，需要进一步的操作以完成请求</li>
<li>客户端错误，请求包含语法错误或无法完成请求</li>
<li>服务器错误，服务器在处理请求的过程中发生了错误</li>
</ol>
<p>303 找其他的<br>304 未修改,让客户端去找缓存文件</p>
<h5 id="常见的状态码"><a href="#常见的状态码" class="headerlink" title="常见的状态码"></a>常见的状态码</h5><ul>
<li>200 请求成功</li>
<li>202 请求被接受,但尚未完成处理,   阻塞等待</li>
<li>204 服务器端实现了请求,但是没有返回新的消息</li>
<li>301 请求到的资源都会重新分配一个永久的url,这样将来可以通过这个url来访问此资源</li>
<li>302 请求到的资源在一个不同的url处 临时保存</li>
<li>304 请求的资源未更新</li>
<li>400 非法请求,通用状态</li>
<li>401 未授权,未认证</li>
<li>403 请求正确,但是服务器因为一些情况 不做处理</li>
<li>404  找不到路径</li>
<li>405 客户端使用了本资源不支持的方法,如只支持put却用了post</li>
<li>409 你的操作会让服务器的资源处于一种不一致的状态,如重复的用户名</li>
<li>410 知道曾经存在,但现在不在了</li>
<li>500 服务器问题</li>
<li>501 服务器无法识别,服务器不支持当前请求所需要的某个功能</li>
<li>502 错误网关</li>
<li>503 服务器过载或者维护</li>
</ul>
<h4 id="死锁的原理和四要素"><a href="#死锁的原理和四要素" class="headerlink" title="死锁的原理和四要素"></a>死锁的原理和四要素</h4><p>原理:当一组进程中的每个进程都在等待某个事件发生，而只有这组进程中的其他进程才能触发该事件，这就称这组进程发生了死锁。<br>本质:系统资源有限,进程推进顺序不合理。<br>四要素:</p>
<ol>
<li>资源互斥 : 某种资源一次只允许一个进程访问，即该资源一旦分配给某个进程，其他进程就不能再访问，直到该进程访问结束。</li>
<li>占有且等待 : 一个进程本身占有资源（一种或多种），同时还有资源未得到满足，正在等待其他进程释放该资源。</li>
<li>不可抢占 : 别人已经占有了某项资源，你不能因为自己也需要该资源，就去把别人的资源抢过来。</li>
<li>循环等待 : 存在一个进程链，使得每个进程都占有下一个进程所需的至少一种资源。</li>
</ol>
<h4 id="cookie和session的区别"><a href="#cookie和session的区别" class="headerlink" title="cookie和session的区别"></a>cookie和session的区别</h4><ol>
<li>cookie数据存放在客户的浏览器上，session数据放在服务器上.客户端每次请求服务器的时候会发送 当前会话的session_id，服务器根据当前session_id判断相应的用户数据标志，以确定用户是否登录，或具有某种权限。</li>
<li>cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗考虑到安全应当使用session。</li>
<li>设置cookie时间可以使cookie过期。但是使用session-destory（），我们将会销毁会话。</li>
<li>session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能考虑到减轻服务器性能方面，应当使用cookie。</li>
<li>单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。(Session对象没有对存储的数据量的限制，其中可以保存更为复杂的数据类型)</li>
<li> 两者最大的区别在于生存周期，一个是IE启动到IE关闭.(浏览器页面一关 ,session就消失了)，一个是预先设置的生存周期，或永久的保存于本地的文件。(cookie)</li>
<li> Session信息是存放在server端，但session id是存放在client cookie的，当然php的session存放方法是多样化的，这样就算禁用cookie一样可以跟踪.Cookie是完全保持在客户端.<h4 id="同源的定义"><a href="#同源的定义" class="headerlink" title="同源的定义"></a>同源的定义</h4>如果两个 URL 的 protocol、port (如果有指定的话)和 host 都相同的话，则这两个 URL 是同源。</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200425Cookie和Session</title>
    <url>/2020/04/25/</url>
    <content><![CDATA[<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><blockquote>
<p>其实是一份小数据,是服务器给客户端的,并存储在客户端的一份小数据<br>自动登录,浏览记录,购物车</p>
</blockquote>
<h3 id="为什么要有这个cookie"><a href="#为什么要有这个cookie" class="headerlink" title="为什么要有这个cookie"></a>为什么要有这个cookie</h3><blockquote>
<p>http的协议是无状态的,客户端与服务器在通讯的时候是无状态的,其实就是客户端第二次来访的时候服务端根本就不知道这个客户端的记录.为了更好的用户体验,更好的交互,使用cookie.其实从公司层面想,就是需要更好的收集用户习惯</p>
</blockquote>
<h3 id="cookie有什么用"><a href="#cookie有什么用" class="headerlink" title="cookie有什么用"></a>cookie有什么用</h3><h3 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h3><ol>
<li>在响应的时候,添加cookie</li>
<li>客户端收到的信息里面,响应头的字段多了一个 cookie</li>
<li>当浏览器再请求该网站时，浏览器把请求的网址连同该Cookie一同提交给服务器。服务器检查该Cookie，以此来辨认用户状态。服务器还可以根据需要修改Cookie的内容。</li>
</ol>
<h3 id="Cookie具有不可跨域名性"><a href="#Cookie具有不可跨域名性" class="headerlink" title="Cookie具有不可跨域名性"></a>Cookie具有不可跨域名性</h3><blockquote>
<p>浏览器访问Google只会携带Google的Cookie，而不会携带Baidu的Cookie。Google也只能操作Google的Cookie，而不能操作Baidu的Cookie。</p>
</blockquote>
<h3 id="Cookie的修改、删除"><a href="#Cookie的修改、删除" class="headerlink" title="Cookie的修改、删除"></a>Cookie的修改、删除</h3><blockquote>
<p>Cookie并不提供修改、删除操作。如果要修改某个Cookie，只需要新建一个同名的Cookie，添加到response中覆盖原来的Cookie。</p>
</blockquote>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><blockquote>
<p>除了使用Cookie，Web应用程序中还经常使用Session来记录客户端状态。Session是服务器端使用的一种记录客户端状态的机制，使用上比Cookie简单一些，相应的也增加了服务器的存储压力。</p>
</blockquote>
<ol>
<li>如果说Cookie机制是通过检查客户身上的“通行证”来确定客户身份的话，那么Session机制就是通过检查服务器上的“客户明细表”来确认客户身份。Session相当于程序在服务器上建立的一份客户档案，客户来访的时候只需要查询客户档案表就可以了。</li>
<li>Session机制决定了当前客户只会获取到自己的Session，而不会获取到别人的Session。各客户的Session也彼此独立，互不可见。</li>
<li>Session的使用比Cookie方便，但是过多的Session存储在服务器内存中，会对服务器造成压力。</li>
</ol>
<h3 id="Session的生命周期"><a href="#Session的生命周期" class="headerlink" title="Session的生命周期"></a>Session的生命周期</h3><ol>
<li>Session保存在服务器端。为了获得更高的存取速度，服务器一般把Session放在内存里。每个用户都会有一个独立的Session。如果Session内容过于复杂，当大量客户访问服务器时可能会导致内存溢出。因此，Session里的信息应该尽量精简。</li>
<li>Session在用户第一次访问服务器的时候自动创建。。需要注意只有访问JSP、Servlet等程序时才会创建Session，只访问HTML、IMAGE等静态资源并不会创建Session。如果尚未生成Session，也可以使用request.getSession(true)强制生成Session。</li>
<li>Session生成后，只要用户继续访问，服务器就会更新Session的最后访问时间，并维护该Session。用户每访问服务器一次，无论是否读写Session，服务器都认为该用户的Session“活跃（active）”了一次。</li>
</ol>
<h3 id="Session的有效期"><a href="#Session的有效期" class="headerlink" title="Session的有效期"></a>Session的有效期</h3><p>由于会有越来越多的用户访问服务器，因此Session也会越来越多。<strong>为防止内存溢出，服务器会把长时间内没有活跃的Session从内存删除。这个时间就是Session的超时时间。如果超过了超时时间没访问过服务器，Session就自动失效了。</strong></p>
<h2 id="两者的区别"><a href="#两者的区别" class="headerlink" title="两者的区别"></a>两者的区别</h2><ol>
<li>cookie数据存放在客户的浏览器上，session数据放在服务器上.客户端每次请求服务器的时候会发送 当前会话的session_id，服务器根据当前session_id判断相应的用户数据标志，以确定用户是否登录，或具有某种权限。</li>
<li>cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗考虑到安全应当使用session。</li>
<li>设置cookie时间可以使cookie过期。但是使用session-destory（），我们将会销毁会话。</li>
<li>session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能考虑到减轻服务器性能方面，应当使用cookie。</li>
<li>单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。(Session对象没有对存储的数据量的限制，其中可以保存更为复杂的数据类型)</li>
<li> 两者最大的区别在于生存周期，一个是IE启动到IE关闭.(浏览器页面一关 ,session就消失了)，一个是预先设置的生存周期，或永久的保存于本地的文件。(cookie)</li>
<li> Session信息是存放在server端，但session id是存放在client cookie的，当然php的session存放方法是多样化的，这样就算禁用cookie一样可以跟踪.Cookie是完全保持在客户端.</li>
</ol>
<h2 id="值得注意的地方"><a href="#值得注意的地方" class="headerlink" title="值得注意的地方"></a>值得注意的地方</h2><ol>
<li>cookie一定要设置失效时间,要不然浏览器关闭就消失了;</li>
<li>浏览器 有禁止cookie功能 ,但一般用户都不会设置;</li>
<li>cookie也分为永久和暂时存在的;</li>
<li>虽然cookie不安全,但是可以加密 ;</li>
<li>session很容易失效,用户体验很差;</li>
</ol>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>http</tag>
        <tag>网络</tag>
      </tags>
  </entry>
  <entry>
    <title>200427一些面试题(bilibili篇)</title>
    <url>/2020/04/27/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<h2 id="详述es5-es6中的作用域和闭包（es5全局-函数级，函数化闭包，es6块级）"><a href="#详述es5-es6中的作用域和闭包（es5全局-函数级，函数化闭包，es6块级）" class="headerlink" title="详述es5 es6中的作用域和闭包（es5全局+函数级，函数化闭包，es6块级）"></a>详述es5 es6中的作用域和闭包（es5全局+函数级，函数化闭包，es6块级）</h2><span id="more"></span>
<h3 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h3><h4 id="ES5的作用域"><a href="#ES5的作用域" class="headerlink" title="ES5的作用域"></a>ES5的作用域</h4><blockquote>
<p>变量起作用的范围，js中能创建作用域的只能是函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// a is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>var的作用域就是所在的函数体<br>在某个函数中使用var声明变量，那个变量就将被视作一个局部变量，只存在于函数中.<br>let的作用域就是所在的代码块</p>
<h4 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// a is not defined</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">   a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>();</span><br></pre></td></tr></table></figure>
<ol>
<li>js中存在全局执行环境和由函数形成的局部执行环境这两种，统称为执行环境（这里可以理解成作用域）；</li>
<li>执行环境都会对应一个变量对象，包含当前环境的变量和函数（函数中的参数也作为函数执行环境的变量，即函数所在作用域的局部变量，函数的活动对象包括this、arguments以及内部的变量和函数）；</li>
<li>只有当<em>函数执行时</em>会形成作用域链，作用域链的前端始终是当前执行代码所在的执行环境对应的变量对象，往后是下一个（外部）变量对象，直到最外边的全局执行环境的变量对象（所谓的作用域链就是变量对象组成的一条线）；</li>
<li>变量对象中变量的解析查找就是沿着作用域链一级一级查找；</li>
<li>如果执行环境中的变量没有用var声明，那么在<em>函数执行时（这样才会形成作用域链）会沿着作用域链一级一级查找变量对象</em>，如果没有找到则会在全局变量对象中声明该变量并初始化。<br>以上代码可以改成<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">   a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">    arr[<span class="number">0</span>]();  <span class="comment">//10  而不是0</span></span><br><span class="line">    arr[<span class="number">1</span>]();  <span class="comment">//10  而不是1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>分析： 数组中每个函数如果执行时其作用域链都会保存全局执行环境对应的变量对象，所以函数执行时函数内部的i变量会沿着作用域链找到全局执行环境中的变量，此时全局执行环境中的变量i为10，所以都会输出10.<br>如果想要输出0,1 应使用let 变量i是let声明的，当前的i只在本轮循环有效，所以每一次循环的i其实都是一个新的变量<br>如果规定要用var来实现预期效果的话</p>
</blockquote>
</li>
<li>再定义一个循环,来覆盖i值<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">    arr.<span class="title function_">push</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;<span class="number">2</span>; i++) &#123;</span><br><span class="line">    arr[i]();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li>
<li>执行匿名函数,直接在当时输出<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;<span class="number">2</span>; i++) &#123;</span><br><span class="line">    arr.<span class="title function_">push</span>(</span><br><span class="line">    <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;()</span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h4><p>分为预解析阶段和执行阶段<br>在预解析阶段，会将所有的<em>变量声明</em>（只提升声明不提升赋值）以及<em>函数声明</em>（指整个函数），提升到其所在的作用域的最顶上，一般会先提升函数声明再提升变量声明。</p>
<blockquote>
<p>注意区分函数声明和函数表达式声明的区别<br>在变量提升条件下函数表达式和一般变量的声明的规则是一样的。下面的条件式声明章节还会用案例作对比<br><strong>当创建一个执行上下文时,会先检查当前上下文的函数声明，也就是使用function关键字声明的函数。在变量对象中以函数名建立一个属性，属性值为指向该函数所在内存地址的引用.然后检查当前上下文中的变量声明，每找到一个变量声明，就在变量对象中以变量名建立一个属性，属性值为undefined</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">x = <span class="number">5</span>; <span class="comment">// 变量 x 设置为 5 </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">var</span> x; <span class="comment">// 声明 x,值得注意的是,let不能,const不能修改所以也不能</span></span><br></pre></td></tr></table></figure>
<p>对于函数来说,只有声明式函数可以变量提升,而函数表达式则不行</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="comment">// //函数声明会被提升（是指整个函数都会被提升）</span></span><br><span class="line"><span class="comment">// var fn = function() &#123;</span></span><br><span class="line"><span class="comment">//   console.log(&#x27;nihao&#x27;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//可以运行</span></span><br><span class="line"><span class="comment">//函数表达式不会被提升（是指只会提升声明该函数的变量）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;nihao&#x27;</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h5 id="变量和函数同名"><a href="#变量和函数同名" class="headerlink" title="变量和函数同名"></a>变量和函数同名</h5><p>函数覆盖变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> f);  <span class="comment">// function</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> f); <span class="comment">// function</span></span><br><span class="line"><span class="keyword">var</span> f;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> f); <span class="comment">// function</span></span><br><span class="line"><span class="comment">// 另一段js</span></span><br><span class="line">onsole.<span class="title function_">log</span>(<span class="keyword">typeof</span> a); <span class="comment">// function</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123; &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a); <span class="comment">// function</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a);  <span class="comment">// string</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>只提升函数对应变量，其他变量直接不提升，同时将变量的声明var去掉（在一般定义过程中不推荐使用同名变量）</p>
</blockquote>
<h5 id="函数和函数同名"><a href="#函数和函数同名" class="headerlink" title="函数和函数同名"></a>函数和函数同名</h5><p>都提升，但是后面的会覆盖前面的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">func</span>(); <span class="comment">// second func</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;first func&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;second func&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="变量和变量同名"><a href="#变量和变量同名" class="headerlink" title="变量和变量同名"></a>变量和变量同名</h5><p>// 一般的变量同名对于变量的提升没有影响，因为提升的只是变量的声明，不会提升变量的赋值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// &#x27;abc&#x27;</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>JavaScript从来不会告诉你是否多次声明了同一个变量；遇到这种情况，它只会对后续的声明视而不见（不过，它会执行后续声明中的变量初始化）。</p>
</blockquote>
<h4 id="ES5块级作用域中的函数声明"><a href="#ES5块级作用域中的函数声明" class="headerlink" title="ES5块级作用域中的函数声明"></a>ES5块级作用域中的函数声明</h4><blockquote>
<p>ES5 规定，函数只能在顶层作用域和函数作用域之中声明，不能在块级作用域声明。如果确实需要，也应该写成函数表达式，而不是函数声明语句。<br>条件式变量声明可以被提升。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( num ); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="literal">false</span> ) &#123;</span><br><span class="line">   <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( num ); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<h3 id="ES6的作用域"><a href="#ES6的作用域" class="headerlink" title="ES6的作用域"></a>ES6的作用域</h3><h4 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h4><blockquote>
<p>块级作用域就是包含在{}里面的</p>
</blockquote>
<h4 id="let和const都存在暂时性死区"><a href="#let和const都存在暂时性死区" class="headerlink" title="let和const都存在暂时性死区"></a>let和const都存在暂时性死区</h4><p>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。<br>“暂时性死区”是指在使用let命令声明变量之前，该变量都是不可用的</p>
<h5 id="let-和-const相同点"><a href="#let-和-const相同点" class="headerlink" title="let 和 const相同点"></a>let 和 const相同点</h5><ol>
<li>支持块级作用域；</li>
<li>变量不能提升；</li>
<li>存在暂时性死区</li>
<li>不可重复声明</li>
</ol>
<h4 id="ES6中顶层对象"><a href="#ES6中顶层对象" class="headerlink" title="ES6中顶层对象"></a>ES6中顶层对象</h4><ul>
<li>现状： ES5顶层对象很混乱<br>浏览器里面，顶层对象是window，但 Node 和 Web Worker 没有window。<br>浏览器和 Web Worker 里面，self也指向顶层对象，但是Node没有self。<br>Node 里面，顶层对象是global，但其他环境都不支持。</li>
<li>ES6的变动<br>ES6 为了改变这一点，一方面规定，为了保持兼容性，var命令和function命令声明的全局变量，依旧是顶层对象的属性；另一方面规定，let命令、const命令、class命令声明的全局变量，不属于顶层对象的属性。也就是说，从 ES6 开始，全局变量将逐步与顶层对象的属性脱钩。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//es6</span></span><br><span class="line"><span class="keyword">let</span> test = <span class="string">&#x27;out&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span>  <span class="title function_">f</span>(<span class="params"></span>)&#123;</span><br><span class="line">  test = <span class="string">&#x27;in&#x27;</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">test</span>);<span class="comment">// undefined</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test);<span class="comment">// in</span></span><br><span class="line"><span class="comment">// es5</span></span><br><span class="line">test = <span class="string">&#x27;out&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span>  <span class="title function_">f</span>(<span class="params"></span>)&#123;</span><br><span class="line">  test = <span class="string">&#x27;in&#x27;</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">test</span>); <span class="comment">// in</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test);<span class="comment">// in</span></span><br></pre></td></tr></table></figure>
上下两个demo的区别就是test有没有用let声明，当使用let声明时，浏览器会认为当前的环境是ES6环境，所以声明的变量即使赋值到不到global；相反如果没用let声明test，默认当前环境是ES5。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>( num );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">f2</span>(<span class="params"></span>) &#123;</span><br><span class="line">        num = <span class="number">456</span>;</span><br><span class="line">        <span class="title function_">f1</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f2</span>();<span class="comment">//456</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 此处我能给出的解释是,因为变量提升,</span></span><br><span class="line"><span class="comment">// 第一个函数内的test被f()内给定义了且变量提升了,但在那行代码还未赋值,所以undefined</span></span><br><span class="line"><span class="comment">//第二个函数,由于函数内部找不到,于是顺着作用域链找到了外面的test2值</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="string">&#x27;out&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span>  <span class="title function_">f</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(test);<span class="comment">// undefined</span></span><br><span class="line">  <span class="keyword">var</span> test = <span class="string">&#x27;in&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test2 = <span class="string">&#x27;out&#x27;</span></span><br><span class="line"><span class="keyword">function</span>  <span class="title function_">g</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(test2);<span class="comment">// out</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">g</span>();</span><br></pre></td></tr></table></figure>
<h2 id="详述输入url到页面渲染完成"><a href="#详述输入url到页面渲染完成" class="headerlink" title="详述输入url到页面渲染完成"></a>详述输入url到页面渲染完成</h2></li>
</ul>
<ol>
<li>DNS解析URL的过程<ol>
<li>输入url地址</li>
<li>浏览器根据域名查找IP地址</li>
<li>浏览器发送HTTP请求</li>
</ol>
</li>
<li>浏览器与服务器交互过程<ol>
<li>首先浏览器利用tcp协议通过三次握手与服务器建立连接</li>
<li>浏览器根据解析到的IP地址和端口号发起http的get请求.</li>
<li>服务器接收到http请求之后，开始搜索html页面，并使用http返回响应报文</li>
<li>若状态码为200显示响应成功，浏览器接收到返回的html页面之后，开始进行页面的渲染</li>
</ol>
</li>
<li>浏览器页面渲染过程<ol>
<li>浏览器根据深度遍历的方式把html节点遍历成dom 树</li>
<li>将css解析成CSS DOM树</li>
<li>将dom树和CSS DOM树构造成render树</li>
<li>JS根据得到的render树 计算所有节点在屏幕中的位置，进行布局（回流）<blockquote>
<p>创建渲染树后，下一步就是布局（Layout），或者叫回流（reflow，relayout），这个过程就是通过渲染树中的渲染对象的信息，计算出每一个渲染对象的位置和尺寸，将其安置在浏览器窗口的正确位置，而有些时候我们会在文档布局完成后对DOM进行修改，这时候可能需要重新进行布局，也可称为回流，本质上还是一个布局的过程，每一个渲染对象都有一个布局或回流的方法，实现其布局或回流。</p>
</blockquote>
</li>
<li>遍历render树并调用硬件API绘制所有节点（重绘）<ol>
<li>从DOM树的根节点开始遍历每个可见的节点。</li>
<li>对于每个可见的节点，找到CSS树中的对应的规则，并且应用他们。</li>
<li>根据每个可见的节点及其对应的样式，组合生成渲染树。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="JS引擎的执行机制：探究EventLoop（含Macro-Task和Micro-Task）"><a href="#JS引擎的执行机制：探究EventLoop（含Macro-Task和Micro-Task）" class="headerlink" title="JS引擎的执行机制：探究EventLoop（含Macro Task和Micro Task）"></a>JS引擎的执行机制：探究EventLoop（含Macro Task和Micro Task）</h2><blockquote>
<p>Event Loop：事件循环<br>Micro Task：微任务<br>Macro Task：宏任务</p>
</blockquote>
<h3 id="单线程"><a href="#单线程" class="headerlink" title="单线程"></a>单线程</h3><blockquote>
<p>javascript是一门单线程语言，在最新的HTML5中提出了Web-Worker，但javascript是单线程这一核心仍未改变。与它的用途有关。作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？<br><strong>所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变。</strong><br>单线程就意味着，所有任务需要排队。</p>
</blockquote>
<ol>
<li>同步任务指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；</li>
<li>异步任务指的是，不进入主线程、而进入”任务队列”（task queue）的任务，只有”任务队列”通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。</li>
</ol>
<h3 id="异步机制"><a href="#异步机制" class="headerlink" title="异步机制"></a>异步机制</h3><ol>
<li>所有同步任务都在主线程上执行，形成一个执行栈（execution context stack）。</li>
<li>主线程之外，还存在一个”任务队列”（task queue）。只要异步任务有了运行结果，就在”任务队列”之中放置一个事件。</li>
<li>一旦”执行栈”中的所有同步任务执行完毕，系统就会读取”任务队列”，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。</li>
<li>主线程不断重复上面的第三步。</li>
</ol>
<h3 id="JS引擎执行模型"><a href="#JS引擎执行模型" class="headerlink" title="JS引擎执行模型"></a>JS引擎执行模型</h3><blockquote>
<p>从宏观角度讲, js 的执行是单线程的. 所有的异步结果都是通过 “任务队列(Task Queue)” 来调度被调度. 消息队列中存放的是一个个的任务(Task). 规范中规定, Task 分为两大类, 分别是 Macro Task（宏任务） 和 Micro Task（微任务）, 并且每个 Macro Task 结束后, 都要清空所有的 Micro Task.</p>
</blockquote>
<ul>
<li>Macro Task  宏任务<ul>
<li>setTimeout</li>
<li>setInterval</li>
<li>setImmediate</li>
<li>I/O</li>
<li>UI rendering</li>
</ul>
</li>
<li>Micro Task  微任务<ul>
<li>process.nextTick</li>
<li>Promise</li>
<li>Object.observe</li>
<li>MutaionObserver<br>所说的, ‘每个 MacroTask 结束后, 都要清空所有的 Micro Task‘. 引擎会遍历 Macro Task Queue, 对于每个 MacroTask 执行完毕后都要遍历执行 Tick Task Queue 的所有任务, 紧接着再遍历 MicroTask Queue 的所有任务. (nextTick 会优于 Promise执行)</li>
</ul>
</li>
<li><em>1个主线程+n个任务队列，浏览器异步处理后推入队列，循环处理，一个macroTask后跟全部microtask</em>*<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;setTimeOut是宏任务,排序更低&quot;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;promise中的是同步运行,第一个出来&quot;</span>)</span><br><span class="line">   <span class="title function_">resolve</span>(<span class="string">&quot;then里面的是微任务,后运行&quot;</span>);</span><br><span class="line">  <span class="comment">// reject(2);</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;,<span class="function">(<span class="params">error</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;外面的是同步运行,第二个出来&quot;</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">promise中的是同步运行,第一个出来</span></span><br><span class="line"><span class="comment">外面的是同步运行,第二个出来</span></span><br><span class="line"><span class="comment">then里面的是微任务,后运行</span></span><br><span class="line"><span class="comment">setTimeOut是宏任务,排序更低</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><ul>
<li>promise是一个对象，对象和函数的区别就是对象可以保存状态，函数不可以（闭包除外)</li>
<li>并未剥夺函数return的能力，因此无需层层传递callback，进行回调获取数据</li>
<li>代码风格，容易理解，便于维护</li>
<li>多个异步等待合并便于解决<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">// 一段耗时的异步操作</span></span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;成功&#x27;</span>) <span class="comment">// 数据处理完成</span></span><br><span class="line">    <span class="comment">// reject(&#x27;失败&#x27;) // 数据处理出错</span></span><br><span class="line">  &#125;</span><br><span class="line">).<span class="title function_">then</span>(</span><br><span class="line">  <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(res)&#125;,  <span class="comment">// 成功</span></span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125; <span class="comment">// 失败</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
<li>resolve作用是，将Promise对象的状态从“未完成”变为“成功”（即从 pending 变为 resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；</li>
<li>reject作用是，将Promise对象的状态从“未完成”变为“失败”（即从 pending 变为 rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。</li>
<li>三个状态<ol>
<li>pending[待定]初始状态</li>
<li>fulfilled[实现]操作成功</li>
<li>rejected[被否决]操作失败<br>当promise状态发生改变，就会触发then()里的响应函数处理后续步骤；<br>promise状态一经改变，不会再变。</li>
</ol>
</li>
<li>promise的对象状态一旦改变,只有两种可能<ul>
<li>从pending变为fulfilled</li>
<li>从pending变为rejected。</li>
<li>这两种情况只要发生，状态就凝固了，不会再变了。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">  &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(val) <span class="comment">//  参数val = &#x27;hello&#x27;</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">&#x27;world&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">val</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(val) <span class="comment">// 参数val = &#x27;world&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>作为使用,最好返回一个新的promise对象,这样可以做到链式调用</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h2 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h2><blockquote>
<p>Promise.all可以将多个Promise实例包装成一个新的Promise实例。同时，成功和失败的返回值是不同的，成功的时候返回的是一个结果数组，而失败的时候则返回最先被reject失败状态的值。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&#x27;成功了&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">reject</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2]).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)               <span class="comment">//[&#x27;成功了&#x27;, &#x27;success&#x27;]</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([p1,p3,p2]).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)      <span class="comment">// 失败了，打出 &#x27;失败&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[ &#x27;成功了&#x27;, &#x27;success&#x27; ]</span></span><br><span class="line"><span class="comment">fail</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="Promise-race的使用"><a href="#Promise-race的使用" class="headerlink" title="Promise.race的使用"></a>Promise.race的使用</h2><blockquote>
<p>顾名思义，Promse.race就是赛跑的意思，意思就是说，Promise.race([p1, p2, p3])里面哪个结果获得的快，就返回那个结果，不管结果本身是成功状态还是失败状态。</p>
</blockquote>
<h2 id="如何让Promise-all在抛出异常后依然有效"><a href="#如何让Promise-all在抛出异常后依然有效" class="headerlink" title="如何让Promise.all在抛出异常后依然有效"></a>如何让Promise.all在抛出异常后依然有效</h2><blockquote>
<p>在上文中，我们知道Promise.all在处理多个Promise实例时，如果一个失败，就只能拿到第一个失败的结果，其余成功的结果都无法拿到，那有什么办法能在reject后依旧拿到所有执行结果呢？有，利用catch方法。<br>首先我们需要知道Promise的状态具有可传递性，其次<strong>catch方法在执行后也会返回一个状态为resolved的新Promise实例</strong>，所以我们只要将可能reject的Promise实例先catch一遍就可以了，就像做一次状态预加工：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">reject</span>(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&#x27;成功了&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> promiseArr = [p1,p2];</span><br><span class="line"><span class="comment">// 预处理,捕获error并作为resolved返回</span></span><br><span class="line"><span class="keyword">let</span> = handledArr = promiseArr.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item.<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> error;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 真正处理</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>(handledArr).<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)               <span class="comment">//[&#x27;成功了&#x27;, &#x27;success&#x27;]</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="什么是VueX"><a href="#什么是VueX" class="headerlink" title="什么是VueX"></a>什么是VueX</h2><blockquote>
<p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
</blockquote>
<ul>
<li>State: 单一状态树,存储状态数据</li>
<li>Getter: 类似于计算属性</li>
<li>Mutation: 改变状态的唯一方法,多用于同步处理,使用commit调用</li>
<li>Action: Action 提交的是 mutation，而不是直接变更状态。所以action常用于异步操作,使用dispatch调用</li>
<li>Module: 由于使用单一状态树，应用的所有状态会集中到一个比较大的对象。当应用变得非常复杂时，store 对象就有可能变得相当臃肿。为了解决以上问题，Vuex 允许我们将 store 分割成模块（module）。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块——从上至下进行同样方式的分割：</li>
</ul>
<h2 id="详述Vue的双向数据绑定原理"><a href="#详述Vue的双向数据绑定原理" class="headerlink" title="详述Vue的双向数据绑定原理"></a>详述Vue的双向数据绑定原理</h2><p>主要通过对于对象属性的”劫持”来实现,利用Object.defineProperty方法重写某个属性的set方法,然后绑定监听事件,一旦值发生改变,就触发这个某个属性的set方法,实现双向绑定.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;inp&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> dInp = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;inp&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> dBox = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;box&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> obj = &#123;&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;name&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">configurable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">enumerable</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">get</span>: <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> val;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">set</span>: <span class="function">(<span class="params">newVal</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            dInp.<span class="property">value</span> = newVal;</span></span><br><span class="line"><span class="language-javascript">            dBox.<span class="property">innerHTML</span> = newVal;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    dInp.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">       obj.<span class="property">name</span> = e.<span class="property">target</span>.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Vue的优势"><a href="#Vue的优势" class="headerlink" title="Vue的优势"></a>Vue的优势</h2><p>Vue.js是一个<strong>构建数据驱动</strong>的 web 界面的<strong>渐进式框架</strong>。Vue.js 的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。核心是一个<strong>响应的数据绑定系统</strong>。</p>
<ul>
<li>轻量级的框架</li>
<li>双向数据绑定</li>
<li>指令</li>
<li>插件化</li>
</ul>
<h2 id="SEO"><a href="#SEO" class="headerlink" title="SEO"></a>SEO</h2><p>意义:</p>
<blockquote>
<p>　为了提升网页在搜索引擎自然搜索结果中的收录数量以及排序位置而做的优化行为。简言之，就是希望百度等搜索引擎能多多我们收录精心制作后的网站，并且在别人访问时网站能排在前面。<br>整体SEO方法:</p>
</blockquote>
<ol>
<li>对网站的标题、关键字、描述精心设置，反映网站的定位，让搜索引擎明白网站是做什么的；</li>
<li>网站内容优化：内容与关键字的对应，增加关键字的密度；</li>
<li>在网站上合理设置Robot.txt文件；</li>
<li>生成针对搜索引擎友好的网站地图；</li>
<li>增加外部链接，到各个网站上宣传；</li>
</ol>
<h2 id="前端SEO"><a href="#前端SEO" class="headerlink" title="前端SEO"></a>前端SEO</h2><ol>
<li>网站结构布局优化：尽量简单、开门见山，提倡扁平化结构。</li>
<li>网站内容优化：内容与关键字的对应，增加关键字的密度；</li>
<li>生成针对搜索引擎友好的网站地图；</li>
<li>增加外部链接，到各个网站上宣传；</li>
<li>代码优化</li>
</ol>
<h3 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a>代码优化</h3><ol>
<li>html<ol>
<li>标签的有开有合。</li>
<li>避免冗余代码，例如去除空格字符。</li>
<li>合理利用标签语义化。</li>
<li>合理的嵌套规则，避免行元素内嵌套块元素。</li>
<li>img标签内需要添加title属性和alt属性。</li>
<li>a标签内需要添加title属性。</li>
<li>Meta标签的优化（过去搜索引擎优化的重要手法，现在已经不是关键因素，但仍不可忽略）主要包括： Meta description、Meta keywords的设置　　关键字密度要适度，通常为2%-8%，也就是说你的关键字必须 在 页面中出现若干次，或者在搜索引擎允许的范围内，要避免堆砌关键字。</li>
<li>title页面标题，必须列出信息的标题、网站的名称以及相关关键字，避免堆关键字。</li>
<li>合理使用注释</li>
<li>尽量少使用iframe框架,因为“蜘蛛”一般不会读取其中的内容</li>
<li>文本缩进不要使用特殊符号 &nbsp; 应当使用CSS进行设置。版权符号不要使用特殊符号 &copy; 可以直接使用输入法，拼“banquan”，选择序号5就能打出版权符号©。</li>
</ol>
</li>
<li>css<ol>
<li>避免将css代码写在标签内。</li>
<li>如果css代码量少，可直接写在头部。否则请使用外部引入的方式。</li>
<li>请不要使用通配符选择器 *{margin:0;padding:0;} 这不仅仅因为它是缓慢和低效率的方法，而且还会导致一 些不必要的元素也重置了外边距和内边距。</li>
<li>css代码缩写可以提高你写代码的速度，精简你的代码量，包括margin，padding，border ，font， background和颜色值等。</li>
<li>利用css继承，如果一个父元素内有多个子元素拥有相同的样式，可将相同的样式定义在元素上。</li>
<li>如果多个元素拥有相同的样式，可定义一个通用的class或使用群组选择器。</li>
<li>使用背景图合并技术。</li>
<li>适当的代码注释。</li>
<li>谨慎使用 display：none ：对于不想显示的文字内容，应当设置z-index或设置到浏览器显示器之外。因为搜索引擎会过滤掉display:none其中的内容。</li>
</ol>
</li>
<li>js<ol>
<li>采用外部引入的方法。</li>
<li>合理合并JS代码，可减少服务器的压力。</li>
<li>良好的JS代码习惯。例如：减少页面重绘，减少作用域链上的查找次数。</li>
</ol>
</li>
</ol>
<h2 id="详解回流和重绘及优化"><a href="#详解回流和重绘及优化" class="headerlink" title="详解回流和重绘及优化"></a>详解回流和重绘及优化</h2><h3 id="回流"><a href="#回流" class="headerlink" title="回流"></a>回流</h3><p>我们通过构造渲染树，我们将可见DOM节点以及它对应的样式结合起来，可是我们还需要计算它们在设备视口(viewport)内的确切位置和大小，这个计算的阶段就是回流。<br>为了弄清每个对象在网站上的确切大小和位置，浏览器从渲染树的根节点开始遍历，我们可以以下面这个实例来表示：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Critial Path: Hello world!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 50%&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 50%&quot;</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>我们可以看到，第一个div将节点的显示尺寸设置为视口宽度的50%，第二个div将其尺寸设置为父节点的50%。而在回流这个阶段，我们就需要根据视口具体的宽度，将其转为实际的像素值</p>
<h3 id="重绘"><a href="#重绘" class="headerlink" title="重绘"></a>重绘</h3><p>最终，我们通过构造渲染树和回流阶段，我们知道了哪些节点是可见的，以及可见节点的样式和具体的几何信息(位置、大小)，那么我们就可以将渲染树的每个节点都转换为屏幕上的实际像素，这个阶段就叫做重绘节点。</p>
<h3 id="何时发生回流重绘"><a href="#何时发生回流重绘" class="headerlink" title="何时发生回流重绘"></a>何时发生回流重绘</h3><p>既然知道了浏览器的渲染过程后，我们就来探讨下，何时会发生回流重绘。<br>我们前面知道了，回流这一阶段主要是计算节点的位置和几何信息，那么当页面布局和几何信息发生变化的时候，就需要回流。比如以下情况：</p>
<ul>
<li>添加或删除可见的DOM元素</li>
<li>元素的位置发生变化</li>
<li>元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）</li>
<li>内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。</li>
<li>页面一开始渲染的时候（这肯定避免不了）</li>
<li>浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）<br>注意：回流一定会触发重绘，而重绘不一定会回流.<br>根据改变的范围和程度，渲染树中或大或小的部分需要重新计算，有些改变会触发整个页面的重排，比如，滚动条出现的时候或者修改了根节点。回流是对物理尺寸的变更，回流一定会重绘，重绘不一定回流，因此尽量减少回流次数，将元素移出dom树再变更</li>
</ul>
<h2 id="述防抖和节流优化"><a href="#述防抖和节流优化" class="headerlink" title="述防抖和节流优化"></a>述防抖和节流优化</h2><ul>
<li>节流（throttle）<br>所谓节流，就是指连续触发事件但是在 n 秒中只执行一次函数。节流会稀释函数的执行频率。</li>
<li> 防抖（debounce）<br>所谓防抖，就是指触发事件后在 n 秒内函数只能执行一次，如果在 n 秒内又触发了事件，则会重新计算函数执行时间。<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;防抖&quot;</span> <span class="attr">id</span>=<span class="string">&quot;debounce&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;节流&quot;</span> <span class="attr">id</span>=<span class="string">&quot;throttle&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;普通&quot;</span> <span class="attr">id</span>=<span class="string">&quot;normal&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//普通</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;normal&#x27;</span>).<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;常规&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//防抖</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> timer = <span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;debounce&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">clearTimeout</span>(timer);</span></span><br><span class="line"><span class="language-javascript">            timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;防抖，点击后要隔一段时间才执行，在等待期间如果再次点击，则重新计时等待&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//节流</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> run = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;throttle&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(!run)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//如果run为false，代表当前时间内不空闲，则不执行,直接结束函数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 将run置为false,此中触发的函数,一律不触发</span></span></span><br><span class="line"><span class="language-javascript">            run = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;节流，在一个时间段内多次触发只执行一次&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 执行完某一次操作了,将run置为true</span></span></span><br><span class="line"><span class="language-javascript">                run = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 而函数防抖只是在最后一次事件后才触发一次函数。 比如在页面的无限加载场景下，我们需要用户在滚动页面时，</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 函数节流不管事件触发有多频繁，都会保证在规定时间内一定会执行一次真正的事件处理函数，</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 每隔一段时间发一次 Ajax 请求，而不是在用户停下滚动页面操作时才去请求数据。这样的场景，就适合用节流技术来实现。</span></span></span><br><span class="line"><span class="language-javascript">    &#125;())</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="简述ES6新特性"><a href="#简述ES6新特性" class="headerlink" title="简述ES6新特性"></a>简述ES6新特性</h2><ul>
<li>块级作用域,</li>
<li>变量不提升,</li>
<li>let, const,</li>
<li>箭头函数,</li>
<li>模板字符串,</li>
<li>promise,</li>
<li>async</li>
</ul>
<h2 id="简述箭头函数特性"><a href="#简述箭头函数特性" class="headerlink" title="简述箭头函数特性"></a>简述箭头函数特性</h2><ul>
<li> 函数体内的this值，绑定的定义时所在的作用域的this</li>
<li> 不可以当作构造函数</li>
<li> 不可以使用arguments对象</li>
</ul>
<h2 id="webpack打包如何优化"><a href="#webpack打包如何优化" class="headerlink" title="webpack打包如何优化"></a>webpack打包如何优化</h2><ul>
<li>定位体积大的模块</li>
<li>提取公共模块</li>
<li>移除不必要的文件</li>
<li>模块化引入</li>
<li>通过CDN引用</li>
<li>通过 DLLPlugin 和 DLLReferencePlugin 拆分文件</li>
<li>开启Gzip压缩</li>
<li>压缩混淆代码</li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200425Html5的Canvas</title>
    <url>/2020/04/25/</url>
    <content><![CDATA[<blockquote>
<p>H5的新特性,在低版本浏览器中不支持</p>
</blockquote>
<h2 id="创建一个画布"><a href="#创建一个画布" class="headerlink" title="创建一个画布"></a>创建一个画布</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="通过-JavaScript-来绘制"><a href="#通过-JavaScript-来绘制" class="headerlink" title="通过 JavaScript 来绘制"></a>通过 JavaScript 来绘制</h2><blockquote>
<p>canvas 元素本身是没有绘图能力的。所有的绘制工作必须在 JavaScript 内部完成<br><strong>getContext(“2d”) 对象是内建的 HTML5 对象，拥有多种绘制路径、矩形、圆形、字符以及添加图像的方法。</strong></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> &gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myCanvas&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> content=canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>); </span></span><br><span class="line"><span class="language-javascript">        content.<span class="property">fillStyle</span>=<span class="string">&quot;#FF0000&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        content.<span class="title function_">fillRect</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">75</span>); </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="放置图像"><a href="#放置图像" class="headerlink" title="放置图像"></a>放置图像</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> c=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myCanvas&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> cxt=c.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> img=<span class="keyword">new</span> <span class="title class_">Image</span>()</span></span><br><span class="line"><span class="language-javascript">img.<span class="property">src</span>=<span class="string">&quot;flower.png&quot;</span></span></span><br><span class="line"><span class="language-javascript">cxt.<span class="title function_">drawImage</span>(img,<span class="number">0</span>,<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    * &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> w, h;                          <span class="comment">// 定义一个窗口宽高的变量</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> ball_num = <span class="number">1</span>;                  <span class="comment">//每次点击生成的小球个数</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> <span class="title class_">Gravity</span> = <span class="number">0.8</span>;                 <span class="comment">//小球下落速度 越小越慢</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> <span class="title class_">Firction</span> = <span class="number">0.9</span>;                <span class="comment">//小球弹跳力度 越大越高</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> ballArray = [];               <span class="comment">//储存小球的数组</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//获取canvas标签</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> canvas = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#canvas&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//创建画笔</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//小球颜色数组</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> colorArray = [<span class="string">&quot;rgb(65, 105, 225)&quot;</span>, <span class="string">&quot;rgb(65, 166, 225)&quot;</span>, <span class="string">&quot;rgb(65, 214, 225)&quot;</span>, <span class="string">&quot;rgb(65, 225, 190)&quot;</span>, <span class="string">&quot;rgb(65, 225, 132)&quot;</span>];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 获取窗口大小方法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">getWindow_size</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        w = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span></span><br><span class="line"><span class="language-javascript">        h = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="property">width</span> = w;</span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="property">height</span> = h;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 随机生成一个 lower ~ upper 的整数</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">randomIntFronRange</span>(<span class="params">lower, upper</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (upper - lower)) + lower;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//创建小球的方法(主要是小球运动轨迹的绘制)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">Ball</span>(<span class="params">x, y, dx, dy, radius, color</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//此处并没有直接执行绘制动画，而是事先定义好相关属性值</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">x</span> = x;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">y</span> = y;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">dy</span> = dy</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">dx</span> = dx;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">radius</span> = radius;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">color</span> = color;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//绘制一个圆球，并填充颜色</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// https://www.w3school.com.cn/tags/canvas_arc.asp</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>);</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">closePath</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//实时更新动画</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//y 轴临界值判断</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//如果小球在下降过程中到达底部时(及绘制小球的中心坐标位置超出窗口高度时)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// alert(this.dy)  //不太清楚的可以 alert 一下</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">y</span> + <span class="variable language_">this</span>.<span class="property">radius</span> + <span class="variable language_">this</span>.<span class="property">dy</span> + <span class="title class_">Gravity</span> &gt; h) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//小球 y轴方向改变 （往上）</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">dy</span> = -<span class="variable language_">this</span>.<span class="property">dy</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">dy</span> *= <span class="title class_">Firction</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">dx</span> *= <span class="title class_">Firction</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//小球  y轴坐标递增 (往下)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">dy</span> += <span class="title class_">Gravity</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//x 轴临界值判断</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">radius</span> + <span class="variable language_">this</span>.<span class="property">dx</span> &gt;= w || <span class="variable language_">this</span>.<span class="property">x</span> - <span class="variable language_">this</span>.<span class="property">radius</span> + <span class="variable language_">this</span>.<span class="property">dx</span> &lt;= <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//小球 x轴方向改变</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">dx</span> = -<span class="variable language_">this</span>.<span class="property">dx</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//小球 x,y坐标位置改变（因为之前的 dy,dx有取反过，所以此处会实现上下，左右的运动路线）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">y</span> += <span class="variable language_">this</span>.<span class="property">dy</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">x</span> += <span class="variable language_">this</span>.<span class="property">dx</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//根据改变后的坐标位置绘图</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">draw</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//创建小球的方法(相关样式，起始坐标位置等)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">init</span>(<span class="params">m_x, m_y</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; ball_num; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> radius = <span class="title function_">randomIntFronRange</span>(<span class="number">2</span>, <span class="number">10</span>); <span class="comment">//圆的半径</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// x,y 为绘制圆的中心坐标</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> x = m_x;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> y = m_y;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> dx = <span class="title function_">randomIntFronRange</span>(-<span class="number">5</span>, <span class="number">5</span>);<span class="comment">//小球 x 轴位置 递增或者递减的一个随机值（小球是往左还是往右弹）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> dy = <span class="title function_">randomIntFronRange</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">//小球 y 轴位置 递增或者递减的一个随机值（小球上下弹动高度）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> color = colorArray[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * colorArray.<span class="property">length</span>)]; <span class="comment">//从颜色数组里面随机取一个颜色</span></span></span><br><span class="line"><span class="language-javascript">            ballArray.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">Ball</span>(x, y, dx, dy, radius, color)); <span class="comment">//往小球数组里面添加每个小球的相关数值</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">   </span></span><br><span class="line"><span class="language-javascript">   <span class="comment">//执行动画方法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">animation</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 更新动画</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">requestAnimationFrame</span>(animation)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//清除每个小球的运动痕迹</span></span></span><br><span class="line"><span class="language-javascript">        ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, w, h);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> n <span class="keyword">of</span> ballArray) &#123;</span></span><br><span class="line"><span class="language-javascript">            n.<span class="title function_">update</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">getWindow_size</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//监听鼠标点击事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;mousedown&quot;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//清空画布</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// https://www.w3school.com.cn/tags/canvas_clearrect.asp</span></span></span><br><span class="line"><span class="language-javascript">            ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, w, h);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//每次点击时获取鼠标位置，以鼠标位置生成小球</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">init</span>(event.<span class="property">clientX</span>, event.<span class="property">clientY</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">animation</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Html</category>
      </categories>
      <tags>
        <tag>html</tag>
      </tags>
  </entry>
  <entry>
    <title>200429一些面试题(阿里2篇)</title>
    <url>/2020/04/29/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<h1 id="列举几个css中可继承和不可继承的元素"><a href="#列举几个css中可继承和不可继承的元素" class="headerlink" title="列举几个css中可继承和不可继承的元素"></a>列举几个css中可继承和不可继承的元素</h1><ul>
<li>可以继承: <ul>
<li>字体系列</li>
<li>文本系列:text-indent,text-align,text-transform,line-height</li>
<li>光标  :cursor</li>
<li>列表布局: list-style-type,list-style-image</li>
<li>表格布局 : caption-side,border-collapse,table-layout</li>
</ul>
</li>
<li>不可继承: <ul>
<li>display: </li>
<li>文本属性 : text-decoration ,text-shadow,white-space</li>
<li>盒子模型属性</li>
<li>背景</li>
<li>定位</li>
<li>生成内容,content,couter-reset<span id="more"></span></li>
</ul>
</li>
</ul>
<h1 id="用css选中列表第二项"><a href="#用css选中列表第二项" class="headerlink" title="用css选中列表第二项"></a>用css选中列表第二项</h1><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h1 id="伪类和伪元素的区别"><a href="#伪类和伪元素的区别" class="headerlink" title="伪类和伪元素的区别"></a>伪类和伪元素的区别</h1><p>伪元素的操作对象是新生成的dom元素，而不是原来dom结构里就存在的；而伪类恰好相反，伪类的操作对象是原来的dom结构里就存在的元素。<br>伪元素与伪类的根本区别在于：<strong>操作的对象元素是否存在于原来的dom结构里</strong>。</p>
<h1 id="h5字体如何自适应屏幕"><a href="#h5字体如何自适应屏幕" class="headerlink" title="h5字体如何自适应屏幕"></a>h5字体如何自适应屏幕</h1><ul>
<li>字体单位使用rem</li>
<li>在根样式文件中,使用@media 利用vm设置rem</li>
</ul>
<h1 id="几种大小尺寸"><a href="#几种大小尺寸" class="headerlink" title="几种大小尺寸"></a>几种大小尺寸</h1><ul>
<li>px 屏幕分辨率</li>
<li>em 当前元素的文本字体大小</li>
<li>rem 根元素的文本字体大小</li>
<li>rpx 小程序:rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。</li>
</ul>
<h1 id="什么情况下css会使用gpu加速"><a href="#什么情况下css会使用gpu加速" class="headerlink" title="什么情况下css会使用gpu加速"></a>什么情况下css会使用gpu加速</h1><p>为动画DOM元素添加CSS3样式-webkit-transform:transition3d(0,0,0)或-webkit-transform:translateZ(0);，这两个属性都会开启GPU硬件加速模式，从而让浏览器在渲染动画时从CPU转向GPU</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.example1</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.example2</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过-webkit-transform:transition3d/translateZ开启GPU硬件加速之后，有些时候可能会导致浏览器频繁闪烁或抖动，可以尝试以下办法解决之：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">-webkit-<span class="attribute">backface-visibility</span>:hidden;</span><br><span class="line">-webkit-<span class="attribute">perspective</span>:<span class="number">1000</span>;</span><br></pre></td></tr></table></figure>
<h1 id="css-filter是什么-滤镜"><a href="#css-filter是什么-滤镜" class="headerlink" title="css filter是什么(滤镜)"></a>css filter是什么(滤镜)</h1><p>元素的可视效果例如：模糊与饱和度,高亮</p>
<h1 id="网页如何去适配不同宽度"><a href="#网页如何去适配不同宽度" class="headerlink" title="网页如何去适配不同宽度"></a>网页如何去适配不同宽度</h1><ol>
<li><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>viewport是网页默认的宽度和高度，上面这行代码的意思是，网页宽度默认等于屏幕宽度（width=device-width），原始缩放比例（initial-scale=1）为1.0，即网页初始大小占屏幕面积的100%。<br>2. 宽度使用百分比<br>3. 大小使用rem或者em<br>4. 流动布局或者rem布局<br>5. @media</p>
<h1 id="meta元素的作用"><a href="#meta元素的作用" class="headerlink" title="meta元素的作用"></a>meta元素的作用</h1><ul>
<li>元素可提供有关页面的元信息（meta-information），比如针对搜索引擎和更新频度的描述和关键词。–W3school</li>
<li>另外还能设置页面基本属性,例如viewport,charset,render等</li>
</ul>
<h1 id="position默认值和所有可能值"><a href="#position默认值和所有可能值" class="headerlink" title="position默认值和所有可能值"></a>position默认值和所有可能值</h1><p>默认值:static<br>可能值:</p>
<ul>
<li>absolute 绝对定位,相对于static定位以外的第一个父元素定位</li>
<li>fixed 相对于浏览器窗口</li>
<li>relative 相对定位,相对于其正常定位</li>
<li>static 默认</li>
<li>inherit   从父容器继承的定位</li>
<li>sticky 吸附</li>
</ul>
<h1 id="什么是sass和less"><a href="#什么是sass和less" class="headerlink" title="什么是sass和less"></a>什么是sass和less</h1><p>都是css的拓展语言，less和sass最主要的区别是less是通过Javascript编译，而sass是通过ruby编译的，如果没有引入前端工程化，less会消耗客户端性能，sass会消耗服务端性能，但是引入前端工程化的话，gunt，gulp，webpack等，less和sass在打包阶段都会转化成css，所以不会有区别，只是sass是基于ruby，所以每次npm的时候相对慢一点点</p>
<h1 id="css动画最小间隔"><a href="#css动画最小间隔" class="headerlink" title="css动画最小间隔"></a>css动画最小间隔</h1><p>多数显示器的默认频率是60HZ，即每秒刷新60次。所以理论上的最小间隔是 1/60*1000ms = 16.7ms</p>
<h1 id="shadow-dom是什么"><a href="#shadow-dom是什么" class="headerlink" title="shadow dom是什么"></a>shadow dom是什么</h1><p>Shadow-dom 是游离在 DOM 树之外的节点树，但是他的创建基于普通 DOM 元素（非 document），并且创建后的 Shadow-dom 节点可以从界面上直观的看到。更重要的是，Shadow-dom 具有良好的密封性。<br>例如 vidio标签</p>
<h1 id="svg和canvas的概念和区别"><a href="#svg和canvas的概念和区别" class="headerlink" title="svg和canvas的概念和区别"></a>svg和canvas的概念和区别</h1><p>SVG:</p>
<blockquote>
<p>SVG 是一种使用 XML 描述 2D 图形的语言。SVG 基于 XML，这意味着 SVG DOM 中的每个元素都是可用的。您可以为某个元素附加 JavaScript 事件处理器。在 SVG 中，每个被绘制的图形均被视为对象。如果 SVG 对象的属性发生变化，那么浏览器能够自动重现图形。<br>特点：</p>
</blockquote>
<ul>
<li>不依赖分辨率</li>
<li>支持事件处理器</li>
<li>最适合带有大型渲染区域的应用程序（比如谷歌地图）</li>
<li>复杂度高会减慢渲染速度（任何过度使用 DOM 的应用都不快）</li>
<li>不适合游戏应用</li>
</ul>
<p>Canvas:</p>
<blockquote>
<p>Canvas 通过 JavaScript 来绘制 2D 图形。Canvas 是逐像素进行渲染的。在 canvas 中，一旦图形被绘制完成，它就不会继续得到浏览器的关注。如果其位置发生变化，那么整个场景也需要重新绘制，包括任何或许已被图形覆盖的对象。<br>特点：</p>
</blockquote>
<ul>
<li>依赖分辨率</li>
<li>不支持事件处理器</li>
<li>弱的文本渲染能力</li>
<li>能够以 .png 或 .jpg 格式保存结果图像</li>
<li>最适合图像密集型的游戏，其中的许多对象会被频繁重绘</li>
</ul>
<h1 id="canvas图层怎么用"><a href="#canvas图层怎么用" class="headerlink" title="canvas图层怎么用"></a>canvas图层怎么用</h1><ol>
<li>canvas.globalCompositeOperation=”destination-over”;//设置多个图层如何混合，这个可以百度canvas混合模式，这个和PS是相近的</li>
<li>absolute 设置到同一定位,然后设置z-index<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;layer1&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">&quot;position: absolute; left: 0; top: 0; z-index: 0;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;layer2&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">height</span>=<span class="string">&quot;100&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">style</span>=<span class="string">&quot;position: absolute; left: 0; top: 0; z-index: 1;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="dom渲染的性能损耗在哪里"><a href="#dom渲染的性能损耗在哪里" class="headerlink" title="dom渲染的性能损耗在哪里"></a>dom渲染的性能损耗在哪里</h1><ol>
<li>ES和 DOM是两种东西，每次连接都需要消耗性能<blockquote>
<p>为了让 Web 编程模型保持简单，浏览器的 JavaScript 引擎与 DOM 引擎共享一个主线程。任何 DOM API 调用都要先将 JS 数据结构转为 DOM 数据结构，再挂起 JS 引擎并启动 DOM 引擎，执行过后再把可能的返回值反转数据结构，重启 JS 引擎继续执行。这种上下文切换很耗性能，类似的还有单机进程间调用、远程过程调用等。</p>
</blockquote>
</li>
<li>操作DOM会导致重排和重绘，重排会占用、消耗CPU; 重绘会占用、消耗GPU<blockquote>
<p>很多 DOM API 的读写都涉及页面布局的“重新计算”，以确保返回值的准确，涉及样式、结构的还会触发页面“重新绘制”，更耗性能。</p>
</blockquote>
</li>
</ol>
<h1 id="如何高效地从1000个div中删除10个div"><a href="#如何高效地从1000个div中删除10个div" class="headerlink" title="如何高效地从1000个div中删除10个div"></a>如何高效地从1000个div中删除10个div</h1><h1 id="如何监听img的加载完毕"><a href="#如何监听img的加载完毕" class="headerlink" title="如何监听img的加载完毕"></a>如何监听img的加载完毕</h1><ol>
<li>生成Image对象,通过Image的onLoad方法的回调函数监听</li>
<li>DOM操作下img标签的complete属性</li>
</ol>
<h1 id="浏览器里除了js还能运行什么"><a href="#浏览器里除了js还能运行什么" class="headerlink" title="浏览器里除了js还能运行什么"></a>浏览器里除了js还能运行什么</h1><p>webAssembly和actionscript(flash)</p>
<h1 id="Promise有几种状态"><a href="#Promise有几种状态" class="headerlink" title="Promise有几种状态"></a>Promise有几种状态</h1><ul>
<li>fulfilled(resolve之后的状态)</li>
<li>rejected</li>
<li>pending(等待)</li>
</ul>
<h1 id="如何捕获promise错误"><a href="#如何捕获promise错误" class="headerlink" title="如何捕获promise错误"></a>如何捕获promise错误</h1><p>主动catch</p>
<h1 id="promise可以串联吗-？"><a href="#promise可以串联吗-？" class="headerlink" title="promise可以串联吗 ？"></a>promise可以串联吗 ？</h1><p>无论是then方法还是catch方法，它们都具有返回值，返回的是一个全新的Promise对象，</p>
<h1 id="详述vue都能解决什么问题"><a href="#详述vue都能解决什么问题" class="headerlink" title="详述vue都能解决什么问题"></a>详述vue都能解决什么问题</h1><ol>
<li>方便迭代</li>
<li>通过先计算virtual dom而不是直接操作dom,来提升渲染效率</li>
<li>组件化开发</li>
</ol>
<h1 id="virtual-dom如何进行diff操作"><a href="#virtual-dom如何进行diff操作" class="headerlink" title="virtual dom如何进行diff操作"></a>virtual dom如何进行diff操作</h1><ul>
<li>比较标签,标签相同直接替换属性</li>
<li>比较key值,同key值对比，没有key在最后创建一个新节点，有key值可以插入新节点达到复用。</li>
<li>把节点树按照层级分析，不再是原先所有结点遍历对比所有节点，如果层级不同直接不用比较</li>
</ul>
<h1 id="vue中data为什么是函数不是对象"><a href="#vue中data为什么是函数不是对象" class="headerlink" title="vue中data为什么是函数不是对象"></a>vue中data为什么是函数不是对象</h1><p>因为对象中的属性是公共属性,可能会造成数据的修改.<br>而函数中的属性是私有属性,相当于命名空间.</p>
<h1 id="为什么需要深拷贝"><a href="#为什么需要深拷贝" class="headerlink" title="为什么需要深拷贝"></a>为什么需要深拷贝</h1><p>因为js中的值传递方式是引用传递,即如果赋值的数据,则直接存储在内存中.<br>如果是对象,则是把对象引用(指针)赋值到内存中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;zy&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = a ;</span><br><span class="line">b.<span class="property">name</span> = <span class="string">&quot;zoe&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">name</span>);<span class="comment">//zoe</span></span><br></pre></td></tr></table></figure>

<h1 id="简述指针是什么"><a href="#简述指针是什么" class="headerlink" title="简述指针是什么"></a>简述指针是什么</h1><p>指针也就是内存地址,有了指针以后，不仅可以对数据本身，也可以对存储数据的变量地址进行操作</p>
<h1 id="进程和线程的区别"><a href="#进程和线程的区别" class="headerlink" title="进程和线程的区别"></a>进程和线程的区别</h1><p>进程是系统分配资源的最小单位,线程是程序执行的最小单位.</p>
<h1 id="如何监控未处理的异常"><a href="#如何监控未处理的异常" class="headerlink" title="如何监控未处理的异常"></a>如何监控未处理的异常</h1><ul>
<li>window.onerror:<ul>
<li>onerror 最好写在所有 JS 脚本的前面，否则有可能捕获不到错误；</li>
<li>onerror 无法捕获语法错误；</li>
</ul>
</li>
<li>window.addEventListener<blockquote>
<p>当一项资源（如图片或脚本）加载失败，加载资源的元素会触发一个 Event 接口的 error 事件，并执行该元素上的onerror() 处理函数。这些 error 事件不会向上冒泡到 window ，不过（至少在 Firefox 中）能被单一的window.addEventListener 捕获。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;捕获到异常：&#x27;</span>, error);</span></span><br><span class="line"><span class="language-javascript">&#125;, <span class="literal">true</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./jartto.png&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="http和https的区别"><a href="#http和https的区别" class="headerlink" title="http和https的区别"></a>http和https的区别</h1><p>https = http + ssl<br>(443)    (80)</p>
<h1 id="http缓存"><a href="#http缓存" class="headerlink" title="http缓存"></a>http缓存</h1><h2 id="1-0-Expires"><a href="#1-0-Expires" class="headerlink" title="1.0 Expires"></a>1.0 Expires</h2><blockquote>
<p>Expires是HTTP/1.0控制网页缓存的字段，其值为服务器返回该请求的结果缓存的到期时间，即再次发送请求时，<em>如果客户端的时间小于Expires的值时，直接使用缓存结果</em>。<br>Expires是HTTP/1.0的字段，但是现在浏览器的默认使用的是HTTP/1.1，那么在HTTP/1.1中网页缓存还是否由Expires控制？<br>到了HTTP/1.1，Expires已经被Cache-Control替代，原因在于Expires控制缓存的原理是使用客户端的时间与服务端返回的时间做对比，如果客户端与服务端的时间由于某些原因（时区不同；客户端和服务端有一方的时间不准确）发生误差，那么强制缓存直接失效，那么强制缓存存在的意义就毫无意义。、</p>
</blockquote>
<h2 id="1-1-Cache-Control"><a href="#1-1-Cache-Control" class="headerlink" title="1.1 Cache-Control"></a>1.1 Cache-Control</h2><ul>
<li>public    所有内容都将被缓存（客户端和代理服务器都可缓存）</li>
<li>private   所有内容只有客户端可以缓存，Cache-Control的默认取值</li>
<li>no-cache  客户端缓存内容，但是是否使用缓存则需要经过协商缓存来验证决定</li>
<li>no-store  所有内容都不会被缓存，即不使用强制缓存，也不使用协商缓存</li>
<li>max-age=xxx (xxx is numeric)  缓存内容将在xxx秒后失效</li>
</ul>
<h2 id="内存缓存-js-img"><a href="#内存缓存-js-img" class="headerlink" title="内存缓存(js,img)"></a>内存缓存(js,img)</h2><ol>
<li>快速读取：内存缓存会将编译解析后的文件，直接存入该进程的内存中，占据该进程一定的内存资源，以方便下次运行使用时的快速读取。</li>
<li>时效性：一旦该进程关闭，则该进程的内存则会清空。</li>
</ol>
<h2 id="硬盘缓存-css"><a href="#硬盘缓存-css" class="headerlink" title="硬盘缓存(css)"></a>硬盘缓存(css)</h2><p>硬盘缓存则是直接将缓存写入硬盘文件中，读取缓存需要对该缓存存放的硬盘文件进行I/O操作，然后重新解析该缓存内容，读取复杂，速度比内存缓存慢。</p>
<h2 id="协商缓存"><a href="#协商缓存" class="headerlink" title="协商缓存"></a>协商缓存</h2><blockquote>
<p>协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用缓存的过程，</p>
</blockquote>
<ol>
<li>协商缓存生效，返回304，如下</li>
<li>协商缓存失败，返回200和请求结果，如下</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>强制缓存优先于协商缓存进行，若强制缓存(Expires和Cache-Control)生效则直接使用缓存，若不生效则进行协商缓存(Last-Modified / If-Modified-Since和Etag / If-None-Match)，协商缓存由服务器决定是否使用缓存，若协商缓存失效，那么代表该请求的缓存失效，重新获取请求结果，再存入浏览器缓存中；生效则返回304，继续使用缓存，主要过程如下：</p>
<h1 id="详述http-1-0-1-1-2-0的区别"><a href="#详述http-1-0-1-1-2-0的区别" class="headerlink" title="详述http 1.0, 1.1, 2.0的区别"></a>详述http 1.0, 1.1, 2.0的区别</h1><h2 id="1-0"><a href="#1-0" class="headerlink" title="1.0"></a>1.0</h2><p>HTTP 协议老的标准是HTTP/1.0，为了提高系统的效率，HTTP 1.0规定浏览器与服务器只保持短暂的连接，浏览器的每次请求都需要与服务器建立一个TCP连接，服务器完成请求处理后立即断开TCP连接，服务器不跟踪每个客户也不记录过去的请求。<br>问题:<br>连接无法复用，和head of line blocking</p>
<h2 id="1-1"><a href="#1-1" class="headerlink" title="1.1"></a>1.1</h2><ol>
<li>HTTP 1.1支持持久连接（HTTP/1.1的默认模式使用带流水线的持久连接），在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟。</li>
<li>HTTP 1.1还允许客户端不用等待上一次请求结果返回，就可以发出下一次请求，但服务器端必须按照接收到客户端请求的先后顺序依次回送响应结果，以保证客户端能够区分出每次请求的响应内容，这样也显著地减少了整个下载过程所需要的时间。</li>
<li>在HTTP 1.1中增加Host请求头字段。</li>
<li>HTTP 1.1还提供了与身份认证、状态管理和Cache缓存等机制相关的请求头和响应头。</li>
<li>HTTP 1.1支持断点续传</li>
</ol>
<h2 id="2-0"><a href="#2-0" class="headerlink" title="2.0"></a>2.0</h2><ol>
<li>多路复用 (Multiplexing)</li>
<li>二进制分帧</li>
<li>首部压缩（Header Compression）</li>
<li>服务端推送（Server Push）</li>
</ol>
<h1 id="UDP和TCP有什么区别"><a href="#UDP和TCP有什么区别" class="headerlink" title="UDP和TCP有什么区别"></a>UDP和TCP有什么区别</h1><ol>
<li>TCP面向连接（如打电话要先拨号建立连接）;UDP是无连接的，即发送数据之前不需要建立连接</li>
<li>TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付.Tcp通过校验和，重传控制，序号标识，滑动窗口、确认应答实现可靠传输。如丢包时的重发控制，还可以对次序乱掉的分包进行顺序控制。</li>
<li>UDP具有较好的实时性，工作效率比TCP高，适用于对高速传输和实时性有较高的通信或广播通信。</li>
<li>每一条TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信</li>
<li>TCP对系统资源要求较多，UDP对系统资源要求较少。</li>
</ol>
<h1 id="为什么使用udp"><a href="#为什么使用udp" class="headerlink" title="为什么使用udp"></a>为什么使用udp</h1><ol>
<li>UDP协议以其简单、传输快的优势，在越来越多场景下取代了TCP 4.1 网页浏览</li>
<li>网络带宽需求较小，而实时性要求高；</li>
<li>大部分应用无需维持连接；</li>
<li>需要低功耗；</li>
</ol>
<h1 id="char和varchar区别"><a href="#char和varchar区别" class="headerlink" title="char和varchar区别"></a>char和varchar区别</h1><ol>
<li>char存储所占的空间是固定的,varchar是动态的</li>
<li>char查找效率高</li>
</ol>
<h1 id="sql获取当前时间"><a href="#sql获取当前时间" class="headerlink" title="sql获取当前时间"></a>sql获取当前时间</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> now(); </span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200430一些面试题(bilibili2)</title>
    <url>/2020/04/30/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<h1 id="纯js如何获取scrolltop值"><a href="#纯js如何获取scrolltop值" class="headerlink" title="纯js如何获取scrolltop值"></a>纯js如何获取scrolltop值</h1><p>document.documentElement.scrollTop</p>
<h1 id="详述js闭包原理和意义"><a href="#详述js闭包原理和意义" class="headerlink" title="详述js闭包原理和意义"></a>详述js闭包原理和意义</h1><p>原理:闭包是指有权访问另一个函数作用域中的变量的函数。<br>做法:在一个函数内部创建另一个函数.<br>意义: 闭包可以帮助把一些不需要暴露在全局的变量封装成“私有变量”。</p>
<h1 id="深拷贝-浅拷贝是什么"><a href="#深拷贝-浅拷贝是什么" class="headerlink" title="深拷贝,浅拷贝是什么"></a>深拷贝,浅拷贝是什么</h1><p>例如拷贝一个对象.<br>浅拷贝只会拷贝属性的引用值<br>深拷贝会拷贝实际值</p>
<h1 id="arguments如何转数组"><a href="#arguments如何转数组" class="headerlink" title="arguments如何转数组"></a>arguments如何转数组</h1><ol>
<li>利用数组的分割,改变this指向 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">apply</span>(<span class="variable language_">arguments</span>)</span><br></pre></td></tr></table></figure></li>
<li>利用数组的连接 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> thisArg = [];</span><br><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">concat</span>.<span class="title function_">apply</span>(thisArg,<span class="variable language_">arguments</span>);</span><br></pre></td></tr></table></figure></li>
<li>利用数组的构造函数<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> thisArg = [];</span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">apply</span>(thisArg,<span class="variable language_">arguments</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="移动端和pc端click事件为什么差了300毫秒"><a href="#移动端和pc端click事件为什么差了300毫秒" class="headerlink" title="移动端和pc端click事件为什么差了300毫秒"></a>移动端和pc端click事件为什么差了300毫秒</h1><p>这是为了检查用户是否在做双击</p>
<h1 id="flex布局用法"><a href="#flex布局用法" class="headerlink" title="flex布局用法"></a>flex布局用法</h1><ol>
<li>display:flex,flex-direction方向</li>
<li>换行</li>
<li>主轴</li>
<li>垂直于主轴</li>
</ol>
<h1 id="如何实现移动端响应式布局"><a href="#如何实现移动端响应式布局" class="headerlink" title="如何实现移动端响应式布局"></a>如何实现移动端响应式布局</h1><h2 id="流式布局"><a href="#流式布局" class="headerlink" title="流式布局"></a>流式布局</h2><ol>
<li>文字流式</li>
<li>控件弹性</li>
<li>图片等比缩放</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 淘宝网在iphone6下font-size=100px;在plus下font-size为110.4</span></span><br><span class="line"><span class="comment">// iewport = document.documentElement.clientWidth</span></span><br><span class="line"><span class="comment">// iphone 6 = 375</span></span><br><span class="line"><span class="comment">// iphone 6 plus =  414</span></span><br><span class="line"><span class="comment">// iphone 6 : document.documentElement.clientWidth / 3.75 -&gt; 100</span></span><br><span class="line"><span class="comment">// iphone 6 plus : document.documentElement.clientWidth / 3.75 -&gt; 110.4</span></span><br><span class="line"><span class="comment">// 要得到100px 是因为根据设计稿的px换算时,100比较好算</span></span><br><span class="line"><span class="keyword">let</span> fontSize = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span> / <span class="number">3.75</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">fontSize</span> = fontSize + <span class="string">&#x27;px&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="rem布局"><a href="#rem布局" class="headerlink" title="rem布局"></a>rem布局</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* vm 把屏幕分成100份,屏幕款=100vw</span></span><br><span class="line"><span class="comment">iphone 6  375px  1vw = 3.75px</span></span><br><span class="line"><span class="comment">iphone 6  plus 414px  1vw = 4.14px</span></span><br><span class="line"><span class="comment">如果在iphone6下想得到100px,该设置多少vw呢</span></span><br><span class="line"><span class="comment">100/3.75 = 26.6666667 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">html</span>&#123;<span class="attribute">font-size</span>:<span class="number">26.666667vw</span>&#125;</span><br></pre></td></tr></table></figure>

<h2 id="media"><a href="#media" class="headerlink" title="@media"></a>@media</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> all <span class="keyword">and</span> (<span class="attribute">min-width</span>:<span class="number">500px</span>)&#123;</span><br><span class="line">  <span class="selector-id">#box</span>&#123;<span class="attribute">background</span>:<span class="number">#ccc</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ES6的作用域"><a href="#ES6的作用域" class="headerlink" title="ES6的作用域"></a>ES6的作用域</h1><ol>
<li>var定义的变量，可以跨块访问, 不能跨函数访问；<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b);  <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// error</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>let定义的变量，只能在块作用域里访问，不能跨块访问，也不能跨函数访问；</li>
<li>const用来定义常量，使用时必须初始化(即必须赋值)，只能在块作用域里访问，也不能跨函数访问，且不能修改。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">2</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);<span class="comment">//error</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="async-await是什么"><a href="#async-await是什么" class="headerlink" title="async await是什么"></a>async await是什么</h1><p>语法糖,promise和then<br>值得注意的是 await必须用在async里面,用同步的方式编写异步代码.<br>并且await返回的是一个 resolve的值,类似于then接收到的res;<br>至于await中的reject的值,用catch来接受.</p>
<h1 id="块级作用域有哪些"><a href="#块级作用域有哪些" class="headerlink" title="块级作用域有哪些"></a>块级作用域有哪些</h1><h1 id="详述promise异步机制"><a href="#详述promise异步机制" class="headerlink" title="详述promise异步机制"></a>详述promise异步机制</h1>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200430一些面试题(小米1篇)</title>
    <url>/2020/04/30/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<h1 id="es6新特性"><a href="#es6新特性" class="headerlink" title="es6新特性"></a>es6新特性</h1><ul>
<li>let const</li>
<li>块级作用域</li>
<li>箭头函数</li>
<li>模板字符串</li>
<li>解构赋值</li>
<li>模块导入导出</li>
<li>类</li>
<li>迭代</li>
<li>Promise</li>
<li>Symbol</li>
<li>Set  Map</li>
<li>默认参数</li>
<li>参数展开符</li>
</ul>
<h1 id="promise有几种状态"><a href="#promise有几种状态" class="headerlink" title="promise有几种状态"></a>promise有几种状态</h1><ul>
<li>pending  等待</li>
<li>rejectd  拒绝</li>
<li>fulfilled  成功</li>
</ul>
<h1 id="promise如何满足多个异步进程的同步顺序"><a href="#promise如何满足多个异步进程的同步顺序" class="headerlink" title="promise如何满足多个异步进程的同步顺序"></a>promise如何满足多个异步进程的同步顺序</h1><p>return  new Promise<br>然后通过.then链式调用</p>
<h1 id="promise-race和promise-all的区别"><a href="#promise-race和promise-all的区别" class="headerlink" title="promise.race和promise.all的区别"></a>promise.race和promise.all的区别</h1><p>race是哪个promise先完成,结果是谁<br>all是所有的结果</p>
<h1 id="如何用flex让8个图标排成两行"><a href="#如何用flex让8个图标排成两行" class="headerlink" title="如何用flex让8个图标排成两行"></a>如何用flex让8个图标排成两行</h1><p> flex-wrap: wrap;</p>
<h1 id="垂直居中和水平居中"><a href="#垂直居中和水平居中" class="headerlink" title="垂直居中和水平居中"></a>垂直居中和水平居中</h1><h2 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h2><ul>
<li>首先设置父元素为相对定位，再设置子元素为绝对定位，设置子元素的top: 50%，即让子元素的左上角垂直居中；</li>
<li>设置绝对子元素的 margin-top: -元素高度的一半px; </li>
<li>或者设置transform: translateY(-50%);</li>
<li>使用flexbox布局实现:align-items: center;</li>
</ul>
<h2 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h2><ul>
<li>margin: 0 auto; </li>
<li>display: inline;||display: inline-block;   text-align: center; </li>
<li>首先设置父元素为相对定位，再设置子元素为绝对定位，设置子元素的left:50%，即让子元素的左上角水平居中；</li>
<li>设置绝对子元素的 margin-left: -元素宽度的一半px; </li>
<li>transform: translateX(-50%);</li>
<li>flex: justify-content: center;</li>
</ul>
<h2 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h2><ul>
<li>设置父元素为相对定位，给子元素设置绝对定位，top: 0; right: 0; bottom: 0; left: 0; margin: auto;</li>
<li>设置父元素为相对定位，给子元素设置绝对定位，left: 50%; top: 50%; margin-left: –元素宽度的一半px; margin-top: –元素高度的一半px;</li>
<li>flex:justify-content: center; align-items: center;</li>
</ul>
<h1 id="vue中的fetch和axios是什么"><a href="#vue中的fetch和axios是什么" class="headerlink" title="vue中的fetch和axios是什么"></a>vue中的fetch和axios是什么</h1><blockquote>
<p>fetch API 是基于 Promise 设计,旧浏览器不支持 Promise，需要使用 polyfill es6-promise 。fetch 不需要额外的安装什么东西或引入文件，直接可以使用。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//headers为：&#x27;Content-Type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://www.daxunxun.com/users/register&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,<span class="comment">//设置请求方式</span></span><br><span class="line">    <span class="attr">headers</span>: &#123; <span class="comment">//应该你要根据你们自己的接口来判断，本案例中适合&#x27;application/x-www-form-urlencoded&#x27;，不是&#x27;application/json&#x27;</span></span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="string">&#x27;username=12345678912&amp;password=123456&#x27;</span>,</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>()).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>必须得引入 axios.js 文件或安装模块之后才能使用 npm install axios</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;https://www.daxunxun.com/users/login&#x27;</span>,&#123;</span><br><span class="line">              <span class="attr">username</span>: <span class="string">&#x27;12345678932&#x27;</span>,</span><br><span class="line">              <span class="attr">password</span>: <span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line">          &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>);</span><br><span class="line">          &#125;);</span><br></pre></td></tr></table></figure>

<h1 id="Vue页面加载完成前出现花括号"><a href="#Vue页面加载完成前出现花括号" class="headerlink" title="Vue页面加载完成前出现花括号"></a>Vue页面加载完成前出现花括号</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">   <span class="selector-attr">[v-cloak]</span> &#123;</span></span><br><span class="line"><span class="language-css">     <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">     &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app&quot;</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">你的代码。。。。。。。。。。。。。。。</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>v-cloak v-text v-html<br>v-cloak用于大段<br>v-text用于单个标签<br>v-html用于带有标签的处理</p>
<h1 id="解决跨域问题"><a href="#解决跨域问题" class="headerlink" title="解决跨域问题"></a>解决跨域问题</h1><ul>
<li>jsonp<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">script.<span class="property">type</span> = <span class="string">&#x27;text/javascript&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数</span></span><br><span class="line">script.<span class="property">src</span> = <span class="string">&#x27;http://www.domain2.com:8080/login?user=admin&amp;callback=handleCallback&#x27;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(script);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 回调执行函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleCallback</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(res));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>反向代理</li>
<li>跨域资源共享（CORS）<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>(); <span class="comment">// IE8/9需用window.XDomainRequest兼容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 前端设置是否带cookie</span></span><br><span class="line">xhr.<span class="property">withCredentials</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;http://www.domain2.com:8080/login&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span><br><span class="line">xhr.<span class="title function_">send</span>(<span class="string">&#x27;user=admin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> == <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(xhr.<span class="property">responseText</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li>nodejs中间件代理跨域</li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200501一些基础知识5</title>
    <url>/2020/05/01/</url>
    <content><![CDATA[<h1 id="null-和-undefined"><a href="#null-和-undefined" class="headerlink" title="null 和 undefined"></a>null 和 undefined</h1><ul>
<li>null 针对对象</li>
<li>undefined 针对值</li>
</ul>
<h1 id="Set和Weakset"><a href="#Set和Weakset" class="headerlink" title="Set和Weakset"></a>Set和Weakset</h1><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><blockquote>
<p>set元素只能是数组，不能是对象，并且支持定义的时候直接赋值<br>ES6提供了新的数据结构Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。<br>Set函数可以接受一个数组（或类似数组的对象）作为参数，用来初始化。</p>
</blockquote>
<h2 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h2><blockquote>
<p>WeakSet的元素可以是对象，不支持定义的的时候直接赋值<br>WeakSet对于对象的引用时<strong>弱引用</strong>,即如果除了它之外的引用被清空,那么值就会被垃圾回收.<br>因此,WeakSet没有size或者遍历的这些方法.</p>
</blockquote>
<h1 id="Map和WeakMap"><a href="#Map和WeakMap" class="headerlink" title="Map和WeakMap"></a>Map和WeakMap</h1><h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><blockquote>
<p>Map更适合用来做哈希表</p>
</blockquote>
<ul>
<li>各种类型的值（包括object）都可以作为key</li>
<li>Map支持迭代，直接使用for…of来遍历，而不需要像对象一样先获取key再遍历，typeof obj[Symbol.iterator] === function</li>
<li>Map在遇到频繁删除添加和键值对的场景下，有更好的性能表现</li>
<li>Map用迭代的方式遍历key时，得到的key的顺序与key添加到Map时的顺序相同</li>
</ul>
<h2 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h2><blockquote>
<p>WeakMap跟Map结构类似，也拥有get、has、delete等方法，使用法和使用途都一样</p>
</blockquote>
<ul>
<li>WeakMap只接受对象作为键名，但null不能作为键名</li>
<li>WeakMap不支持clear方法，不支持遍历，也就没有了keys、values、entries、forEach这4个方法，也没有属性size</li>
<li>WeakMap 键名中的引用类型是<strong>弱引使用</strong>，假如这个引使用类型的值被垃圾机制回收了，WeakMap实例中的对应键值对也会消失。WeakMap中的key不计入垃圾回收，即若只有WeakMap中的key对某个对象有引用，那么此时执行垃圾回收时就会回收该对象，而Map中的key是计入垃圾回收</li>
</ul>
<h1 id="call-apply"><a href="#call-apply" class="headerlink" title="call apply"></a>call apply</h1><h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><ul>
<li>立即执行</li>
<li>参数顺序传递<h2 id="aplly"><a href="#aplly" class="headerlink" title="aplly"></a>aplly</h2></li>
<li>立即执行</li>
<li>参数以数组形式传递</li>
</ul>
<h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>改变指针,但是不<strong>立即执行</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> zy  = &#123;</span><br><span class="line">  name : <span class="string">&#x27;zy&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">arg1,arg2</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + arg1 + arg2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test.<span class="title function_">call</span>(zy,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">test.<span class="title function_">apply</span>(zy,[<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line">test.<span class="title function_">bind</span>(zy)(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h1 id="作用域和闭包"><a href="#作用域和闭包" class="headerlink" title="作用域和闭包"></a>作用域和闭包</h1><ul>
<li>普通的函数,每一次运行会开辟一块内存空间,执行完毕后,会销毁内存空间</li>
<li>如果想要反复使用函数的中值,就要在外部用一个引用变量接受return出的函数,这样会使这个环境在外部有引用,就不会被销毁</li>
<li>两次引用一个函数,也会开辟不同的环境<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> m = <span class="number">0</span> ;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(++m)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="title function_">test</span>()</span><br><span class="line"><span class="title function_">a</span>()</span><br><span class="line"><span class="title function_">a</span>()</span><br><span class="line"><span class="keyword">let</span> b = <span class="title function_">test</span>()</span><br><span class="line"><span class="title function_">b</span>()</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
<li></li>
<li>return几次,在外部就要执行几次<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> m = <span class="number">1</span> ;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> n = <span class="number">1</span> ;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;m:&#x27;</span> + ++m);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;n:&#x27;</span> + ++n);</span><br><span class="line">    &#125;   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = <span class="title function_">test</span>()();</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">m:2</span></span><br><span class="line"><span class="comment">n:2</span></span><br><span class="line"><span class="comment">m:3</span></span><br><span class="line"><span class="comment">n:3</span></span><br><span class="line"><span class="comment">m:4</span></span><br><span class="line"><span class="comment">n:4</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h1><h2 id="可以通过-Object-create创建没有原型的对象-纯字面量"><a href="#可以通过-Object-create创建没有原型的对象-纯字面量" class="headerlink" title="可以通过 Object.create创建没有原型的对象,纯字面量"></a>可以通过 Object.create创建没有原型的对象,纯字面量</h2><ul>
<li>不传参,则是创建没有原型的对象</li>
<li>传参,就是以该参数为原型的对象<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>,&#123;</span><br><span class="line">  <span class="attr">name</span>:&#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;zy&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;name: &quot;zy&quot;&#125;</span></span><br><span class="line"><span class="comment">name: &quot;zy&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
      </tags>
  </entry>
  <entry>
    <title>200503前端性能优化</title>
    <url>/2020/05/03/</url>
    <content><![CDATA[<h1 id="页面重构怎么操作？"><a href="#页面重构怎么操作？" class="headerlink" title="页面重构怎么操作？"></a>页面重构怎么操作？</h1><blockquote>
<p>在不改变外部行为的前提下，简化结构、添加可读性，而在网站前端保持一致的行为。<br>也就是说是在不改变UI的情况下，对网站进行优化，在扩展的同时保持一致的UI。</p>
</blockquote>
<ol>
<li><p>表格(table)布局改为DIV+CSS(table代码冗余,且不好控制样式,为了将样式于数据展示分离,最好用div)<br>使网站前端兼容于现代浏览器(针对于不合规范的CSS、如对IE6有效的)<br>对于移动平台的优化<br>针对于SEO进行优化<br>深层次的网站重构应该考虑的方面</p>
</li>
<li><p>减少代码间的耦合<br>让代码保持弹性<br>严格按规范编写代码<br>设计可扩展的API<br>代替旧有的框架、语言(如VB)<br>增强用户体验<br>通常来说对于速度的优化也包含在重构中</p>
</li>
<li><p>压缩JS、CSS、image等前端资源(通常是由服务器来解决)<br>程序的性能优化(如数据读写)<br>采用CDN来加速资源加载<br>对于JS DOM的优化<br>HTTP服务器的文件缓存</p>
</li>
</ol>
<h1 id="前端性能优化的方法？"><a href="#前端性能优化的方法？" class="headerlink" title="前端性能优化的方法？"></a>前端性能优化的方法？</h1><ol>
<li>减少http请求次数：CSS Sprites, JS、CSS源码压缩、图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器。</li>
<li>前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</li>
<li> 用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能。</li>
<li> 当需要设置的样式很多时设置className而不是直接操作style。</li>
<li> 少用全局变量、缓存DOM节点查找的结果。减少IO读取操作</li>
<li> 避免使用CSS Expression（css表达式)又称Dynamic properties(动态属性)。</li>
<li> 图片预加载，将样式表放在顶部，将脚本放在底部 加上时间戳。</li>
<li> 避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢。</li>
</ol>
<h1 id="优化思路"><a href="#优化思路" class="headerlink" title="优化思路"></a>优化思路</h1><p>在不影响功能和体验的情况下，</p>
<ol>
<li>能在浏览器执行的不要在服务端执行，</li>
<li>能在缓存服务器上直接返回的不要到应用服务器，</li>
<li>程序能直接取得的结果不要到外部取得，</li>
<li>本机内能取得的数据不要到远程取，</li>
<li>内存能取到的不要到磁盘取，</li>
<li>缓存中有的不要去数据库查询。</li>
<li>减少数据库操作指减少更新次数、缓存结果减少查询次数、将数据库执行的操作尽可能的让你的程序完成（例如join查询），减少磁盘IO指尽量不使用文件系统作为缓存、减少读写文件次数等。</li>
<li>程序优化永远要优化慢的部分，换语言是无法“优化”的。</li>
</ol>
<h1 id="页面从输入-URL-到页面加载显示完成"><a href="#页面从输入-URL-到页面加载显示完成" class="headerlink" title="页面从输入 URL 到页面加载显示完成"></a>页面从输入 URL 到页面加载显示完成</h1><h2 id="详细版"><a href="#详细版" class="headerlink" title="详细版"></a>详细版</h2><ol>
<li>浏览器会开启一个线程来处理这个请求，对 URL 分析判断如果是 http 协议就按照 Web 方式来处理;</li>
<li>调用浏览器内核中的对应方法，比如 WebView 中的 loadUrl 方法;</li>
<li>通过DNS解析获取网址的IP地址，设置 UA 等信息发出第二个GET请求;</li>
<li>进行HTTP协议会话，客户端发送报头(请求报头);</li>
<li>进入到web服务器上的 Web Server，如 Apache、Tomcat、Node.JS 等服务器;</li>
<li>进入部署好的后端应用，如 PHP、Java、JavaScript、Python 等，找到对应的请求处理;</li>
<li>处理结束回馈报头，此处如果浏览器访问过，缓存上有对应资源，会与服务器最后修改时间对比，一致则返回304;</li>
<li>浏览器开始下载html文档(响应报头，状态码200)，同时使用缓存;</li>
<li>文档树建立，根据标记请求所需指定MIME类型的文件（比如css、js）,同时设置了cookie;</li>
<li>页面开始渲染DOM，JS根据DOM API操作DOM,执行事件绑定等，页面显示完成。</li>
</ol>
<h2 id="简略版"><a href="#简略版" class="headerlink" title="简略版"></a>简略版</h2><ol>
<li>浏览器根据请求的URL交给DNS域名解析，找到真实IP，向服务器发起请求；</li>
<li>服务器交给后台处理完成后返回数据，浏览器接收文件（HTML、JS、CSS、图象等）；</li>
<li>浏览器对加载到的资源（HTML、JS、CSS等）进行语法解析，建立相应的内部数据结构（如HTML的DOM）；</li>
<li>载入解析到的资源文件，渲染页面，完成。</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
        <tag>Html</tag>
        <tag>性能优化</tag>
      </tags>
  </entry>
  <entry>
    <title>200503html懒加载和预加载</title>
    <url>/2020/05/03/</url>
    <content><![CDATA[<h1 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h1><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>一张图片就是一个img标签，浏览器是否发起请求图片是根据img的src属性，所以实现懒加载的关键就是，在图片没有进入可视区域时，先不给img的src赋值，这样浏览器就不会发送请求了，等到图片进入可视区域再给src赋值。</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol>
<li>加载loading图片</li>
<li><strong>判断哪些图片要加载</strong></li>
<li>隐形加载图片</li>
<li>替换真图片</li>
</ol>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><ol>
<li><p>加载loading图片</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>  <span class="attr">data-src</span>=<span class="string">&quot;http://120.79.183.71/img/home/1.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>  <span class="attr">data-src</span>=<span class="string">&quot;http://120.79.183.71/img/home/2.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>  <span class="attr">data-src</span>=<span class="string">&quot;http://120.79.183.71/img/home/3.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>    <span class="attr">data-src</span>=<span class="string">&quot;http://120.79.183.71/img/home/4.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>  <span class="attr">data-src</span>=<span class="string">&quot;http://120.79.183.71/img/home/5.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">img</span>  <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>  <span class="attr">data-src</span>=<span class="string">&quot;http://120.79.183.71/img/avatar/a.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此处的data-* 是一种定义标签自定义属性的属性名称,在js获取dom节点后可以通过dataset.* 来获取</p>
</li>
<li><p>如何判断图片进入可视区域是关键。<br><img src="/2020/05/03/20190524164645631.png"><br>如上图所示，让在浏览器可视区域的图片显示，可视区域外的不显示，所以当图片距离顶部的距离top-height等于可视区域h和滚动区域高度s之和时说明图片马上就要进入可视区了，就是说当top-height&lt;=s+h时，图片在可视区。</p>
</li>
<li><p>具体代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> lazyLoad = <span class="keyword">function</span>(<span class="params">imgs</span>)&#123;</span><br><span class="line">  imgs.<span class="title function_">forEach</span>(<span class="function">(<span class="params">img,index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// img.offsetTop 某个元素离顶点的距离</span></span><br><span class="line">      <span class="comment">//  window.innerHeight 可视化的高度</span></span><br><span class="line">      <span class="comment">// document.documentElement.scrollTop 滚动高度</span></span><br><span class="line">      <span class="keyword">if</span> (img.<span class="property">offsetTop</span> &lt;= <span class="variable language_">window</span>.<span class="property">innerHeight</span>+<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>) &#123;</span><br><span class="line">        <span class="comment">// 一般会有延时</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> temp = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">            <span class="comment">// 这样就只会发送一次网络请求</span></span><br><span class="line">            temp.<span class="property">src</span> = img.<span class="property">dataset</span>.<span class="property">src</span>;</span><br><span class="line">            temp.<span class="property">onload</span> = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">            img.<span class="property">src</span> = temp.<span class="property">src</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">500</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="title function_">lazyLoad</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;img&#x27;</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 初始化 执行一次</span></span><br><span class="line"><span class="title function_">lazyLoad</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;img&#x27;</span>));</span><br><span class="line"> </span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="几个dom的api"><a href="#几个dom的api" class="headerlink" title="几个dom的api"></a>几个dom的api</h2><p>页可见区域宽： document.body.clientWidth;<br>网页可见区域高： document.body.clientHeight;<br>网页可见区域宽： document.body.offsetWidth (包括边线的宽);<br>网页可见区域高： document.body.offsetHeight (包括边线的宽);<br>网页正文全文宽： document.body.scrollWidth;<br>网页正文全文高： document.body.scrollHeight;<br>网页被卷去的高： document.body.scrollTop;<br>网页被卷去的左： document.body.scrollLeft;<br>网页正文部分上： window.screenTop;<br>网页正文部分左： window.screenLeft;<br>屏幕分辨率的高： window.screen.height;<br>屏幕分辨率的宽： window.screen.width;<br>屏幕可用工作区高度： window.screen.availHeight;</p>
<h1 id="预加载"><a href="#预加载" class="headerlink" title="预加载"></a>预加载</h1><h2 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h2><p>资源预加载是另一个性能优化技术，我们可以使用该技术来预先告知浏览器某些资源可能在将来会被使用到。预加载简单来说就是将所有所需的资源<strong>提前请求加载到本地</strong>，这样后面在需要用到时就直接从缓存取资源。</p>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><ol>
<li>使用html标签<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://pic26.nipic.com/20121213/6168183 0044449030002.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>使用Image对象<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> image= <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">image.<span class="property">src</span>=<span class="string">&quot;http://pic26.nipic.com/20121213/6168183 004444903000 2.jpg&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>使用属性<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;big.jpeg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
        <tag>Html</tag>
        <tag>性能优化</tag>
      </tags>
  </entry>
  <entry>
    <title>200504Vue面试问题</title>
    <url>/2020/05/04/</url>
    <content><![CDATA[<h1 id="对于MVVM的理解？"><a href="#对于MVVM的理解？" class="headerlink" title="对于MVVM的理解？"></a>对于MVVM的理解？</h1><p>MVVM 是 Model-View-ViewModel 的缩写。</p>
<ol>
<li>Model代表数据模型，也可以在Model中定义数据修改和操作的业务逻辑。</li>
<li>View 代表UI 组件，它负责将数据模型转化成UI 展现出来。</li>
<li>ViewModel 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步View 和 Model的对象，连接Model和View。<blockquote>
<p>通过双向数据绑定把 View 层和 Model 层连接了起来，而View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作DOM, 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p>
</blockquote>
</li>
</ol>
<h1 id="Vue的生命周期"><a href="#Vue的生命周期" class="headerlink" title="Vue的生命周期"></a>Vue的生命周期</h1><ul>
<li>beforeCreate  在数据观测和初始化事件还未开始</li>
<li>created    完成数据观测，属性和方法的运算，初始化事件，$el属性还没有显示出来</li>
<li>beforeMount  实例已完成以下的配置：编译模板，把data里面的数据和模板生成html。注意此时还没有挂载html到页面上。</li>
<li>mounted 实例已完成以下的配置：用上面编译好的html内容替换el属性指向的DOM对象。完成模板中的html渲染到html页面中。此过程中进行ajax交互。</li>
<li>beforeUpdate 在数据更新之前调用，发生在虚拟DOM重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程。</li>
<li>updated 在由于数据更改导致的虚拟DOM重新渲染和打补丁之后调用。调用时，组件DOM已经更新，所以可以执行依赖于DOM的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端渲染期间不被调用。</li>
<li>beforeDestroy 在实例销毁之前调用。实例仍然完全可用</li>
<li>destroyed  在实例销毁之后调用。调用后，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用。</li>
</ul>
<h2 id="什么是vue生命周期？"><a href="#什么是vue生命周期？" class="headerlink" title="什么是vue生命周期？"></a>什么是vue生命周期？</h2><p>Vue 实例从创建到销毁的过程，就是生命周期。从开始创建、初始化数据、编译模板、挂载Dom→渲染、更新→渲染、销毁等一系列过程，称之为 Vue 的生命周期。</p>
<h2 id="DOM-渲染在-哪个周期中就已经完成？"><a href="#DOM-渲染在-哪个周期中就已经完成？" class="headerlink" title="DOM 渲染在 哪个周期中就已经完成？"></a>DOM 渲染在 哪个周期中就已经完成？</h2><p>DOM 渲染在 mounted 中就已经完成了。</p>
<h1 id="Vue实现数据双向绑定的原理：Object-defineProperty（）"><a href="#Vue实现数据双向绑定的原理：Object-defineProperty（）" class="headerlink" title="Vue实现数据双向绑定的原理：Object.defineProperty（）"></a>Vue实现数据双向绑定的原理：Object.defineProperty（）</h1><p>vue实现数据双向绑定主要是：采用数据劫持结合发布者-订阅者模式的方式，通过Object.defineProperty（）来劫持各个属性的setter，getter，在数据变动时发布消息给订阅者，触发相应监听回调。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span> = <span class="string">&quot;myInput&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myBox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myInput&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> myBox = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myBox&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> obj = &#123;&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj,<span class="string">&#x27;name&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">configurable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">enumerable</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> obj.<span class="property">name</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">set</span>(<span class="params">newVal</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                myBox.<span class="property">innerText</span> = newVal</span></span><br><span class="line"><span class="language-javascript">                myInput.<span class="property">value</span> = newVal</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        myInput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>,<span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            obj.<span class="property">name</span> = e.<span class="property">target</span>.<span class="property">value</span>;  </span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Vue组件间的参数传递"><a href="#Vue组件间的参数传递" class="headerlink" title="Vue组件间的参数传递"></a>Vue组件间的参数传递</h1><h2 id="父组件与子组件传值"><a href="#父组件与子组件传值" class="headerlink" title="父组件与子组件传值"></a>父组件与子组件传值</h2><p>父组件传给子组件：子组件通过props方法接受数据;<br>子组件传给父组件：$emit方法传递参数</p>
<h2 id="非父子组件间的数据传递，兄弟组件传值"><a href="#非父子组件间的数据传递，兄弟组件传值" class="headerlink" title="非父子组件间的数据传递，兄弟组件传值"></a>非父子组件间的数据传递，兄弟组件传值</h2><p>eventBus，就是创建一个事件中心，相当于中转站，可以用它来传递事件和接收事件。项目比较小时，用这个比较合适。（虽然也有不少人推荐直接用VUEX，具体来说看需求咯。技术只是手段，目的达到才是王道。）</p>
<h1 id="Vue的路由实现：hash模式-和-history模式"><a href="#Vue的路由实现：hash模式-和-history模式" class="headerlink" title="Vue的路由实现：hash模式 和 history模式"></a>Vue的路由实现：hash模式 和 history模式</h1><h2 id="hash模式-在浏览器中符号“-”，-以及-后面的字符称之为hash，用window-location-hash读取；"><a href="#hash模式-在浏览器中符号“-”，-以及-后面的字符称之为hash，用window-location-hash读取；" class="headerlink" title="hash模式 在浏览器中符号“#”，#以及#后面的字符称之为hash，用window.location.hash读取；"></a>hash模式 在浏览器中符号“#”，#以及#后面的字符称之为hash，用window.location.hash读取；</h2><blockquote>
<p>特点：hash虽然在URL中，但不被包括在HTTP请求中；用来指导浏览器动作，对服务端安全无用，hash不会重加载页面。<br>hash 模式下，仅 hash 符号之前的内容会被包含在请求中，如 <a href="http://www.xxx.com,因此对于后端来说,即使没有做到对路由的全覆盖,也不会返回/">http://www.xxx.com，因此对于后端来说，即使没有做到对路由的全覆盖，也不会返回</a> 404 错误。</p>
</blockquote>
<h2 id="history模式"><a href="#history模式" class="headerlink" title="history模式"></a>history模式</h2><blockquote>
<p>history采用HTML5的新特性；且提供了两个新方法：pushState（），replaceState（）可以对浏览器历史记录栈进行修改，以及popState事件的监听到状态变更。<br>history 模式下，前端的 URL 必须和实际向后端发起请求的 URL 一致，如 <a href="http://www.xxx.com/items/id%E3%80%82%E5%90%8E%E7%AB%AF%E5%A6%82%E6%9E%9C%E7%BC%BA%E5%B0%91%E5%AF%B9">http://www.xxx.com/items/id。后端如果缺少对</a> /items/id 的路由处理，将返回 404 错误</p>
</blockquote>
<h1 id="vue路由的钩子函数"><a href="#vue路由的钩子函数" class="headerlink" title="vue路由的钩子函数"></a>vue路由的钩子函数</h1><p>首页可以控制导航跳转，beforeEach，afterEach等，一般用于页面title的修改。一些需要登录才能调整页面的重定向功能。</p>
<p>beforeEach主要有3个参数to，from，next：<br>to：route即将进入的目标路由对象，<br>from：route当前导航正要离开的路由<br>next：function一定要调用该方法resolve这个钩子。执行效果依赖next方法的调用参数。可以控制网页的跳转。</p>
<h1 id="vuex是什么？怎么使用？哪种功能场景使用它？"><a href="#vuex是什么？怎么使用？哪种功能场景使用它？" class="headerlink" title="vuex是什么？怎么使用？哪种功能场景使用它？"></a>vuex是什么？怎么使用？哪种功能场景使用它？</h1><p>只用来读取的状态集中放在store中； 改变状态的方式是提交mutations，这是个同步的事物； 异步逻辑应该封装在action中。<br>在main.js引入store，注入。新建了一个目录store，….. export 。<br>场景有：单页应用中，组件之间的状态、音乐播放、登录状态、加入购物车</p>
<h1 id="vue-cli如何新增自定义指令？"><a href="#vue-cli如何新增自定义指令？" class="headerlink" title="vue-cli如何新增自定义指令？"></a>vue-cli如何新增自定义指令？</h1><h2 id="局部指令"><a href="#局部指令" class="headerlink" title="局部指令"></a>局部指令</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;    </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 创建指令(可以多个)</span></span><br><span class="line">    <span class="attr">directives</span>: &#123;</span><br><span class="line">        <span class="comment">// 指令名称</span></span><br><span class="line">        <span class="attr">dir1</span>: &#123;</span><br><span class="line">            <span class="title function_">inserted</span>(<span class="params">el</span>) &#123;</span><br><span class="line">                <span class="comment">// 指令中第一个参数是当前使用指令的DOM</span></span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(el);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">                <span class="comment">// 对DOM进行操作</span></span><br><span class="line">                el.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&#x27;200px&#x27;</span>;</span><br><span class="line">                el.<span class="property">style</span>.<span class="property">height</span> = <span class="string">&#x27;200px&#x27;</span>;</span><br><span class="line">                el.<span class="property">style</span>.<span class="property">background</span> = <span class="string">&#x27;#000&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="全局指令"><a href="#全局指令" class="headerlink" title="全局指令"></a>全局指令</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;dir2&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">inserted</span>(<span class="params">el</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(el);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="指令的使用"><a href="#指令的使用" class="headerlink" title="指令的使用"></a>指令的使用</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-dir1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-dir2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="指令的触发"><a href="#指令的触发" class="headerlink" title="指令的触发"></a>指令的触发</h2><ol>
<li>bind(){} 当指令绑定到 HTML 元素上时触发.只调用一次.</li>
<li>inserted() 当绑定了指令的这个HTML元素插入到父元素上时触发(在这里父元素是 div#app).但不保证,父元素已经插入了 DOM 文档.</li>
<li>updated() 所在组件的VNode更新时调用.</li>
<li>componentUpdate 指令所在的组件的VNode以及其子VNode 全部更新后调用.</li>
<li>unbind: 指令和元素解绑的时候调用,只调用一次</li>
</ol>
<h1 id="vue如何自定义一个过滤器？"><a href="#vue如何自定义一个过滤器？" class="headerlink" title="vue如何自定义一个过滤器？"></a>vue如何自定义一个过滤器？</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span> /&gt;</span></span><br><span class="line">     &#123;&#123;msg| capitalize &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">msg</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">filters</span>: &#123;</span><br><span class="line">      <span class="attr">capitalize</span>: <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        value = value.<span class="title function_">toString</span>()</span><br><span class="line">        <span class="keyword">return</span> value.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + value.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="全局定义过滤器"><a href="#全局定义过滤器" class="headerlink" title="全局定义过滤器"></a>全局定义过滤器</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;capitalize&#x27;</span>, <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  value = value.<span class="title function_">toString</span>()</span><br><span class="line">  <span class="keyword">return</span> value.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + value.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="对keep-alive-的了解？"><a href="#对keep-alive-的了解？" class="headerlink" title="对keep-alive 的了解？"></a>对keep-alive 的了解？</h1><p>keep-alive是 Vue 内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。<br>在vue 2.1.0 版本之后，keep-alive新加入了两个属性: include(包含的组件缓存) 与 exclude(排除的组件不缓存，优先级大于include) 。</p>
<blockquote>
<p>被包裹在keep-alive中的组件的状态将会被保留，例如我们将某个列表类组件内容滑动到第100条位置，那么我们在切换到一个组件后再次切换回到该组件，该组件的位置状态依旧会保持在第100条列表处</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&#x27;include_components&#x27;</span> <span class="attr">exclude</span>=<span class="string">&#x27;exclude_components&#x27;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 该组件是否缓存取决于include和exclude属性 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 主要看组件的 name 属性 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="vue路由钩子函数："><a href="#vue路由钩子函数：" class="headerlink" title="vue路由钩子函数："></a>vue路由钩子函数：</h1><p>6个</p>
<p>全局的路由钩子函数：beforeEach、afterEach</p>
<p>单个的路由钩子函数：beforeEnter</p>
<p>组件内的路由钩子函数：beforeRouteEnter、beforeRouteLeave、beforeRouteUpdate</p>
<h1 id="一句话回答的问题"><a href="#一句话回答的问题" class="headerlink" title="一句话回答的问题"></a>一句话回答的问题</h1><h2 id="css只在当前组件起作用"><a href="#css只在当前组件起作用" class="headerlink" title="css只在当前组件起作用"></a>css只在当前组件起作用</h2><p>答：在style标签中写入scoped即可 例如：<style scoped></style></p>
<h2 id="v-if-和-v-show-区别"><a href="#v-if-和-v-show-区别" class="headerlink" title="v-if 和 v-show 区别"></a>v-if 和 v-show 区别</h2><p>v-if按照条件是否渲染，v-show是display的block或none；<br>v-if 造成切换性能损耗,v-show造成创建损耗<br>如果一个组件经常消失/出现,用v-show<br>反之用v-if,因为可以不创建,减少损耗</p>
<h2 id="route-和-router的区别"><a href="#route-和-router的区别" class="headerlink" title="route 和 router的区别"></a>route 和 router的区别</h2><p>route是路由信息对象,包括path,params,hash,query,name,fullPath<br>router是路由实例对象,包括路由的跳转,钩子函数等</p>
<h2 id="vue-js的两个核心是什么？"><a href="#vue-js的两个核心是什么？" class="headerlink" title="vue.js的两个核心是什么？"></a>vue.js的两个核心是什么？</h2><p>数据驱动、组件系统</p>
<h2 id="vue几种常用的指令"><a href="#vue几种常用的指令" class="headerlink" title="vue几种常用的指令"></a>vue几种常用的指令</h2><p>v-for 、 v-if 、v-bind、v-on、v-show、v-else</p>
<h2 id="vue常用的修饰符？"><a href="#vue常用的修饰符？" class="headerlink" title="vue常用的修饰符？"></a>vue常用的修饰符？</h2><p>.prevent: 提交事件不再重载页面；<br>.stop: 阻止单击事件冒泡；<br>.self: 当事件发生在该元素本身而不是子元素的时候会触发；<br>.capture: 事件侦听，事件发生的时候会调用</p>
<h2 id="v-on-可以绑定多个方法吗？"><a href="#v-on-可以绑定多个方法吗？" class="headerlink" title="v-on 可以绑定多个方法吗？"></a>v-on 可以绑定多个方法吗？</h2><p>可</p>
<h2 id="vue中-key-值的作用？"><a href="#vue中-key-值的作用？" class="headerlink" title="vue中 key 值的作用？"></a>vue中 key 值的作用？</h2><p>当 Vue.js 用 v-for 正在更新已渲染过的元素列表时，它默认用“就地复用”策略。如果数据项的顺序被改变，Vue 将不会移动 DOM 元素来匹配数据项的顺序， 而是简单复用此处每个元素，并且确保它在特定索引下显示已被渲染过的每个元素。key的作用主要是为了高效的更新虚拟DOM。</p>
<h2 id="什么是vue的计算属性？"><a href="#什么是vue的计算属性？" class="headerlink" title="什么是vue的计算属性？"></a>什么是vue的计算属性？</h2><p>在模板中放入太多的逻辑会让模板过重且难以维护，在需要对数据进行复杂处理，且可能多次使用的情况下，尽量采取计算属性的方式。好处：</p>
<ol>
<li>使得数据处理结构清晰；</li>
<li>依赖于数据，数据更新，处理结果自动更新；</li>
<li>计算属性内部this指向vm实例；</li>
<li>在template调用时，直接写计算属性名即可；</li>
<li>常用的是getter方法，获取数据，也可以使用set方法改变数据；</li>
<li>相较于methods，不管依赖的数据变不变，methods都会重新计算，但是依赖数据不变的时候computed从缓存中获取，不会重新计算。</li>
</ol>
<h2 id="vue等单页面应用及其优缺点"><a href="#vue等单页面应用及其优缺点" class="headerlink" title="vue等单页面应用及其优缺点"></a>vue等单页面应用及其优缺点</h2><p>优点：Vue 的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件，核心是一个响应的数据绑定系统。MVVM、数据驱动、组件化、轻量、简洁、高效、快速、模块友好。<br>缺点：不支持低版本的浏览器，最低只支持到IE9；不利于SEO的优化（如果要支持SEO，建议通过服务端来进行渲染组件）；第一次加载首页耗时相对长一些；不可以使用浏览器的导航按钮需要自行实现前进、后退。</p>
<h2 id="怎么定义-vue-router-的动态路由-怎么获取传过来的值"><a href="#怎么定义-vue-router-的动态路由-怎么获取传过来的值" class="headerlink" title="怎么定义 vue-router 的动态路由? 怎么获取传过来的值"></a>怎么定义 vue-router 的动态路由? 怎么获取传过来的值</h2><p>在 router 目录下的 index.js 文件中，对 path 属性加上 /:id，使用 router 对象的 params.id 获取。</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>面试</tag>
      </tags>
  </entry>
  <entry>
    <title>200504前端常用的对象方法</title>
    <url>/2020/05/04/</url>
    <content><![CDATA[<h1 id="Js"><a href="#Js" class="headerlink" title="Js"></a>Js</h1><h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><ul>
<li>concat()  连接两个或更多数组</li>
<li>join()  将数组以参数连接成字符串,传参空字符串,能变成纯字符串</li>
<li>pop()  删除,并返回最后一个元素</li>
<li>push()  向末尾添加元素,返回长度</li>
<li>reserve()   颠倒顺序 </li>
<li>shift()  删除并返回第一个元素</li>
<li>slice()  返回已有的元素</li>
<li>sort()  根据传入的函数排序  ,return a-b 升序, b-a 降序</li>
<li>splice()  删除元素,并向元素添加新元素</li>
<li>unshift()  向开头添加一个或更多元素</li>
<li>indexOf()  查找下标</li>
</ul>
<hr>
<p>新增方法</p>
<ul>
<li>includes()  是否含有</li>
<li>find()  找到第一个符合条件的,找不到返回undefined</li>
<li>findIndex()  如上,找不到返回-1</li>
<li>flat()  降维    参数为最多把X层的数组降维,Infinity</li>
<li>from()  将类数组转化为数组</li>
<li>fill()   填充</li>
</ul>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><ul>
<li>charAt()  返回指定位置的字符</li>
<li>concat()  连接字符串</li>
<li>indexOf()  检索字符串中第一个符合条件的下标</li>
<li>lastIndexOf()  从后开始找第一个</li>
<li>includes()  是否含有</li>
<li>replace()  替换</li>
<li>match()  找到一个或多个正则匹配</li>
<li>search()  找到匹配正则的值</li>
<li>slice()  截取字符串,并返回被提取的部分</li>
<li>substr()  按起始位置和长度截取字符串</li>
<li>substring()  截取字符串,并返回被提取的部分 字符串专用,按小的那个数值为起始</li>
<li>toLowerCase()/toUpperCase()  大小写</li>
</ul>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><ul>
<li>create()  创建一个对象,Object.create(null) 能创建一个原型为空的对象</li>
<li>defineProperty()  定义对象属性,可以通过劫持属性实现双向绑定</li>
<li>keys()   遍历可枚举的属性</li>
<li>values()  遍历可枚举的属性值</li>
<li>getPrototypeOf()  获取指定对象的原型</li>
<li>setPrototypeOf()  </li>
<li>getOwnPropertyNames()  与keys相似，但包含遍历包含不可枚举属性</li>
<li>getOwnPropertyDescriptor()  获取该属性的描述对象</li>
<li>entries()  分割对象</li>
<li>is()  它用来比较两个值是否严格相等，与严格比较运算符（===）的行为基本一致</li>
<li>hasOwnProperty()  方法会返回一个布尔值，指示对象自身属性中是否具有指定的属性</li>
<li>isPrototypeOf()    用于测试一个对象是否存在于另一个对象的原型链上</li>
<li>caller()  返回当前函数的调用者</li>
</ul>
<h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><ul>
<li>random() 返回0-1的随机数</li>
<li>round(x) 把数四舍五入为最接近的整数。</li>
<li>floor(x) 向下取整</li>
<li>ceil(x) 向上取整</li>
</ul>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2><ul>
<li>Date的  是关于日期</li>
<li>Time的 是关于时间</li>
<li>toLocaleString() 根据本地时间格式，把 Date 对象转换为字符串。</li>
</ul>
<h2 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h2><ul>
<li>onblur()   失去焦点</li>
<li>onclick()    单击</li>
<li>ondblclick()   双击</li>
<li>onchange()   改变</li>
<li>onfocus()    获得焦点</li>
<li>onload()    加载成功</li>
<li>onerror()    加载失败</li>
<li>onreset()    点击重置</li>
<li>onsubmit()   点击提交</li>
</ul>
<h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><h2 id="Window"><a href="#Window" class="headerlink" title="Window"></a>Window</h2><blockquote>
<p>浏览器中打开的窗口。并为每个框架创建一个额外的 window 对象。</p>
</blockquote>
<ul>
<li>close() 关闭浏览器窗口</li>
<li>confirm()    显示带有一段消息以及确认按钮和取消按钮的对话框。<h2 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h2><blockquote>
<p>Navigator 对象包含有关浏览器的信息。</p>
</blockquote>
<h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2></li>
<li>back()    加载 history 列表中的前一个 URL。</li>
<li>forward()    加载 history 列表中的下一个 URL。</li>
<li>go()    加载 history 列表中的某个具体页面。<h2 id="Screen"><a href="#Screen" class="headerlink" title="Screen"></a>Screen</h2><blockquote>
<p>Screen 对象包含有关客户端显示屏幕的信息。</p>
</blockquote>
<h2 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h2><blockquote>
<p>Location 对象包含有关当前 URL 的信息。</p>
</blockquote>
</li>
</ul>
<h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><h2 id="Document-对象"><a href="#Document-对象" class="headerlink" title="Document 对象"></a>Document 对象</h2><blockquote>
<p>每个载入浏览器的 HTML 文档都会成为 Document 对象。<br>Document 对象使我们可以从脚本中对 HTML 页面中的所有元素进行访问。</p>
</blockquote>
<h2 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h2><blockquote>
<p>在 HTML DOM （文档对象模型）中，每个部分都是节点：</p>
</blockquote>
<ol>
<li>文档本身是文档节点</li>
<li>所有 HTML 元素是元素节点</li>
<li>所有 HTML 属性是属性节点</li>
<li>HTML 元素内的文本是文本节点</li>
<li>注释是注释节点<h2 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h2><blockquote>
<p>在 HTML DOM 中，Attr 对象表示 HTML 属性。HTML 属性始终属于 HTML 元素。</p>
</blockquote>
<h2 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h2><blockquote>
<p>Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。<br>事件通常与函数结合使用，函数不会在事件发生前被执行！</p>
</blockquote>
</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
      </tags>
  </entry>
  <entry>
    <title>200504排序算法</title>
    <url>/2020/05/04/</url>
    <content><![CDATA[<h1 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h1><ol>
<li>从数组中取出一个数作为基准(pivot)。</li>
<li>在原数组中进行移动，将大于基准的数放到基准右边，小于基准的数放到基准左边，在基准左右形成两个子数组。</li>
<li>在左右子数组中反复执行步骤1、2，直到所有子数组只剩下一个数。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">quickSort</span> = (<span class="params">arr</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.<span class="property">length</span> &lt;= <span class="number">1</span>) <span class="keyword">return</span> arr;</span><br><span class="line">    <span class="keyword">let</span> baseIndex = <span class="title class_">Math</span>.<span class="title function_">floor</span>(arr.<span class="property">length</span>/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">let</span> base = arr.<span class="title function_">splice</span>(baseIndex,<span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(base);</span><br><span class="line">    <span class="keyword">let</span> left = [];</span><br><span class="line">    <span class="keyword">let</span> right = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> one <span class="keyword">of</span> arr) &#123;</span><br><span class="line">        one &lt;= base ? left.<span class="title function_">push</span>(one) : right.<span class="title function_">push</span>(one)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">quickSort</span>(left).<span class="title function_">concat</span>([base],<span class="title function_">quickSort</span>(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = <span class="title function_">quickSort</span>([<span class="number">6</span>,<span class="number">8</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>]) <span class="comment">//13568</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h1><p>基本思想: 冒泡排序，类似于水中冒泡，较大的数沉下去，较小的数慢慢冒起来，假设从小到大，即为较大的数慢慢往后排，较小的数慢慢往前排。<br>直观表达，每一趟遍历，将一个最大的数移到序列末尾。</p>
<h2 id="算法描述"><a href="#算法描述" class="headerlink" title="算法描述"></a>算法描述</h2><ol>
<li>比较相邻的元素，如果前一个比后一个大，交换之。</li>
<li>第一趟排序第1个和第2个一对，比较与交换，随后第2个和第3个一对比较交换，这样直到倒数第2个和最后1个，将最大的数移动到最后一位。</li>
<li>第二趟将第二大的数移动至倒数第二位<br>……<br>因此需要n-1趟；</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">BubbleSort</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> length = array.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123; <span class="comment">//用于缩小范围</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; i; j++) &#123; <span class="comment">//在范围内进行冒泡，在此范围内最大的一个将冒到最后面</span></span><br><span class="line">            <span class="keyword">if</span> (array[j] &gt; array[j+<span class="number">1</span>]) &#123; </span><br><span class="line">                <span class="keyword">var</span> temp = array[j];</span><br><span class="line">                array[j] = array[j+<span class="number">1</span>];</span><br><span class="line">                array[j+<span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;-----------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 利用array对象的方法根据思路实现</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">bubble</span> = (<span class="params">arr</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = arr.<span class="property">length</span>-<span class="number">1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">let</span> max = <span class="title class_">Math</span>.<span class="title function_">max</span>(...arr);</span><br><span class="line">        <span class="keyword">let</span> index = arr.<span class="title function_">indexOf</span>(max);</span><br><span class="line">        arr.<span class="title function_">splice</span>(index,<span class="number">1</span>);</span><br><span class="line">        result.<span class="title function_">push</span>(max)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.<span class="title function_">reverse</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h1><blockquote>
<p>插入排序的原理是把一个数组看作为前后两部分，前部分为有序的，后部分为无序的，通过不断将后部分的元素逐个插入到前部分的正确位置，从而最终形成有序数组。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">InsertionSort</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> length = array.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//i代表已经排序好的序列最后一项下标</span></span><br><span class="line">        <span class="keyword">var</span> insert = array[i+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">var</span> index = i + <span class="number">1</span>;<span class="comment">//记录要被插入的下标</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = i; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (insert &lt; array[j]) &#123;</span><br><span class="line">                <span class="comment">//要插入的项比它小，往后移动</span></span><br><span class="line">                array[j+<span class="number">1</span>] = array[j];</span><br><span class="line">                index = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        array[index] = insert;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;-----------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="希尔排序-插入排序的升级版"><a href="#希尔排序-插入排序的升级版" class="headerlink" title="希尔排序(插入排序的升级版)"></a>希尔排序(插入排序的升级版)</h1><blockquote>
<p>先分组,再插入</p>
</blockquote>
<ol>
<li>所谓分组，就是让元素两两一组，同组两个元素之间的跨度，都是数组总长度的一半.</li>
<li>接下来，我们让每组元素进行独立排序，排序方式用直接插入排序即可。由于每一组的元素数量很少，只有两个，所以插入排序的工作量很少。</li>
<li>这样一来，仅仅经过几次简单的交换，数组整体的有序程度得到了显著提高，使得后续再进行直接插入排序的工作量大大减少。这种做法，可以理解为对原始数组的“粗略调整”。</li>
<li>但是这样还不算完，我们可以进一步缩小分组跨度，重复上述工作。把跨度缩小为原先的一半，也就是跨度为2，重新对元素进行分组：</li>
<li>此时，数组的有序程度进一步提高，为后续将要进行的排序铺平了道路。<br>最后，我们把分组跨度进一步减小，让跨度为1，也就等同于做直接插入排序。经过之前的一系列粗略调整，直接插入排序的工作量减少了很多，</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ShellSort</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> length = array.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">var</span> gap = <span class="title class_">Math</span>.<span class="title function_">round</span>(length / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">while</span> (gap &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = gap; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> insert = array[i];</span><br><span class="line">            <span class="keyword">var</span> index = i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i; j &gt;= <span class="number">0</span>; j-=gap) &#123;</span><br><span class="line">                <span class="keyword">if</span> (insert &lt; array[j]) &#123;</span><br><span class="line">                    array[j+gap] = array[j];</span><br><span class="line">                    index = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            array[index] = insert;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;-----------------------&quot;</span>);</span><br><span class="line">        gap = <span class="title class_">Math</span>.<span class="title function_">round</span>(gap/<span class="number">2</span> - <span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h1><p><strong>分治法</strong><br><img src="/2020/05/04/1024555-20161218163120151-452283750.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">MergeSort</span> = (<span class="params">arr</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(arr.<span class="property">length</span> &lt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    <span class="keyword">let</span> half = <span class="title class_">Math</span>.<span class="title function_">ceil</span>(arr.<span class="property">length</span>/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">let</span> left = <span class="title class_">MergeSort</span>(arr.<span class="title function_">slice</span>(<span class="number">0</span>,half));</span><br><span class="line">    <span class="keyword">let</span> right = <span class="title class_">MergeSort</span>(arr.<span class="title function_">slice</span>(half,arr.<span class="property">length</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Merge</span>(left,right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">Merge</span> = (<span class="params">left, right</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> res = [];</span><br><span class="line">    <span class="keyword">while</span>( left.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp; right.<span class="property">length</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (left[<span class="number">0</span>] &lt;= right[<span class="number">0</span>]) &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(left.<span class="title function_">shift</span>());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.<span class="title function_">push</span>(right.<span class="title function_">shift</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left.<span class="property">length</span> &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">        res = res.<span class="title function_">concat</span>(left)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (right.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        res = res.<span class="title function_">concat</span>(right)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h1><blockquote>
<p>堆积是一个近似完全二叉树的结构，并同时满足堆积的性质：即子结点的键值或索引总是小于（或者大于）它的父节点。堆排序可以说是一种利用堆的概念来排序的选择排序。</p>
</blockquote>
<ol>
<li>大顶堆：每个节点的值都大于或等于其子节点的值，在堆排序算法中用于升序排列；</li>
<li>小顶堆：每个节点的值都小于或等于其子节点的值，在堆排序算法中用于降序排列</li>
</ol>
<h2 id="算法步骤"><a href="#算法步骤" class="headerlink" title="算法步骤"></a>算法步骤</h2><ol>
<li>创建一个堆 H[0……n-1]；</li>
<li>把堆首（最大值）和堆尾互换；</li>
<li>把堆的尺寸缩小 1，并调用 shift_down(0)，目的是把新的数组顶端数据调整到相应位置；</li>
<li>重复步骤 2，直到堆的尺寸为 1。</li>
<li><a href="https://upload-images.jianshu.io/upload_images/1940317-9c37b4be1b7c96d1.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/950/format/webp">演示地址</a></li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">HeapSort</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">swap</span>(<span class="params">i,j</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> temp = array[i];</span><br><span class="line">        array[i] = array[j];</span><br><span class="line">        array[j] = temp; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">MaxHeap</span>(<span class="params">start, end</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> dad = start;</span><br><span class="line">        <span class="keyword">var</span> son = dad * <span class="number">2</span> + <span class="number">1</span>;<span class="comment">//子节点中的左节点</span></span><br><span class="line">        <span class="keyword">if</span> (son &gt;= end)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (son + <span class="number">1</span> &lt; end &amp;&amp; array[son] &lt; array[son + <span class="number">1</span>])<span class="comment">//比较左右节点的值，选择大的那个</span></span><br><span class="line">            son++;</span><br><span class="line">        <span class="keyword">if</span> (array[dad] &lt;= array[son]) &#123;<span class="comment">//如果父节点小于子节点时，交换父子内容再继续子节点和孙节点比较</span></span><br><span class="line">            <span class="title function_">swap</span>(dad, son);</span><br><span class="line">            <span class="title class_">MaxHeap</span>(son, end);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> len = array.<span class="property">length</span>;</span><br><span class="line">    <span class="comment">//从最后一个父节点开始创建最大堆</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="title class_">Math</span>.<span class="title function_">floor</span>(len / <span class="number">2</span>) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">        <span class="title class_">MaxHeap</span>(i,len);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;----------------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将最大的交换到最后一个位置；在调整最大堆，直至调整到第一个</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = len - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="title function_">swap</span>(<span class="number">0</span>,i);</span><br><span class="line">        <span class="title class_">MaxHeap</span>(<span class="number">0</span>,i);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>排序</tag>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>200505nodejs</title>
    <url>/2020/05/05/</url>
    <content><![CDATA[<h1 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h1><blockquote>
<p>整体的思路基于回调函数和观察者模式.</p>
</blockquote>
<ol>
<li>chrome V8 runtime</li>
<li>数据驱动</li>
<li>非阻塞I/O(input/output)</li>
<li>单线程</li>
</ol>
<p>优点:</p>
<ol>
<li>高并发特别好</li>
<li>适合I/O密集型应用。<blockquote>
<p>什么是io?答:正常情况下I/O的的操作都是阻塞的(ajax同步):网络请求,数据库处理,文件的读写</p>
</blockquote>
</li>
</ol>
<p>缺点:</p>
<ol>
<li>不适合CPU密集型应用，只支持单核CPU，不能充分利用CPU；</li>
<li>单进程，单线程，一旦代码某处出现bug，整个系统都崩溃；</li>
</ol>
<p>解决方案:</p>
<ol>
<li>如何解决CPU密集型？<br>原因，由于JavaScript单线程的原因，如果有长时间运行的计算（比如大循环），将会导致CPU时间片不能释放，使得后续I/O无法发起。<br>解决方案：分解大型运算任务为多个小任务，使得运算能够适时释放，不阻塞I/O调用的发起。</li>
<li>单进程、单线程解决方案<br>Nnigx反向代理，负载均衡，开多个进程，绑定多个端口；<br>开多个进程监听同一个端口，使用cluster模块。</li>
</ol>
<h1 id="内置的模块"><a href="#内置的模块" class="headerlink" title="内置的模块"></a>内置的模块</h1><h2 id="fs-文件操作系统"><a href="#fs-文件操作系统" class="headerlink" title="fs 文件操作系统"></a>fs 文件操作系统</h2><blockquote>
<p>回调函数的第一个参数都是err 这样有利于错误处理</p>
</blockquote>
<p>const fs = require(‘fs’);</p>
<ul>
<li>readdir</li>
<li>mkdir</li>
<li>rename</li>
<li>rmdir(只能删除空文件夹)</li>
<li>writeFile   覆写</li>
<li>appendFile 追加写入</li>
<li>readFile    默认输出buffer流</li>
<li>unlink 删除文件</li>
</ul>
<h2 id="url-统一资源定位符"><a href="#url-统一资源定位符" class="headerlink" title="url 统一资源定位符"></a>url 统一资源定位符</h2><ul>
<li>url.parse 将url转化成对象</li>
<li>url.format 将url转化成字符串</li>
</ul>
<h2 id="querystring-请求字符串"><a href="#querystring-请求字符串" class="headerlink" title="querystring 请求字符串"></a>querystring 请求字符串</h2><ul>
<li>parse<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;querystring&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> queryStr = <span class="string">&#x27;name=123&amp;pass=123&amp;sex=1&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(qs.<span class="title function_">parse</span>(queryStr));</span><br><span class="line"><span class="comment">// [Object: null prototype] &#123; name: &#x27;123&#x27;, pass: &#x27;123&#x27;, sex: &#x27;1&#x27; &#125;</span></span><br></pre></td></tr></table></figure></li>
<li>escape 把字符转化成%xx%的形式</li>
<li>unescape 解除</li>
</ul>
<h1 id="爬虫案例"><a href="#爬虫案例" class="headerlink" title="爬虫案例"></a>爬虫案例</h1><ol>
<li>获取目标网站   http/https模块获取html字符串</li>
<li>分析网站内容   cheerio 分析标签</li>
<li>获取有效信息 下载或者其他操作</li>
</ol>
<h1 id="express"><a href="#express" class="headerlink" title="express"></a>express</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;开启服务器&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">    res.<span class="title function_">send</span>(<span class="string">&#x27;lailailai&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>200507nuxt</title>
    <url>/2020/05/07/</url>
    <content><![CDATA[<h1 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h1><ul>
<li>.nuxt    nuxt渲染出的页面,一般不看,build临时生成的</li>
<li>assets     静态资源目录 less/sass/js</li>
<li>components    组件</li>
<li>layout    用作布局</li>
<li>middlerware    中间件</li>
<li>node_modules    依赖包</li>
<li>pages    主要页面</li>
<li>plugins    下载的js插件</li>
<li>static    静态资源文件(图)</li>
<li>store    vuex,状态管理</li>
<li>nuxt.config.js  nuxt的配置文件,head<span id="more"></span></li>
</ul>
<h1 id="配置地址和端口"><a href="#配置地址和端口" class="headerlink" title="配置地址和端口"></a>配置地址和端口</h1><p>在package.json中配置</p>
<h1 id="配置webpack"><a href="#配置webpack" class="headerlink" title="配置webpack"></a>配置webpack</h1><p>在nuxt.config.js 中的build下配置</p>
<h1 id="全局css"><a href="#全局css" class="headerlink" title="全局css"></a>全局css</h1><p>写好后在 nuxt.config.js 中配置<br>如果是less或者sass在每个对象中加上一个src和lang属性</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*css*/</span> </span><br><span class="line"><span class="attr">css</span>:[</span><br><span class="line">  <span class="string">&#x27;~assets/css/normalize.css&#x27;</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h1 id="路由和参数传递"><a href="#路由和参数传递" class="headerlink" title="路由和参数传递"></a>路由和参数传递</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;about&#x27;,params: &#123;id:&#x27;about1&#x27;&#125;&#125;&quot;</span> &gt;</span> about <span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;&#123;$route.<span class="property">params</span>.<span class="property">id</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h2><p>在具体页面的index同级目录下新建一个_id.vue,<br>用params.id接受动态路由的参数<br>还能在js中对齐进行正则的校验<br>成功在跳转<br>失败就返回404</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>News-content<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>NewId:&#123;&#123;$route.params.id&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">validate</span>(<span class="params">&#123;params&#125;</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="regexp">/^d+$/</span>.<span class="title function_">test</span>(params.<span class="property">id</span>);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="路由动画"><a href="#路由动画" class="headerlink" title="路由动画"></a>路由动画</h2><blockquote>
<p>如果想让每一个页面的切换都有淡出 (fade) 效果，我们需要创建一个所有路由共用的 CSS 文件。所以我们可以在 assets/ 目录下创建这个文件：</p>
</blockquote>
<p>在全局样式文件 assets/main.css 里添加一下样式：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.page-enter-active</span>, <span class="selector-class">.page-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: opacity .<span class="number">5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page-enter</span>, <span class="selector-class">.page-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>值得注意的是 只有 nuxt-link触发的路由切换才有动画</p>
</blockquote>
<h2 id="局部路由动画"><a href="#局部路由动画" class="headerlink" title="局部路由动画"></a>局部路由动画</h2><p>同样在css中定义,只是从page变成一个自定义的名字</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.news-enter-active</span>, <span class="selector-class">.news-leave-active</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.news-enter</span>, <span class="selector-class">.page-news-active</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在要引入的页面中添加一个trasition属性</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">transition</span>: <span class="string">&#x27;news&#x27;</span>,</span><br></pre></td></tr></table></figure>


<h1 id="布局和模板"><a href="#布局和模板" class="headerlink" title="布局和模板"></a>布局和模板</h1><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><p>在根目录新建一个app.html</p>
<ol>
<li>由于 nuxt.config.js中定义了头部文件,所以在head标签中以字面量的形式引入头部:</li>
<li>在body标签中用字面量引入 <blockquote>
<p>改默认模板需要重启服务器</p>
</blockquote>
</li>
</ol>
<h2 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h2><p><strong>只能定义template</strong><br>在layout文件夹中设置</p>
<h1 id="错误页面和个性标签"><a href="#错误页面和个性标签" class="headerlink" title="错误页面和个性标签"></a>错误页面和个性标签</h1><h2 id="错误页面"><a href="#错误页面" class="headerlink" title="错误页面"></a>错误页面</h2><p>layout -&gt; error.vue<br>还可以根据提供的api进行http错误状态码的判断</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;error.statusCode == 404&quot;</span>&gt;</span>404<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span> 500 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">props</span>:[<span class="string">&#x27;error&#x27;</span>]</span><br></pre></td></tr></table></figure>

<h2 id="个性meta-title和content"><a href="#个性meta-title和content" class="headerlink" title="个性meta(title和content)"></a>个性meta(title和content)</h2><ol>
<li>传参的时候将title作为参数传给新页面<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;news-id&#x27;,params:&#123;id:123,title:&#x27;我是一个title&#x27;&#125;&#125;&quot;</span>&gt;</span>new 123<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>在新页面用data接受这个title参数<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">title</span>:<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">title</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>在head方法中,设置标题<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">head</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="variable language_">this</span>.<span class="property">title</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>还可以设置content,但要注意覆盖默认配置文件<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">head</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="variable language_">this</span>.<span class="property">title</span>,</span><br><span class="line">    <span class="attr">meta</span>:[</span><br><span class="line">      &#123;<span class="attr">hid</span>: <span class="string">&#x27;description&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;myName&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;这是我自定义的利于SEO的content&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这是默认配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">data-n-head</span>=<span class="string">&quot;ssr&quot;</span> <span class="attr">data-hid</span>=<span class="string">&quot;description&quot;</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;Nuxt.js project&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 这是修改过后的源代码 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">data-n-head</span>=<span class="string">&quot;ssr&quot;</span> <span class="attr">data-hid</span>=<span class="string">&quot;description&quot;</span> <span class="attr">name</span>=<span class="string">&quot;myName&quot;</span> <span class="attr">content</span>=<span class="string">&quot;这是我自定义的利于SEO的content&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="异步请求"><a href="#异步请求" class="headerlink" title="异步请求"></a>异步请求</h1><p>asyncData()函数返回的对象会直接和data合并,然后渲染到页面上.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">asyncData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;请求过两秒&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">msg</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="attr">info</span>: msg&#125;</span><br><span class="line">    &#125;) </span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>


<h1 id="资源文件"><a href="#资源文件" class="headerlink" title="资源文件"></a>资源文件</h1><p>在nuxt中 ~代表的是项目的根目录</p>
<h1 id="一些值得注意的地方"><a href="#一些值得注意的地方" class="headerlink" title="一些值得注意的地方"></a>一些值得注意的地方</h1><h2 id="在一些生命周期函数中不存在window对象"><a href="#在一些生命周期函数中不存在window对象" class="headerlink" title="在一些生命周期函数中不存在window对象"></a>在一些生命周期函数中不存在window对象</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">asyncData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>) <span class="comment">// 服务端报错</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">fetch</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>) <span class="comment">// 服务端报错</span></span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>) <span class="comment">// undefined</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>) <span class="comment">// Window &#123;postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, frames: Window, …&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="配置错误页面"><a href="#配置错误页面" class="headerlink" title="配置错误页面"></a>配置错误页面</h2><p>你可以通过编辑 layouts/error.vue 文件来定制化错误页面.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;error.statusCode === 404&quot;</span>&gt;</span>页面不存在<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>应用发生错误异常<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>首 页<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: [<span class="string">&#x27;error&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">layout</span>: <span class="string">&#x27;blog&#x27;</span> <span class="comment">// 你可以为错误页面指定自定义的布局</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="自定义Loading页面"><a href="#自定义Loading页面" class="headerlink" title="自定义Loading页面"></a>自定义Loading页面</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// nuxt.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">loading</span>: <span class="string">&#x27;~components/loading.vue&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- loading.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">&quot;html&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;loading-page&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;loading&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: <span class="function">() =&gt;</span> (&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">loading</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">  &#125;),</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    start () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    finish () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="校验参数"><a href="#校验参数" class="headerlink" title="校验参数"></a>校验参数</h2><p>如果校验失败，则自动跳转到错误页面</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">validate</span>(<span class="params">&#123; params, query &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/^d+$/</span>.<span class="title function_">test</span>(params.<span class="property">id</span>) <span class="comment">// must be number</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Header、Footer等公共组件放哪？"><a href="#Header、Footer等公共组件放哪？" class="headerlink" title="Header、Footer等公共组件放哪？"></a>Header、Footer等公共组件放哪？</h2><p>大家都知道，vue-cli入口文件是app.vue，在nuxt开发当中则是./layout/default.vue</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 公共头部组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xxx-header</span>&gt;</span><span class="tag">&lt;/<span class="name">xxx-header</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 路由视图，相当于router-view --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 公共底部组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xxx-footer</span>&gt;</span><span class="tag">&lt;/<span class="name">xxx-footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="没有keep-alive"><a href="#没有keep-alive" class="headerlink" title="没有keep-alive"></a>没有keep-alive</h2><p>由于是服务端渲染，所以不支持组件的keep-alive，那自然activated、deactivated这两个生命周期也没了</p>
<h2 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h2><p>所有插件都写在/plugins目录下，这里以vue-lazyload为例</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//plugins/lazy-load.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueLazyLoad</span> <span class="keyword">from</span> <span class="string">&#x27;vue-lazyload&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueLazyLoad</span>, &#123;</span><br><span class="line">  <span class="attr">loading</span>: <span class="built_in">require</span>(<span class="string">&#x27;~/assets/images/loading.jpg&#x27;</span>),</span><br><span class="line">  <span class="attr">error</span>: <span class="built_in">require</span>(<span class="string">&#x27;~/assets/images/error.jpg&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//nuxt.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">expors</span> = &#123;</span><br><span class="line">  plugins = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">src</span>: <span class="string">&quot;~/plugins/lazy-load&quot;</span>,</span><br><span class="line">      <span class="attr">ssr</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用Vuex"><a href="#使用Vuex" class="headerlink" title="使用Vuex"></a>使用Vuex</h2><p>nuxt自己集成了vuex，所以不需要安装，在/store目录下新建index.js即可使用</p>
<h2 id="登录状态？"><a href="#登录状态？" class="headerlink" title="登录状态？"></a>登录状态？</h2><p>vue-cli项目中，我们可以用vuex-persistedstate，它可以使vuex的状态持久化，页面刷新都不会丢失，原理当然是localStorage啦！当然我更喜欢用vue-cookies进行保存token，问题来了，nuxt项目怎么保存登录状态呢？当然上面这两种方法我们都可以使用，但是有个问题，**由于在created钩子中不存在window对象(获取cookie、localStorage都需要window对象)**，当你需要判断是否存在token的时候，你必须要在mounted进行操作，这说明页面进来的一瞬间你无法得知是否已经登录了，这会导致显示用户名、组件显示于隐藏都慢半拍</p>
<blockquote>
<p>nuxt非常友好，它提供了fetch钩子，还有nuxtServerInit，这两个钩子都运行在服务端并且我们能很快速地操作store</p>
</blockquote>
<h3 id="fetch的使用"><a href="#fetch的使用" class="headerlink" title="fetch的使用"></a>fetch的使用</h3><p>如果页面组件设置了fetch方法，它会在组件每次加载前被调用（在服务端或切换至目标路由之前），此方法需要跟服务端的人员配合</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> fetch (&#123; app, store, params &#125;) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; data &#125; = app.<span class="property">$axios</span>.<span class="title function_">get</span>(<span class="string">&#x27;/token&#x27;</span>);</span><br><span class="line">    store.<span class="title function_">commit</span>(<span class="string">&#x27;setToken&#x27;</span>, data.<span class="property">token</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="nuxtServerInit"><a href="#nuxtServerInit" class="headerlink" title="nuxtServerInit"></a>nuxtServerInit</h3><p>也是nuxt的store中的函数,在每次切换路由时会触发</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">store</span> = (<span class="params"></span>) =&gt; <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    setToken (state, token) &#123;</span><br><span class="line">       state.<span class="property">token</span> = token</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">nuxtServerInit</span>(<span class="params">&#123; commit &#125;, &#123; req &#125;</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> cookie = req.<span class="property">headers</span>.<span class="property">cookie</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 将cookie转成json对象（自己实现该方法）</span></span><br><span class="line">      <span class="keyword">let</span> token = <span class="title function_">cookieparse</span>(cookie).<span class="property">token</span>;</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;setToken&#x27;</span>, token);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>


<h2 id="fetch、asyncData、validate使用范围"><a href="#fetch、asyncData、validate使用范围" class="headerlink" title="fetch、asyncData、validate使用范围"></a>fetch、asyncData、validate使用范围</h2><p>只能在页面组件使用，也就是pages目录下的组件，而不是components目录下的组件，要有所区分</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>SSR</tag>
        <tag>Nuxt</tag>
      </tags>
  </entry>
  <entry>
    <title>200508React</title>
    <url>/2020/05/08/</url>
    <content><![CDATA[<h1 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h1><ol>
<li>react不使用模板</li>
<li>react不是MVC框架</li>
<li>数据响应式</li>
<li>轻量级</li>
</ol>
<h1 id="虚拟DOM"><a href="#虚拟DOM" class="headerlink" title="虚拟DOM"></a>虚拟DOM</h1><blockquote>
<p>react把dom抽象成一个js对象<br>diff算法</p>
</blockquote>
<ol>
<li>虚拟dom确保只对界面上真正发生变化的dom进行操作</li>
<li>逐层级的进行节点的比较</li>
</ol>
<h1 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h1><ol>
<li><p>react.js 核心</p>
</li>
<li><p>react-dom.js   渲染页面中的dom,依赖于核心文件.(web用,还有一个native)</p>
</li>
<li><p>babel.js ES6=&gt;ES5 还有jsx=&gt;js</p>
</li>
<li><p>npm i react –save</p>
</li>
<li><p>npm i react-dom –save</p>
</li>
<li><p>npm i babel-standalone –save</p>
</li>
</ol>
<h1 id="npx"><a href="#npx" class="headerlink" title="npx"></a>npx</h1><p>npx create-react-app my-app</p>
<h1 id="创建元素"><a href="#创建元素" class="headerlink" title="创建元素"></a>创建元素</h1><h2 id="函数式"><a href="#函数式" class="headerlink" title="函数式"></a>函数式</h2><blockquote>
<p>ReactDom.render 接受参数,第一个是要渲染的内容,第二个是要渲染的元素</p>
</blockquote>
<ol>
<li><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">app</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;props.title&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">ReactDom</span>.<span class="title function_">render</span>(</span><br><span class="line">    <span class="title function_">app</span>(&#123;<span class="attr">title</span>:<span class="string">&#x27;123&#x27;</span>&#125;),</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
<li><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">App</span> = (<span class="params">props</span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;props.title&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDom</span>.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">App</span> <span class="attr">title</span>=<span class="string">&quot;123&quot;</span> /&gt;</span></span>,</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;render&#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;this.props.title&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">App</span> <span class="attr">title</span>=<span class="string">&quot;类组件&quot;</span>/&gt;</span></span>,</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#root&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>render是 react dom提供的一个方法,这个方法通常只会用一次</p>
</blockquote>
<h1 id="JSX原理"><a href="#JSX原理" class="headerlink" title="JSX原理"></a>JSX原理</h1><p>上述的jsx中的底层是将jsx生成一个虚拟dom,</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vDom = &#123;</span><br><span class="line">    <span class="attr">tag</span>: <span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">    <span class="attr">attrs</span>: <span class="literal">null</span>,</span><br><span class="line">    children : [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;h1&#x27;</span>,</span><br><span class="line">            <span class="attr">attrs</span>: &#123;</span><br><span class="line">                id : <span class="string">&#x27;h&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">children</span>: [<span class="string">&#x27;标题&#x27;</span>]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tag</span>: <span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">            attrs : <span class="literal">null</span>,</span><br><span class="line">            children :[</span><br><span class="line">                &#123;</span><br><span class="line">                <span class="attr">tag</span>: <span class="string">&#x27;p&#x27;</span>,</span><br><span class="line">                <span class="attr">attrs</span>: <span class="literal">null</span>,</span><br><span class="line">                <span class="attr">children</span>: [<span class="string">&#x27;描述&#x27;</span>]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后调用React.createElement来创建节点<br>参数:节点类型,属性,children(type,[props],[…children])</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span>&#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>,</span><br><span class="line">            <span class="literal">null</span>,</span><br><span class="line">            <span class="string">&quot;test&quot;</span></span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> classNames <span class="keyword">from</span> <span class="string">&#x27;classnames&#x27;</span></span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&#x27;styled-components&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Pli</span> = styled.<span class="property">li</span><span class="string">`</span></span><br><span class="line"><span class="string">    color:blue</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> style = &#123;</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;style&#125;</span>&gt;</span>内联样式<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&quot;has-text-red&quot;</span>&gt;</span>使用类<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">className</span>=<span class="string">&#123;classNames(</span>&#x27;<span class="attr">a</span>&#x27;, &#123; &#x27;<span class="attr">b</span>&#x27;<span class="attr">:</span> <span class="attr">true</span>, &#x27;<span class="attr">c</span>&#x27;<span class="attr">:</span> <span class="attr">false</span> &#125;)&#125;&gt;</span>使用第三方的包来实现动态类,例如该标签的类上只有ab没有c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Pli</span>&gt;</span>使用第三方包,以组件的形式规定样式<span class="tag">&lt;/<span class="name">Pli</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="目录结构组织形式"><a href="#目录结构组织形式" class="headerlink" title="目录结构组织形式"></a>目录结构组织形式</h1><ul>
<li>public</li>
<li>src<ul>
<li>components 组件文件夹<ul>
<li>…各个组件的文件夹</li>
<li>index.js  导出所有组件</li>
</ul>
</li>
<li>index.js 入口文件</li>
<li>App.js   单页面应用根组件</li>
</ul>
</li>
</ul>
<h1 id="props"><a href="#props" class="headerlink" title="props"></a>props</h1><h2 id="props获得"><a href="#props获得" class="headerlink" title="props获得"></a>props获得</h2><ol>
<li>func中通过 props.xxx获得</li>
<li>class中通过 this.props.xxx获得</li>
<li>对于组件当中的文字内容,用props.children获得</li>
</ol>
<h2 id="props属性校验"><a href="#props属性校验" class="headerlink" title="props属性校验"></a>props属性校验</h2><p>通过 prop-types包来使用,props.children不做检验</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> &#123;</span><br><span class="line">...</span><br><span class="line"><span class="comment">//意为 该属性只接受字符串并且不可为空</span></span><br><span class="line"> <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">        <span class="attr">btnText</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="默认props"><a href="#默认props" class="headerlink" title="默认props"></a>默认props</h2><p>通过 defaultProps来实现,优先级小于组件赋值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">     <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">        btnText : <span class="string">&#x27;默认text&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="组件内部的数据-state"><a href="#组件内部的数据-state" class="headerlink" title="组件内部的数据 state"></a>组件内部的数据 state</h2><ul>
<li>props是组件外部传入</li>
<li>state是内部值</li>
<li>函数式组件是无状态组件,类组件是有状态组件</li>
<li>完全受控组件(无state,数据全部由父组件传入的props决定)<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// 在设置state前必须继承组件方法</span></span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            title : <span class="string">&#x27;待办事项&#x27;</span></span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="组件间传递数据"><a href="#组件间传递数据" class="headerlink" title="组件间传递数据"></a>组件间传递数据</h2><p>逐层传递,遇到对象可以用…展开符来做</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">ToDoList</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                &#123;</span></span><br><span class="line"><span class="language-xml">                    this.props.todos.map(todo =&gt;&#123;</span></span><br><span class="line"><span class="language-xml">                        return <span class="tag">&lt;<span class="name">ToDoListItem</span> <span class="attr">key</span>=<span class="string">&#123;todo.id&#125;</span> &#123;<span class="attr">...todo</span>&#125;/&gt;</span></span></span><br><span class="line"><span class="language-xml">                    &#125;)</span></span><br><span class="line"><span class="language-xml">                &#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h2><p>接受两个参数</p>
<ol>
<li>要改变的state<ol>
<li>传入一个对象</li>
<li>传入一个匿名函数,匿名函数有两个参数,prevState和props,代表之前state和props(<strong>setState是异步的,用prev更保险</strong>)</li>
</ol>
</li>
<li>获取最新状态的回调函数</li>
</ol>
<blockquote>
<p>react中的setState是异步执行,所以会推入任务列队等待异步执行</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">handleLikeClick = <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>( <span class="function">(<span class="params">prevState,props</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">isLiked</span>: !prevState.<span class="property">isLiked</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; ,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="处理输入框的onChange"><a href="#处理输入框的onChange" class="headerlink" title="处理输入框的onChange"></a>处理输入框的onChange</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="variable language_">super</span>();</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">           <span class="attr">inputValue</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   handleValueChange = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">           <span class="attr">inputValue</span>: e.<span class="property">currentTarget</span>.<span class="property">value</span></span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> (</span><br><span class="line">           <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span> = <span class="string">&#123;this.state.inputValue&#125;</span> <span class="attr">onChange</span> = <span class="string">&#123;this.handleValueChange&#125;/</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">               <span class="tag">&lt;<span class="name">button</span>&gt;</span>&#123;this.props.btnText&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">       )</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="事件传参"><a href="#事件传参" class="headerlink" title="事件传参"></a>事件传参</h2><p>这样直接写,会在初始化的时候运行一次函数,不对</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;button onClick = &#123;<span class="variable language_">this</span>.<span class="title function_">handleClickBtn</span>(<span class="number">123</span>)&#125;&gt;&#123;<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">btnText</span>&#125;&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<h3 id="匿名函数传参"><a href="#匿名函数传参" class="headerlink" title="匿名函数传参"></a>匿名函数传参</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;button onClick = &#123;<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">handleClickBtn</span>(<span class="number">123</span>)</span><br><span class="line">&#125;&#125;&gt;&#123;<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">btnText</span>&#125;&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<h3 id="bind绑定this指向-传参"><a href="#bind绑定this指向-传参" class="headerlink" title="bind绑定this指向,传参"></a>bind绑定this指向,传参</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;button onClick = &#123;<span class="variable language_">this</span>.<span class="property">handleClickBtn</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>,<span class="number">123</span>)&#125;&gt;&#123;<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">btnText</span>&#125;&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<h1 id="父子通信"><a href="#父子通信" class="headerlink" title="父子通信"></a>父子通信</h1><h2 id="子传父"><a href="#子传父" class="headerlink" title="子传父"></a>子传父</h2><ol>
<li>父组件,子组件各自编写方法</li>
<li>父组件将方法作为一个props传给子组件</li>
<li>当子组件触发事件时,调用this.props.方法 来通知父组件执行方法</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">//父组件</span></span><br><span class="line"> addList = <span class="function">(<span class="params">title</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">todos</span>:<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">todos</span>.<span class="title function_">concat</span>(&#123;</span><br><span class="line">        <span class="attr">id</span>:<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">todos</span>.<span class="property">length</span>+<span class="number">1</span>,</span><br><span class="line">        <span class="attr">title</span>:title,</span><br><span class="line">        <span class="attr">isComplete</span>:<span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   &lt;<span class="title class_">ToDoList</span> todos=&#123;<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">todos</span>&#125; /&gt;</span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">handleClickBtn = <span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">addList</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">inputValue</span>)</span><br><span class="line">&#125;</span><br><span class="line">&lt;button onClick = &#123;<span class="variable language_">this</span>.<span class="property">handleClickBtn</span>&#125;&gt;&#123;<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">btnText</span>&#125;&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意在父组件执行setState时,不推荐使用push,因为push函数返回的是新数组的长度</p>
</blockquote>
<h1 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h1><p>获取dom节点或者react组件</p>
<ol>
<li>从react包中引入ref组件<code>import React, &#123; Component ,createRef&#125; from &#39;react&#39;</code></li>
<li>在constructor中初始化: <code>this.inputDom = createRef()</code>;</li>
<li>在render中绑定ref<br><code> &lt;input type=&quot;text&quot; value=&#123;this.state.inputValue&#125; onChange=&#123;this.handleValueChange&#125; ref=&#123;this.inputDom&#125;/&gt;</code></li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>200509webpack再学习</title>
    <url>/2020/05/09/</url>
    <content><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>不推荐-g 全局安装,不然会出现webpack找不到模块的问题.<br>但是可以用 npm link webpack –save-dev 解决</p>
<h1 id="四大核心"><a href="#四大核心" class="headerlink" title="四大核心"></a>四大核心</h1><ul>
<li>入口 单页面应用一个入口,多页面多个入口</li>
<li>出口  打包出来的项目</li>
<li>loader   能够处理那个非js模块,能将所有类型转化为webpack能处理的文件模块</li>
<li>plugins  插件用于执行范围更广的任务</li>
</ul>
<h1 id="entry-和-output"><a href="#entry-和-output" class="headerlink" title="entry 和 output"></a>entry 和 output</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">entry</span>: &#123;</span><br><span class="line">        <span class="attr">home</span>: <span class="string">&#x27;./src/home.js&#x27;</span>,</span><br><span class="line">        <span class="attr">about</span>: <span class="string">&#x27;./src/about.js&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">output</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname,<span class="string">&quot;dist&quot;</span>),</span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;[name].js&#x27;</span></span><br><span class="line">        <span class="comment">// 生成作用于整个的hash  且 截断</span></span><br><span class="line">        <span class="comment">//  filename: &#x27;[name].[hash:8].js&#x27;</span></span><br><span class="line">        <span class="comment">// 根据模块生成单独的hash</span></span><br><span class="line">        <span class="comment">// filename: &#x27;[name].[chunkhash:8].js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="改变config文件的路径"><a href="#改变config文件的路径" class="headerlink" title="改变config文件的路径"></a>改变config文件的路径</h1><p>这时候要注意 生成路径的改变     path: path.resolve(__dirname,”dist”)<br>命令:<br>webpack –mode  xxx   –config ./config/webpack.config.js</p>
<h1 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h1><h2 id="Html-Webpack-Plugin"><a href="#Html-Webpack-Plugin" class="headerlink" title="Html-Webpack-Plugin"></a>Html-Webpack-Plugin</h2><p>模板html插件,可以自动更新引入js路径(即使哈希值改变)</p>
<h2 id="MiniCssExtractPlugin"><a href="#MiniCssExtractPlugin" class="headerlink" title="MiniCssExtractPlugin"></a>MiniCssExtractPlugin</h2><p>webpack4中将css独立打包的插件,123中使用ExtractTextWebpackPlugin</p>
<h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><blockquote>
<p>loader的执行顺序,跟use的顺序是反的,后入先出</p>
</blockquote>
<h2 id="css-loader"><a href="#css-loader" class="headerlink" title="css-loader"></a>css-loader</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">      <span class="attr">rules</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">          <span class="attr">use</span>: [ <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&#x27;css-loader&#x27;</span> ]</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>


<h2 id="less-loader"><a href="#less-loader" class="headerlink" title="less loader"></a>less loader</h2><p>注意后进先出的栈模型,还有链式调用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// module块中</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">test</span>: <span class="regexp">/\.less$/</span>,</span><br><span class="line"><span class="attr">use</span>: [&#123;</span><br><span class="line">    <span class="attr">loader</span>: <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span> <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;css-loader&quot;</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&quot;less-loader&quot;</span> <span class="comment">// compiles Less to CSS</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="postcssloader"><a href="#postcssloader" class="headerlink" title="postcssloader"></a>postcssloader</h2><p>对于css进行各种处理的loader</p>
<ul>
<li>autoprefixer  关于postcss的插件,自动添加前缀<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js </span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>:<span class="regexp">/\.css$/</span>,</span><br><span class="line">  <span class="attr">use</span>: [</span><br><span class="line">  	&#123;<span class="attr">loader</span>:<span class="string">&#x27;style-loader&#x27;</span>&#125;,</span><br><span class="line">  	&#123;<span class="attr">loader</span>:<span class="string">&#x27;css-loader&#x27;</span>&#125;,</span><br><span class="line">  	&#123;<span class="attr">loader</span>:<span class="string">&#x27;postcss-loader&#x27;</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//postcss.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//package.json</span></span><br><span class="line"><span class="string">&quot;browserslist&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;defaults&quot;</span>,</span><br><span class="line">    <span class="string">&quot;not ie &lt;= 8&quot;</span>,</span><br><span class="line">    <span class="string">&quot;last 2 versions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;&gt; 1%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;iOS &gt;= 7&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Android &gt;= 4.0&quot;</span></span><br><span class="line">  ]</span><br></pre></td></tr></table></figure>
这是最新推荐的写法,且browserslist可以有很多参数</li>
</ul>
<h1 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h1><p>devServer是webpack依托于express提供的本地服务器系统,在webpack.config中配置,与plugin和loader同级,且不会生成dist目录,而是在内存中.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="attr">open</span>:<span class="literal">true</span>,</span><br><span class="line">      <span class="attr">port</span>: <span class="number">9000</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<h1 id="资源处理"><a href="#资源处理" class="headerlink" title="资源处理"></a>资源处理</h1><h2 id="fileloader"><a href="#fileloader" class="headerlink" title="fileloader"></a>fileloader</h2><p>重点在于路径</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">  <span class="attr">use</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">      <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;img/[name].[ext]&#x27;</span>,</span><br><span class="line">          <span class="attr">publicPath</span>:<span class="string">&#x27;/&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,   </span><br></pre></td></tr></table></figure>

<h2 id="urlloader"><a href="#urlloader" class="headerlink" title="urlloader"></a>urlloader</h2><p>urlloader已经包含了fileloader,所以两个都写,会处理两次</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">    <span class="attr">use</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">                <span class="attr">limit</span>: <span class="number">8</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;img/[name].[ext]&#x27;</span>,</span><br><span class="line">                <span class="attr">publicPath</span>:<span class="string">&#x27;/&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,   </span><br></pre></td></tr></table></figure>

<h2 id="copy-webpack-plugin"><a href="#copy-webpack-plugin" class="headerlink" title="copy-webpack-plugin"></a>copy-webpack-plugin</h2><blockquote>
<p>html中引入的资源文件,不会被webpack识别并处理,这时候需要直接copy到生成目录</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//plugins</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">CopyWebpackPlugin</span>([</span><br><span class="line">    &#123; </span><br><span class="line">        <span class="attr">from</span>: path.<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(),<span class="string">&#x27;src/static&#x27;</span>), </span><br><span class="line">        <span class="attr">to</span>: path.<span class="title function_">resolve</span>(process.<span class="title function_">cwd</span>(),<span class="string">&#x27;dist/static&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>

<h1 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h1><ul>
<li>babel的处理在loader中</li>
<li>在npm官网上寻找babel-loader的webpack4版本</li>
<li>excluede 是为了加快js的处理效率,排除某些目录下的js</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\.m?js$/</span>,</span><br><span class="line">  <span class="attr">exclude</span>: <span class="regexp">/(node_modules|bower_components)/</span>,</span><br><span class="line">  <span class="attr">use</span>: &#123;</span><br><span class="line">  <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">      <span class="attr">presets</span>: [<span class="string">&#x27;@babel/preset-env&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h1 id="常用loader"><a href="#常用loader" class="headerlink" title="常用loader"></a>常用loader</h1><h2 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h2><ol>
<li>sytle-loader</li>
<li>css-loader</li>
<li>less-loader</li>
<li>sass-loader</li>
</ol>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><ol>
<li>raw-loader(可以将文件以字符串的形式返回)</li>
<li>file-loader</li>
<li>url-loader</li>
</ol>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><ol>
<li>babel-loader</li>
<li>coffee-loader</li>
<li>ts-loader</li>
</ol>
<h2 id="校验测试"><a href="#校验测试" class="headerlink" title="校验测试"></a>校验测试</h2><ol>
<li>mocha-loader</li>
<li>jshint-loader</li>
<li>eslint-loader</li>
</ol>
<h1 id="常用插件"><a href="#常用插件" class="headerlink" title="常用插件"></a>常用插件</h1><ol>
<li>UglifyJsPlugin  压缩混淆代码</li>
<li>CommonsChunkPlugin 增加打包效率,将第三方库和业务代码分开</li>
<li>ProvidePlugin 自动加载模块,代替require和import</li>
<li>html-webpack-plugin  根据模板自动生成html代码,引入css和js</li>
<li>MiniCssExtractPlugin 将css单独抽离</li>
<li>DefinePlugin  编译时配置全局变量</li>
<li>HotModuleReplacementPlugin  热更新</li>
<li>optimize-css-assets-webpack-plugin  不同组件中重复的css可以快速去重</li>
<li>happypack 通过多进程模型，来加速代码构建</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Webpack</tag>
        <tag>管理工具</tag>
      </tags>
  </entry>
  <entry>
    <title>200511Restful</title>
    <url>/2020/05/11/</url>
    <content><![CDATA[<p>RESTful架构</p>
<h1 id="R-resource"><a href="#R-resource" class="headerlink" title="R resource"></a>R resource</h1><p>资源:网络上的一段url</p>
<h1 id="E-Representation-表现层"><a href="#E-Representation-表现层" class="headerlink" title="E  Representation(表现层)"></a>E  Representation(表现层)</h1><p>URI只代表资源的实体，不代表它的形式。严格地说，有些网址最后的”.html”后缀名是不必要的，因为这个后缀名表示格式，属于”表现层”范畴，而URI应该只代表”资源”的位置。它的具体表现形式，应该在HTTP请求的头信息中用Accept和Content-Type字段指定，这两个字段才是对”表现层”的描述。</p>
<h1 id="S-T（State-Transfer）-状态转化"><a href="#S-T（State-Transfer）-状态转化" class="headerlink" title="S  T（State Transfer） 状态转化"></a>S  T（State Transfer） 状态转化</h1><p>访问一个网站，就代表了客户端和服务器的一个互动过程。在这个过程中，势必涉及到数据和状态的变化。<br>因此，如果客户端想要操作服务器，必须通过某种手段，让服务器端发生”状态转化”（State Transfer）。而这种转化是建立在表现层之上的，所以就是”表现层状态转化”。</p>
<span id="more"></span>
<h1 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h1><ol>
<li>每一个URI代表一种资源；</li>
<li>客户端和服务器之间，传递这种资源的某种表现层；</li>
<li>客户端通过四个HTTP动词，对服务器端资源进行操作，实现”表现层状态转化”。</li>
</ol>
<h1 id="五个约束"><a href="#五个约束" class="headerlink" title="五个约束"></a>五个约束</h1><ol>
<li>客户和服务器之间通过一个统一的接口来互相通讯。</li>
<li>在一个REST系统中，客户端并不会固定地与一个服务器打交道。</li>
<li>在一个REST系统中，服务端并不会保存有关客户的任何状态。也就是说，客户端自身负责用户状态的维持，并在每次发送请求时都需要提供足够的信息。</li>
<li>REST系统需要能够恰当地缓存请求，以尽量减少服务端和客户端之间的信息传输，以提高性能。</li>
<li>一个REST系统需要使用一个统一的接口来完成子系统之间以及服务与用户之间的交互。这使得REST系统中的各个子系统可以独自完成演化。</li>
</ol>
<h1 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h1><ol>
<li>给用于一个url,根据methods不同在后端做不同的处理<ol>
<li>post 创建数据</li>
<li>get 获得数据</li>
<li>put和patch 修改数据</li>
<li>delete 删除数据</li>
<li>不符合restful的 给调用者很多url，每个url代表一个功能，比如：add_user/delte_user/edit_user/</li>
</ol>
</li>
<li>版本，来控制让程序有多个版本共存的情况，版本可以放在 url、请求头（accept/自定义）、GET参数</li>
<li>状态码，200/300/400/500</li>
<li>url中尽量使用名词，restful也可以称为“面向资源编程”</li>
<li>api标示：<ol>
<li>api.luffycity.com</li>
<li><a href="http://www.luffycity.com/api/">www.luffycity.com/api/</a></li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>网络</category>
      </categories>
      <tags>
        <tag>Restful</tag>
        <tag>协议</tag>
      </tags>
  </entry>
  <entry>
    <title>200509前端测试</title>
    <url>/2020/05/09/</url>
    <content><![CDATA[<h1 id="前端工程化"><a href="#前端工程化" class="headerlink" title="前端工程化"></a>前端工程化</h1><ul>
<li>前端测试自动化</li>
<li>高质量的代码设计</li>
<li>高质量的代码实现</li>
</ul>
<h1 id="单元测试和集成测试"><a href="#单元测试和集成测试" class="headerlink" title="单元测试和集成测试"></a>单元测试和集成测试</h1><ul>
<li>单元测试: unit,前端指的是一个模块</li>
<li>集成测试: 将模块组装成系统进行测试</li>
</ul>
<h1 id="Jest"><a href="#Jest" class="headerlink" title="Jest"></a>Jest</h1><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>新</li>
<li>速度快(只测试修改的)</li>
<li>基础好</li>
<li>api简单</li>
<li>隔离性好</li>
<li>IDE整合</li>
<li>多项目运行</li>
<li>覆盖率<span id="more"></span></li>
</ul>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>安装jest(npm)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//baojian.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">baojian1</span>(<span class="params">money</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> money &gt;= <span class="number">200</span> ? <span class="string">&#x27;B&#x27;</span> :<span class="string">&#x27;C&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">baojian2</span>(<span class="params">money</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> money &gt;= <span class="number">1000</span> ? <span class="string">&#x27;2A&#x27;</span> :<span class="string">&#x27;A&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> =&#123;</span><br><span class="line">    baojian1,baojian2</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//baojian.test.js</span></span><br><span class="line"><span class="keyword">const</span> baojian = <span class="built_in">require</span>(<span class="string">&#x27;./baojian.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123;baojian1 , baojian2&#125; = baojian</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;保健1 300&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">baojian1</span>(<span class="number">300</span>)).<span class="title function_">toBe</span>(<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;保健2 1000&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">baojian2</span>(<span class="number">1000</span>)).<span class="title function_">toBe</span>(<span class="string">&#x27;2A&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> PASS  ./baojian.test.js</span></span><br><span class="line"><span class="comment">  √ 保健1 300 (2ms)</span></span><br><span class="line"><span class="comment">  √ 保健2 1000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Test Suites: 1 passed, 1 total</span></span><br><span class="line"><span class="comment">Tests:       2 passed, 2 total</span></span><br><span class="line"><span class="comment">Snapshots:   0 total</span></span><br><span class="line"><span class="comment">Time:        3.095s</span></span><br><span class="line"><span class="comment">Ran all test suites.</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


<h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><blockquote>
<p>npx jest –init<br>生成一个jest.config.js 作为配置文件</p>
</blockquote>
<blockquote>
<p>npx jest –coverage<br>之后会在命令行显示代码覆盖率<br>同时在工作目录下生成一个coverage目录,生成一个报告<br>生成目录在配置文件的 coverageDirectory</p>
</blockquote>
<h2 id="匹配器"><a href="#匹配器" class="headerlink" title="匹配器"></a>匹配器</h2><h3 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h3><h4 id="toBe-和-toEqual"><a href="#toBe-和-toEqual" class="headerlink" title="toBe 和 toEqual"></a>toBe 和 toEqual</h4><p>=== 和 ==</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = &#123;name : <span class="string">&#x27;zy&#x27;</span>&#125;;</span><br><span class="line">    <span class="title function_">expect</span>(a).<span class="title function_">toBe</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zy&#x27;</span>&#125;)</span><br><span class="line">&#125;) <span class="comment">//fail</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = &#123;name : <span class="string">&#x27;zy&#x27;</span>&#125;;</span><br><span class="line">    <span class="title function_">expect</span>(a).<span class="title function_">toEqual</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zy&#x27;</span>&#125;)</span><br><span class="line">&#125;)  <span class="comment">//pass</span></span><br></pre></td></tr></table></figure>

<h4 id="toBeNull-和-toBeUndefined-和-toBeDefined"><a href="#toBeNull-和-toBeUndefined-和-toBeDefined" class="headerlink" title="toBeNull 和 toBeUndefined 和 toBeDefined"></a>toBeNull 和 toBeUndefined 和 toBeDefined</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;3&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="literal">null</span>;</span><br><span class="line">    <span class="title function_">expect</span>(a).<span class="title function_">toBeNull</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;4&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="literal">undefined</span>;</span><br><span class="line">    <span class="title function_">expect</span>(a).<span class="title function_">toBeUndefined</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;5&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="title function_">expect</span>(a).<span class="title function_">toBeDefined</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="toBeTruthy-和-toBeFalsy"><a href="#toBeTruthy-和-toBeFalsy" class="headerlink" title="toBeTruthy 和 toBeFalsy"></a>toBeTruthy 和 toBeFalsy</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="literal">true</span>).<span class="title function_">toBeTruthy</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">   </span><br><span class="line">    <span class="title function_">expect</span>(<span class="literal">false</span>).<span class="title function_">toBeFalsy</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="toBeLessThan-和-toBeGreaterThan"><a href="#toBeLessThan-和-toBeGreaterThan" class="headerlink" title="toBeLessThan 和 toBeGreaterThan"></a>toBeLessThan 和 toBeGreaterThan</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="number">3</span>).<span class="title function_">toBeGreaterThan</span>(<span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="number">3</span>).<span class="title function_">toBeLessThan</span>(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="toBeGreaterThanOrEqual-和-toBeLessThanOrEqual"><a href="#toBeGreaterThanOrEqual-和-toBeLessThanOrEqual" class="headerlink" title="toBeGreaterThanOrEqual 和 toBeLessThanOrEqual"></a>toBeGreaterThanOrEqual 和 toBeLessThanOrEqual</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="number">3</span>).<span class="title function_">toBeGreaterThanOrEqual</span>(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="number">3</span>).<span class="title function_">toBeLessThanOrEqual</span>(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="toBeCloseTo"><a href="#toBeCloseTo" class="headerlink" title="toBeCloseTo"></a>toBeCloseTo</h4><p>js中对于浮点数的计算有问题</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Expected: 0.3</span></span><br><span class="line"><span class="comment">Received: 0.30000000000000004</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">const</span> b = <span class="number">0.2</span></span><br><span class="line">    <span class="title function_">expect</span>(a + b).<span class="title function_">toEqual</span>(<span class="number">0.3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//pass</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">const</span> b = <span class="number">0.2</span></span><br><span class="line">    <span class="title function_">expect</span>(a + b).<span class="title function_">toBeCloseTo</span>(<span class="number">0.3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="字符串和数组"><a href="#字符串和数组" class="headerlink" title="字符串和数组"></a>字符串和数组</h3><h4 id="toMatch"><a href="#toMatch" class="headerlink" title="toMatch"></a>toMatch</h4><p>toMatch  含有就能通过</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//pass</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="string">&#x27;a&#x27;</span>).<span class="title function_">toMatch</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(<span class="string">&#x27;ab&#x27;</span>).<span class="title function_">toMatch</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="toContain"><a href="#toContain" class="headerlink" title="toContain"></a>toContain</h4><p>运用于数组,还能测试set</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//pass</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>([<span class="number">1</span>]).<span class="title function_">toContain</span>(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//pass</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>([<span class="number">1</span>,<span class="number">2</span>]).<span class="title function_">toContain</span>(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="toThrow"><a href="#toThrow" class="headerlink" title="toThrow"></a>toThrow</h4><p>只要方法抛出异常,就通过<br>不传入方法,则匹配所有异常.<br>传入参数,则是匹配限定的一场.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 抛出异常方法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">throwError</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Error&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正常方法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">normal</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//pass</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(throwError).<span class="title function_">toThrow</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//fail</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(normal).<span class="title function_">toThrow</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="不抛出异常才过"><a href="#不抛出异常才过" class="headerlink" title="不抛出异常才过"></a>不抛出异常才过</h4><p>.not表示取反,不推荐使用,除非实在没有匹配器</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 抛出异常方法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">throwError</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Error&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 正常方法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">normal</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//fail</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(throwError).<span class="property">not</span>.<span class="title function_">toThrow</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//pass</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>(normal).<span class="property">not</span>.<span class="title function_">toThrow</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="hooks"><a href="#hooks" class="headerlink" title="hooks"></a>hooks</h2><p>可以利用钩子函数在各个时期对测试进行设置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">beforeAll</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeAll&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title function_">beforeEach</span>(<span class="function">() =&gt;</span> &#123; </span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEach&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">afterEach</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;afterEach&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">afterAll</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;afterAll&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="分组测试"><a href="#分组测试" class="headerlink" title="分组测试"></a>分组测试</h2><p>利用describe对测试进行分组,同时分组中也会有钩子函数,全局的钩子函数执行顺序大于局部的</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">beforeAll</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1==beforeAll&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;describe&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">beforeAll</span>(<span class="function">()=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;2==beforeAll&#x27;</span>))</span><br><span class="line">    <span class="title function_">test</span>(<span class="string">&#x27;test&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;2=2?&#x27;</span>)</span><br><span class="line">        <span class="title function_">expect</span>(<span class="number">2</span>).<span class="title function_">toBe</span>(<span class="number">2</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="单独测试"><a href="#单独测试" class="headerlink" title="单独测试"></a>单独测试</h2><p>test.only</p>
<h1 id="Mocha"><a href="#Mocha" class="headerlink" title="Mocha"></a>Mocha</h1><h1 id="TDD"><a href="#TDD" class="headerlink" title="TDD"></a>TDD</h1><h1 id="BDD"><a href="#BDD" class="headerlink" title="BDD"></a>BDD</h1>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Jest</tag>
        <tag>Mocha</tag>
        <tag>TDD</tag>
        <tag>BDD</tag>
        <tag>测试</tag>
      </tags>
  </entry>
  <entry>
    <title>200515TypeScript</title>
    <url>/2020/05/15/</url>
    <content><![CDATA[<span id="more"></span>
<h1 id="ts中的类型"><a href="#ts中的类型" class="headerlink" title="ts中的类型"></a>ts中的类型</h1><ul>
<li>boolean</li>
<li>number</li>
<li>string</li>
<li>array<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一种写法</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">arr1</span>:<span class="built_in">string</span>[] = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="comment">// 第二种写法</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">arr2</span>:<span class="title class_">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>,<span class="number">2</span>]</span><br></pre></td></tr></table></figure></li>
<li>tuple(元组):数组的一种,可以指定数组里面的类型<br><code>let tuple:[string,number] = [&#39;a&#39;,1]</code></li>
<li>enum(枚举)<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Flag</span> &#123;success=<span class="number">1</span> , error = <span class="number">0</span>&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">flag</span>:<span class="title class_">Flag</span> = <span class="title class_">Flag</span>.<span class="property">error</span>;</span><br><span class="line"><span class="comment">// 默认值为索引值</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Flag</span> &#123;success ,  error &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Flag</span>.<span class="property">success</span>) <span class="comment">//0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Flag</span>.<span class="property">error</span>)   <span class="comment">//1</span></span><br><span class="line"><span class="comment">// 默认值为前面一个的下一个值</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Flag</span> &#123;success = <span class="number">6</span> ,  error &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Flag</span>.<span class="property">success</span>)  <span class="comment">//6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Flag</span>.<span class="property">error</span>)    <span class="comment">//7</span></span><br></pre></td></tr></table></figure></li>
<li>any</li>
<li>null和undefined (never其他类型的子类型)</li>
<li>void<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 用来表示函数的返回类型为空,不可用null或者undefined</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>):<span class="built_in">void</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure></li>
<li>never  代表从不会出现的值</li>
</ul>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="参数类型和返回类型"><a href="#参数类型和返回类型" class="headerlink" title="参数类型和返回类型"></a>参数类型和返回类型</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> add = (<span class="attr">num1</span>:<span class="built_in">number</span> , <span class="attr">num2</span>:<span class="built_in">number</span>):<span class="function"><span class="params">number</span> =&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h2><p>?</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> add = (<span class="attr">num1</span>:<span class="built_in">number</span> , num2 ?:<span class="built_in">number</span>):<span class="function"><span class="params">number</span> =&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (num2) </span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> num1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h2><p>:&lt;类型&gt; = &lt;值&gt;</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> add = (<span class="attr">num1</span>:<span class="built_in">number</span> , num2 : <span class="built_in">number</span> = <span class="number">2</span>):<span class="function"><span class="params">number</span> =&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h2><p>使用展开运算符</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> loop = (...<span class="attr">result</span>:<span class="built_in">number</span>[]):<span class="function"><span class="params">void</span>=&gt;</span>&#123;</span><br><span class="line">  result.<span class="title function_">forEach</span>(<span class="function">(<span class="params">ele:<span class="built_in">number</span></span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ele);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">loop</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h2><p>js设计出来就没有想过重载,所以ts只能手动实现重载</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showAge</span>(<span class="params">num:<span class="built_in">number</span></span>):<span class="built_in">void</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showAge</span>(<span class="params">num:<span class="built_in">string</span></span>):<span class="built_in">void</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showAge</span>(<span class="params">num:<span class="built_in">any</span></span>):<span class="built_in">void</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> num === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;传入的是字符串&#x27;</span>) ;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;传入的是数字&#x27;</span>) ;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showAge</span>(<span class="number">1</span>)   <span class="comment">//传入的是数字</span></span><br><span class="line"><span class="title function_">showAge</span>(<span class="string">&#x27;2&#x27;</span>)  <span class="comment">//传入的是字符串</span></span><br><span class="line"><span class="title function_">showAge</span>(<span class="literal">true</span>)  <span class="comment">// error</span></span><br></pre></td></tr></table></figure>

<h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>; <span class="comment">//省略pubilc</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">setName</span>(<span class="attr">name</span>: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">getName</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>extends 和 super</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Stu</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&#x27;涨三倍&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">getName</span>())</span><br></pre></td></tr></table></figure>

<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><ul>
<li>public   类里面,类外,子类都能用 (默认)</li>
<li>private   在类里面和子类可以用,类外部不能用</li>
<li>protected 只能在类里面用</li>
</ul>
<h2 id="静态属性-静态方法"><a href="#静态属性-静态方法" class="headerlink" title="静态属性 静态方法"></a>静态属性 静态方法</h2><p>不需要实例化就能使用的属性和方法</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="attr">sex</span>: <span class="built_in">string</span> = <span class="string">&quot;男&quot;</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">print</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">sex</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">print</span>()</span><br></pre></td></tr></table></figure>

<h2 id="抽象类-继承多态"><a href="#抽象类-继承多态" class="headerlink" title="抽象类 继承多态"></a>抽象类 继承多态</h2><h3 id="继承多态"><a href="#继承多态" class="headerlink" title="继承多态"></a>继承多态</h3><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">eat</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>(name)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">super</span>(name)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;狗&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> cat = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&#x27;猫&#x27;</span>)</span><br><span class="line">dog.<span class="title function_">eat</span>()</span><br><span class="line">cat.<span class="title function_">eat</span>()</span><br></pre></td></tr></table></figure>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><ol>
<li>抽象方法只能定义在抽象类中</li>
<li>继承了抽象类的类必须实现抽象方法</li>
<li>抽象类不能实现<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">abstract</span> <span class="title function_">eat</span>():<span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;<span class="variable language_">super</span>(name)&#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">eat</span>():<span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是狗的eat&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;n&#x27;</span>);</span><br><span class="line">a.<span class="title function_">eat</span>()</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><h2 id="属性类接口"><a href="#属性类接口" class="headerlink" title="属性类接口"></a>属性类接口</h2><p>对 json 的约束</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Fullname</span>&#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printName</span>(<span class="params">name: Fullname</span>)&#123;</span><br><span class="line">  <span class="comment">// console.log(name.age)  会报错 因为是接口中不存在的属性</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name.firstName&#125;</span>-<span class="subst">$&#123;name.lastName&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">15</span>,</span><br><span class="line">  <span class="attr">firstName</span>:<span class="string">&#x27;zhang&#x27;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;yin&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">printName</span>(obj);</span><br><span class="line"><span class="title function_">printName</span>(&#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="number">123</span>,  <span class="comment">//error</span></span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;yin&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="函数类型接口"><a href="#函数类型接口" class="headerlink" title="函数类型接口"></a>函数类型接口</h2><p><strong>对方法传入的参数以及返回值进行约束</strong></p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> ecrypt &#123;</span><br><span class="line">  (<span class="attr">key</span>: <span class="built_in">string</span>, <span class="attr">value</span>: <span class="built_in">string</span>):<span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">test</span>:ecrypt = <span class="keyword">function</span>(<span class="params">key: <span class="built_in">string</span>, value: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> key + value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="可索引接口"><a href="#可索引接口" class="headerlink" title="可索引接口"></a>可索引接口</h2><p><strong>数组,对象的约束</strong></p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> objRule &#123;</span><br><span class="line">  [<span class="attr">index</span>:<span class="built_in">string</span>]: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: objRule = &#123;</span><br><span class="line">  name : <span class="string">&#x27;111&#x27;</span>,</span><br><span class="line">  age : <span class="string">&#x27;2222&#x27;</span>,</span><br><span class="line">  <span class="attr">set</span>: <span class="number">3</span>  <span class="comment">// error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类类型接口"><a href="#类类型接口" class="headerlink" title="类类型接口"></a>类类型接口</h2><p><strong>对类的约束</strong></p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> ;</span><br><span class="line">  <span class="title function_">eat</span>(<span class="attr">food</span>: <span class="built_in">string</span>):<span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">eat</span>(<span class="attr">food</span>: <span class="built_in">string</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + food)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">dog.<span class="title function_">eat</span>(<span class="string">&#x27;b&#x27;</span>);</span><br></pre></td></tr></table></figure>


<h2 id="接口拓展"><a href="#接口拓展" class="headerlink" title="接口拓展"></a>接口拓展</h2><ol>
<li>接口继承接口</li>
<li>类继承类实现接口</li>
</ol>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><p><strong>可以支持不特定的数据类型</strong></p>
<h2 id="泛型的定义"><a href="#泛型的定义" class="headerlink" title="泛型的定义"></a>泛型的定义</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> getData&lt;T&gt;(<span class="attr">data</span>: T): T&#123;</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(getData&lt;<span class="built_in">number</span>&gt;(<span class="number">123</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(getData&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;123&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="泛型可以用来拓展函数的未来数据"><a href="#泛型可以用来拓展函数的未来数据" class="headerlink" title="泛型可以用来拓展函数的未来数据"></a>泛型可以用来拓展函数的未来数据</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinList</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">list</span>:T[];</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">list</span> = [];</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">add</span>(<span class="params">data: T</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">push</span>(data)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">min</span>(): T&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">min</span>: T = <span class="variable language_">this</span>.<span class="property">list</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> iterator  <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">list</span>) &#123;</span><br><span class="line">      min =  iterator &lt; min ? iterator : min </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> min;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 泛型初始化</span></span><br><span class="line"><span class="keyword">let</span> test1 = <span class="keyword">new</span> <span class="title class_">MinList</span>&lt;<span class="built_in">string</span>&gt;();</span><br><span class="line">test1.<span class="title function_">add</span>(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">test1.<span class="title function_">add</span>(<span class="string">&#x27;d&#x27;</span>);</span><br><span class="line">test1.<span class="title function_">add</span>(<span class="string">&#x27;e&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test1.<span class="title function_">min</span>())</span><br></pre></td></tr></table></figure>
<p>该类用来需要最小值堆,在初始化时决定是一个number堆还是一个string堆</p>
<h2 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第一种写法</span></span><br><span class="line"><span class="keyword">interface</span> ecrypt&#123;</span><br><span class="line">  &lt;T&gt;(<span class="attr">data</span>: T): T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">getData</span>: ecrypt = <span class="keyword">function</span>&lt;T&gt;(<span class="attr">data</span>: T): T&#123;</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getData&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">getData&lt;<span class="built_in">string</span>&gt;(<span class="number">123</span>);<span class="comment">// error</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 第二种写法</span></span><br><span class="line"><span class="keyword">interface</span> ecrypt&lt;T&gt; &#123;</span><br><span class="line">  (<span class="attr">value</span>: T):T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> getData&lt;T&gt;(<span class="attr">value</span>: T): T&#123;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">test</span>: ecrypt&lt;<span class="built_in">string</span>&gt; = getData;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">test</span>(<span class="string">&#x27;123&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="类泛型"><a href="#类泛型" class="headerlink" title="类泛型"></a>类泛型</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">pwd</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, pwd: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name ;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pwd</span> = pwd;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rec</span> &#123;</span><br><span class="line">  <span class="attr">des</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">des: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">des</span> = des;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySql</span>&lt;T&gt;&#123;</span><br><span class="line">  list : T[] = [];</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">one: T</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(one)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">User &#123; name: &#x27;123&#x27;, pwd: &#x27;123&#x27; &#125;</span></span><br><span class="line"><span class="comment">Rec &#123; des: &#x27;rec&#x27; &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;123&#x27;</span>,<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> mysql1 = <span class="keyword">new</span> <span class="title class_">MySql</span>&lt;<span class="title class_">User</span>&gt;();</span><br><span class="line">mysql1.<span class="title function_">add</span>(user);</span><br><span class="line"><span class="keyword">let</span> mysql2 = <span class="keyword">new</span> <span class="title class_">MySql</span>&lt;<span class="title class_">Rec</span>&gt;();</span><br><span class="line">mysql2.<span class="title function_">add</span>(<span class="keyword">new</span> <span class="title class_">Rec</span>(<span class="string">&#x27;rec&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h1 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h1><h2 id="普通传参"><a href="#普通传参" class="headerlink" title="普通传参"></a>普通传参</h2><p><strong>默认参数为params,就是那个class,且无法传入新的参数</strong></p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addName</span>(<span class="params">params: <span class="built_in">any</span></span>)&#123;</span><br><span class="line">  params.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">addProperty</span> = <span class="string">&#x27;aaa&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@addName</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">any</span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">addProperty</span>) <span class="comment">// aaa</span></span><br></pre></td></tr></table></figure>

<h2 id="类装饰器"><a href="#类装饰器" class="headerlink" title="类装饰器"></a>类装饰器</h2><p>可以传参,第一个params是传入的参数,返回函数的参数target就是目标类</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addName</span>(<span class="params">params: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target: <span class="built_in">any</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(params)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@addName</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[Function: Person]</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">any</span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="属性装饰器"><a href="#属性装饰器" class="headerlink" title="属性装饰器"></a>属性装饰器</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addName</span>(<span class="params">params: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="comment">// params  传入参数</span></span><br><span class="line">  <span class="comment">// target  目标类</span></span><br><span class="line">  <span class="comment">// attr 目标属性</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target: <span class="built_in">any</span>,attr: <span class="built_in">any</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(attr)</span><br><span class="line">    target[attr] = params;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="meta">@addName</span>(<span class="string">&#x27;属性装饰器&#x27;</span>)</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line">  <span class="title function_">getName</span>(): <span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">any</span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">a.<span class="title function_">getName</span>()</span><br></pre></td></tr></table></figure>

<h2 id="方法装饰器"><a href="#方法装饰器" class="headerlink" title="方法装饰器"></a>方法装饰器</h2><ol>
<li>target 对于静态成员来说是构造函数,对于普通方法是原型对象</li>
<li>methodName 方法名字</li>
<li>desc 属性描述符</li>
</ol>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addName</span>(<span class="params">params: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target: <span class="built_in">any</span>,methodName: <span class="built_in">any</span>,desc:<span class="built_in">any</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(methodName)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(desc);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line">  <span class="meta">@addName</span>(<span class="string">&#x27;属性装饰器&#x27;</span>)</span><br><span class="line">  <span class="title function_">getName</span>(): <span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">any</span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Person &#123; getName: [Function] &#125;</span></span><br><span class="line"><span class="comment">getName</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  value: [Function],</span></span><br><span class="line"><span class="comment">  writable: true,</span></span><br><span class="line"><span class="comment">  enumerable: true,</span></span><br><span class="line"><span class="comment">  configurable: true</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="方法参数装饰器"><a href="#方法参数装饰器" class="headerlink" title="方法参数装饰器"></a>方法参数装饰器</h2><ol>
<li>target 对于静态成员来说是构造函数,对于普通方法是原型对象</li>
<li>methodName 参数名字</li>
<li>desc 参数在函数列表中的索引</li>
</ol>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addName</span>(<span class="params">params: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target: <span class="built_in">any</span>,paramsName: <span class="built_in">any</span>,paramsIndex:<span class="built_in">any</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(target);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(paramsName)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(paramsIndex);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line"> </span><br><span class="line">  <span class="title function_">getName</span>( <span class="meta">@addName</span>(<span class="string">&#x27;属性装饰器&#x27;</span>) <span class="attr">num</span>:<span class="built_in">number</span> ): <span class="built_in">void</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">any</span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Person &#123; getName: [Function] &#125;</span></span><br><span class="line"><span class="comment">getName</span></span><br><span class="line"><span class="comment">0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="执行顺序"><a href="#执行顺序" class="headerlink" title="执行顺序"></a>执行顺序</h2><p>后入先出,压栈</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Js</tag>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>200514一些面试题-阿里校招二面</title>
    <url>/2020/05/14/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<span id="more"></span>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><h3 id="如何在移动端处理兼容性"><a href="#如何在移动端处理兼容性" class="headerlink" title="如何在移动端处理兼容性"></a>如何在移动端处理兼容性</h3><p><code>&lt;meta name = &quot;viewport&quot; content=&quot;width=device-with,initial-scale = 1.0,user-scaleable=no&quot;&gt;&lt;/meta&gt;</code></p>
<ol>
<li>media</li>
<li>流式布局</li>
<li>rem布局<h3 id="vw-em-rem的区别和使用环境"><a href="#vw-em-rem的区别和使用环境" class="headerlink" title="vw em rem的区别和使用环境"></a>vw em rem的区别和使用环境</h3>1vw = %1屏幕款<br>em 当前元素字体大小<br>根元素字体大小<h3 id="不同定位模式之间的区别"><a href="#不同定位模式之间的区别" class="headerlink" title="不同定位模式之间的区别"></a>不同定位模式之间的区别</h3></li>
</ol>
<ul>
<li>relative   相对</li>
<li>absolute   绝对</li>
<li>fiexd     相对于屏幕</li>
<li>sticky   吸附</li>
<li>static    默认</li>
<li>inherit   继承父元素</li>
</ul>
<h3 id="canvas如何使用图层"><a href="#canvas如何使用图层" class="headerlink" title="canvas如何使用图层"></a>canvas如何使用图层</h3><blockquote>
<p>，要实现图层可以通过在内存中建立多个canvas对象，通过globalCompositeOperation设置每个图层间重叠的方式以及通过globalAlpha设置每个图层的透明度。</p>
</blockquote>
<h3 id="如何避免图层覆盖-？（答的封装）"><a href="#如何避免图层覆盖-？（答的封装）" class="headerlink" title="如何避免图层覆盖 ？（答的封装）"></a>如何避免图层覆盖 ？（答的封装）</h3><h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><h3 id="所有绝对居中的实现-？-flex-text-padding-auto）没答全，还有translate"><a href="#所有绝对居中的实现-？-flex-text-padding-auto）没答全，还有translate" class="headerlink" title="所有绝对居中的实现 ？( flex, text, padding: auto）没答全，还有translate"></a>所有绝对居中的实现 ？( flex, text, padding: auto）没答全，还有translate</h3><ol>
<li>子元素 transform: translate(50% ,50%);</li>
<li>子元素 position: absolute;left:25%;top:25%; </li>
<li>父元素  display: flex;justify-content: center;align-items: center;<h3 id="sass和less有什么区别"><a href="#sass和less有什么区别" class="headerlink" title="sass和less有什么区别"></a>sass和less有什么区别</h3>sass和less主要区别:在于实现方式 less是基于JavaScript的在客户端处理，引入less.js就可以处理，sass是基于ruby所以在服务器处理。</li>
</ol>
<h3 id="实现响应式布局的方法-flex-媒体查询-rem-grid"><a href="#实现响应式布局的方法-flex-媒体查询-rem-grid" class="headerlink" title="实现响应式布局的方法(flex 媒体查询 rem)(grid)"></a>实现响应式布局的方法(flex 媒体查询 rem)(grid)</h3><p>grid实现</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#one</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">grid-area</span>: one;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#two</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">grid-area</span>: two;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#three</span> &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">grid-area</span>: three;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="keyword">@media</span>  <span class="keyword">only</span> screen <span class="keyword">and</span>  (<span class="attribute">min-width</span>:<span class="number">300px</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-columns</span>: auto ;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-rows</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-areas</span>:</span></span><br><span class="line"><span class="language-css">          <span class="string">&quot;one &quot;</span></span></span><br><span class="line"><span class="language-css">          <span class="string">&quot;two&quot;</span></span></span><br><span class="line"><span class="language-css">          <span class="string">&quot;three &quot;</span></span></span><br><span class="line"><span class="language-css">        ;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="keyword">@media</span>  <span class="keyword">only</span> screen <span class="keyword">and</span>  (<span class="attribute">min-width</span>:<span class="number">600px</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-columns</span>: auto auto ;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-rows</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-areas</span>:</span></span><br><span class="line"><span class="language-css">          <span class="string">&quot;one  two&quot;</span></span></span><br><span class="line"><span class="language-css">          <span class="string">&quot;three three &quot;</span></span></span><br><span class="line"><span class="language-css">        ;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="keyword">@media</span>  <span class="keyword">only</span> screen <span class="keyword">and</span>  (<span class="attribute">min-width</span>:<span class="number">900px</span>) &#123;</span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#container</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> auto  <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-rows</span>: auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">grid-template-areas</span>:</span></span><br><span class="line"><span class="language-css">          <span class="string">&quot;one two three&quot;</span></span></span><br><span class="line"><span class="language-css">        ;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;one&quot;</span>&gt;</span>one<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;two&quot;</span>&gt;</span>two<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;three&quot;</span>&gt;</span>three<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="了解过BFC吗"><a href="#了解过BFC吗" class="headerlink" title="了解过BFC吗"></a>了解过BFC吗</h3><p><strong>BFC(Block formatting context)直译为”块级格式化上下文”。</strong></p>
<blockquote>
<p>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</p>
</blockquote>
<ol>
<li>float的值不是none。</li>
<li>position的值不是static或者relative。</li>
<li>display的值是inline-block、table-cell、flex、table-caption或者inline-flex</li>
<li>overflow的值不是visible</li>
</ol>
<h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><h3 id="用三句话概括所有值传递类型，所有引用传递类型，以及如何用引用的方式传递值类型-？"><a href="#用三句话概括所有值传递类型，所有引用传递类型，以及如何用引用的方式传递值类型-？" class="headerlink" title="用三句话概括所有值传递类型，所有引用传递类型，以及如何用引用的方式传递值类型 ？"></a>用三句话概括所有值传递类型，所有引用传递类型，以及如何用引用的方式传递值类型 ？</h3><p><strong>ECMAScript中所有参数传递都是值，不可能通过引用传递参数</strong></p>
<ol>
<li>基本数据类型传值，对形参的修改不会影响实参；</li>
<li>引用类型传地址值，形参和实参指向同一个内存地址（同一个对象），所以对参数的修改会影响到实际的对象；</li>
</ol>
<h3 id="js所有基础类型"><a href="#js所有基础类型" class="headerlink" title="js所有基础类型"></a>js所有基础类型</h3><p>基础类型:</p>
<ul>
<li>undefined,</li>
<li>null,</li>
<li>Boolean,</li>
<li>Number,</li>
<li>String,</li>
<li>Symbol<h3 id="追问-null和undefined的区别-（未定义和赋空值）"><a href="#追问-null和undefined的区别-（未定义和赋空值）" class="headerlink" title="追问 null和undefined的区别 （未定义和赋空值）"></a>追问 null和undefined的区别 （未定义和赋空值）</h3><h3 id="追问-怎么比较"><a href="#追问-怎么比较" class="headerlink" title="追问 怎么比较"></a>追问 怎么比较</h3></li>
</ul>
<ol>
<li>null表示”没有对象”，即该处不应该有值。典型用法是：<ol>
<li>作为函数的参数，表示该函数的参数不是对象。</li>
<li>作为对象原型链的终点。</li>
</ol>
</li>
<li>undefined表示”缺少值”，就是此处应该有一个值，但是还没有定义。典型用法是：<ol>
<li>变量被声明了，但没有赋值时，就等于undefined。 例如，</li>
<li>调用函数时，应该提供的参数没有提供，该参数等于undefined。</li>
<li>对象没有赋值的属性，该属性的值为undefined。</li>
<li>函数没有返回值时或者return后面什么也没有，返回undefined。 <h3 id="指针和引用的区别-（地址和别名）"><a href="#指针和引用的区别-（地址和别名）" class="headerlink" title="指针和引用的区别 （地址和别名）"></a>指针和引用的区别 （地址和别名）</h3><h3 id="js当中对于不同环境的变量什么时候释放-（标记清除和引用计数）"><a href="#js当中对于不同环境的变量什么时候释放-（标记清除和引用计数）" class="headerlink" title="js当中对于不同环境的变量什么时候释放 （标记清除和引用计数）"></a>js当中对于不同环境的变量什么时候释放 （标记清除和引用计数）</h3><h3 id="在非闭包的情况下变量什么时候会被回收？（不确定）"><a href="#在非闭包的情况下变量什么时候会被回收？（不确定）" class="headerlink" title="在非闭包的情况下变量什么时候会被回收？（不确定）"></a>在非闭包的情况下变量什么时候会被回收？（不确定）</h3></li>
</ol>
</li>
<li>如果一个对象不被引用，那么这个对象就会被回收；</li>
<li>如果两个对象互相引用，但是没有被第3个对象所引用，那么这两个互相引用的对象也会被回收。<h3 id="js的作用域你怎么理解"><a href="#js的作用域你怎么理解" class="headerlink" title="js的作用域你怎么理解"></a>js的作用域你怎么理解</h3></li>
</ol>
<p><strong>作用域指的是您有权访问的变量集合。</strong></p>
<h3 id="js里的多重继承怎么实现"><a href="#js里的多重继承怎么实现" class="headerlink" title="js里的多重继承怎么实现"></a>js里的多重继承怎么实现</h3><h1 id="工程"><a href="#工程" class="headerlink" title="工程"></a>工程</h1><h2 id="React-和-Vue-生命周期有什么区别？（答了vue，react不了解）"><a href="#React-和-Vue-生命周期有什么区别？（答了vue，react不了解）" class="headerlink" title="React 和 Vue 生命周期有什么区别？（答了vue，react不了解）"></a>React 和 Vue 生命周期有什么区别？（答了vue，react不了解）</h2><h2 id="Vue如何监听数据的变化-defineProperty，订阅者模式"><a href="#Vue如何监听数据的变化-defineProperty，订阅者模式" class="headerlink" title="Vue如何监听数据的变化  (defineProperty，订阅者模式)"></a>Vue如何监听数据的变化  (defineProperty，订阅者模式)</h2><h2 id="Vue里如何实现父子组件之间的通信"><a href="#Vue里如何实现父子组件之间的通信" class="headerlink" title="Vue里如何实现父子组件之间的通信"></a>Vue里如何实现父子组件之间的通信</h2><h2 id="了解过高阶组件吗"><a href="#了解过高阶组件吗" class="headerlink" title="了解过高阶组件吗"></a>了解过高阶组件吗</h2><p><strong>何谓高阶组件？类比高阶函数的定义：将函数作为参数的函数就是高阶函数，那么，将组件作为参数的组件就是高阶组件。</strong><br>假如我们有一个组件，我们希望通过某个函数，去扩展它，得到一个新的组件，新的组件有完全的参数组件的行为，如果这点可以满足，那么其他扩展就可以针对性的进行处理了。组件最重要的三个功能就是事件、属性以及插槽，通过函数得到新的组件如果能完全复制参数组件的这三项能力，那么这个函数就是一个合格的高阶组件。</p>
<h2 id="看过Vue的源码吗（目前主要在理解原理阶段）"><a href="#看过Vue的源码吗（目前主要在理解原理阶段）" class="headerlink" title="看过Vue的源码吗（目前主要在理解原理阶段）"></a>看过Vue的源码吗（目前主要在理解原理阶段）</h2><h2 id="有没有使用工具构建过工程项目（vue-cli-webpack）"><a href="#有没有使用工具构建过工程项目（vue-cli-webpack）" class="headerlink" title="有没有使用工具构建过工程项目（vue cli+webpack）"></a>有没有使用工具构建过工程项目（vue cli+webpack）</h2><h2 id="webpack编译和构建原理（分析依赖，chunk）没有说loader"><a href="#webpack编译和构建原理（分析依赖，chunk）没有说loader" class="headerlink" title="webpack编译和构建原理（分析依赖，chunk）没有说loader"></a>webpack编译和构建原理（分析依赖，chunk）没有说loader</h2><blockquote>
<p>Webpack在启动后，会从Entry开始，递归解析Entry依赖的所有Module，每找到一个Module，就会根据Module.rules里配置的Loader规则进行相应的转换处理，对Module进行转换后，再解析出当前Module依赖的Module，这些Module会以Entry为单位进行分组，即为一个Chunk。因此一个Chunk，就是一个Entry及其所有依赖的Module合并的结果。最后Webpack会将所有的Chunk转换成文件输出Output。在整个构建流程中，Webpack会在恰当的时机执行Plugin里定义的逻辑，从而完成Plugin插件的优化任务。</p>
</blockquote>
<h2 id="平时使用什么工具转换es6（babel）"><a href="#平时使用什么工具转换es6（babel）" class="headerlink" title="平时使用什么工具转换es6（babel）"></a>平时使用什么工具转换es6（babel）</h2><h2 id="babel转码流程（配置-babelrc，解析语法数，改变块级变量名等等）"><a href="#babel转码流程（配置-babelrc，解析语法数，改变块级变量名等等）" class="headerlink" title="babel转码流程（配置.babelrc，解析语法数，改变块级变量名等等）"></a>babel转码流程（配置.babelrc，解析语法数，改变块级变量名等等）</h2><h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><h2 id="js哈希存储结构的构成方式-（哈希值，哈希表，哈希冲突）"><a href="#js哈希存储结构的构成方式-（哈希值，哈希表，哈希冲突）" class="headerlink" title="js哈希存储结构的构成方式 （哈希值，哈希表，哈希冲突）"></a>js哈希存储结构的构成方式 （哈希值，哈希表，哈希冲突）</h2><h2 id="js当中如何实现某一个数的阶乘-？（只答了for循环）"><a href="#js当中如何实现某一个数的阶乘-？（只答了for循环）" class="headerlink" title="js当中如何实现某一个数的阶乘 ？（只答了for循环）"></a>js当中如何实现某一个数的阶乘 ？（只答了for循环）</h2><ol>
<li>for循环</li>
<li>递归<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">div</span> = (<span class="params">num</span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">if</span>(num === <span class="number">1</span> || num ===<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="title function_">div</span>(num - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设计一个算法找到乱序数组中相加等于指定值的所有数对-（快排-两端查询-两层for）"><a href="#设计一个算法找到乱序数组中相加等于指定值的所有数对-（快排-两端查询-两层for）" class="headerlink" title="设计一个算法找到乱序数组中相加等于指定值的所有数对 （快排+两端查询 / 两层for）"></a>设计一个算法找到乱序数组中相加等于指定值的所有数对 （快排+两端查询 / 两层for）</h2>set</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200515一些面试题(网易1)</title>
    <url>/2020/05/15/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<span id="more"></span>
<h1 id="块状元素-行内元素"><a href="#块状元素-行内元素" class="headerlink" title="块状元素 行内元素"></a>块状元素 行内元素</h1><h2 id="块状元素"><a href="#块状元素" class="headerlink" title="块状元素"></a>块状元素</h2><p>能自己单独成行的元素,能自己控制宽高<br>h1-h6,address,center,hr,ul,ol,li,dl,table,tr,td,form,div</p>
<h2 id="行内元素"><a href="#行内元素" class="headerlink" title="行内元素"></a>行内元素</h2><p>用来修饰文本的元素,宽高由内容决定,如<br>b,strong,em,span,a,br,i,sub,del</p>
<h1 id="标签语义化是什么"><a href="#标签语义化是什么" class="headerlink" title="标签语义化是什么"></a>标签语义化是什么</h1><blockquote>
<p>语义化的标签，旨在让标签有自己的含义。<br>好处:</p>
</blockquote>
<ol>
<li>代码结构清晰，方便阅读，有利于团队合作开发。</li>
<li>方便其他设备解析（如屏幕阅读器、盲人阅读器、移动设备）以语义的方式来渲染网页。</li>
<li>有利于搜索引擎优化（SEO）。</li>
</ol>
<h1 id="css清除浮动"><a href="#css清除浮动" class="headerlink" title="css清除浮动"></a>css清除浮动</h1><h2 id="空标签-clear-both"><a href="#空标签-clear-both" class="headerlink" title="空标签 clear:both"></a>空标签 clear:both</h2><h2 id="overflow-hidden"><a href="#overflow-hidden" class="headerlink" title="overflow:hidden"></a>overflow:hidden</h2><h2 id="父元素-after-content-’’-display-block-clear-both"><a href="#父元素-after-content-’’-display-block-clear-both" class="headerlink" title="父元素:after {content:’’,display:block,clear:both}"></a>父元素:after {content:’’,display:block,clear:both}</h2><h1 id="什么是盒模型"><a href="#什么是盒模型" class="headerlink" title="什么是盒模型"></a>什么是盒模型</h1><p>盒模型（内容（content）,内边距（padding）,边框（border）,外边距（margin））</p>
<h1 id="css优先级"><a href="#css优先级" class="headerlink" title="css优先级"></a>css优先级</h1><p>!important &gt; 内联 &gt; #id &gt; .class = [attr] = :hover  &gt; tag = ::after &gt; *</p>
<h1 id="position属性"><a href="#position属性" class="headerlink" title="position属性"></a>position属性</h1><ul>
<li>relative  相对原位置</li>
<li>fixed   相对屏幕</li>
<li>static   默认值</li>
<li>absolute   相对于上一个非static定位</li>
<li>sticky   吸附</li>
<li>inherit   继承父元素定位</li>
</ul>
<h1 id="移动端适配？（媒体查询，flex，rem）还有viewport"><a href="#移动端适配？（媒体查询，flex，rem）还有viewport" class="headerlink" title="移动端适配？（媒体查询，flex，rem）还有viewport"></a>移动端适配？（媒体查询，flex，rem）还有viewport</h1><blockquote>
<meta name="viewport" content="width=device-width,initail-scale=1.0,user-scalable=no"></meta>
</blockquote>
<h2 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h2><ul>
<li><p>flex<br>流式布局,百分比,</p>
</li>
<li><p>rem布局<br>ip6的屏宽是374px = 100vw<br>故  想得到 100px = 100vw/37.4 = 26.66667vw<br>将rem设置为26.666667vw,并将所有px换成vw</p>
</li>
<li><p>@media</p>
<ul>
<li><code>@media screen and (max-width: 300px)</code></li>
<li><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;print.css&quot; media=&quot;print&quot;/&gt;</code></li>
</ul>
</li>
</ul>
<h1 id="px-em-rem"><a href="#px-em-rem" class="headerlink" title="px em rem"></a>px em rem</h1><ul>
<li>px 分辨率单位</li>
<li>em 当前元素字体大小</li>
<li>rem 根元素字体大小</li>
</ul>
<h1 id="和-的区别"><a href="#和-的区别" class="headerlink" title="==和===的区别"></a>==和===的区别</h1><p>== 会触发一次类型转换,将类型转化成相同后开始比较<br>=== 是严格比较</p>
<h1 id="原型和原型链是什么"><a href="#原型和原型链是什么" class="headerlink" title="原型和原型链是什么"></a>原型和原型链是什么</h1><ol>
<li>所有引用类型都有一个__proto__(隐式原型)属性，属性值是一个普通的对象</li>
<li>所有函数都有一个prototype(原型)属性，属性值是一个普通的对象</li>
<li>所有引用类型的__proto__属性指向它构造函数的prototype</li>
</ol>
<blockquote>
<p>当访问一个对象的某个属性时，会先在这个对象本身属性上查找，如果没有找到，则会去它的__proto__隐式原型上查找，即它的构造函数的prototype，如果还没有找到就会再在构造函数的prototype的__proto__中查找，这样一层一层向上查找就会形成一个链式结构，我们称为原型链。</p>
</blockquote>
<h1 id="什么是深拷贝"><a href="#什么是深拷贝" class="headerlink" title="什么是深拷贝"></a>什么是深拷贝</h1><p>引用类型是引用的内存地址,如果只是简单的let a = obj,那么a和obj都指向的同一块内存区域,达不到拷贝的效果.</p>
<h1 id="什么是同步-什么是异步"><a href="#什么是同步-什么是异步" class="headerlink" title="什么是同步 什么是异步"></a>什么是同步 什么是异步</h1><p>js中:</p>
<blockquote>
<p>同步任务是指在主线程上排队执行的任务，只有前一个任务执行完毕，才能继续执行下一个任务，当我们打开网站时，网站的渲染过程，比如元素的渲染，其实就是一个同步任务</p>
</blockquote>
<blockquote>
<p>异步任务是指不进入主线程，而进入任务队列的任务，只有任务队列通知主线程，某个异步任务可以执行了，该任务才会进入主线程，当我们打开网站时，像图片的加载，音乐的加载，其实就是一个异步任务</p>
</blockquote>
<h1 id="如何顺序执行10个异步任务-？"><a href="#如何顺序执行10个异步任务-？" class="headerlink" title="如何顺序执行10个异步任务 ？"></a>如何顺序执行10个异步任务 ？</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">produceTask</span>(<span class="params">i</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`第<span class="subst">$&#123;i&#125;</span>个任务`</span>)</span><br><span class="line">    <span class="title function_">resolve</span>(i)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getTaskArr</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> res = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span> ; i &lt;= <span class="number">10</span> ; i++)&#123;</span><br><span class="line">    res.<span class="title function_">push</span>(<span class="title function_">produceTask</span>(i))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>(<span class="title function_">getTaskArr</span>()).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)      <span class="comment">// 失败了，打出 &#x27;失败&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="es6-proxy是什么-？"><a href="#es6-proxy是什么-？" class="headerlink" title="es6 proxy是什么 ？"></a>es6 proxy是什么 ？</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><blockquote>
<p>proxy的中文意思是“代理”，这也很形象的说明了它的功能，就是所有对对象的操作，访问也好赋值也好都必须经过它的一层处理。</p>
</blockquote>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p><code>let proxy = new Proxy(target, handler);</code><br>target: 表示所要拦截的目标对象（对象、数组、函数等都可以）<br>handler：也是一个对象，用来定制拦截行为<br>注：要想Proxy起作用，必须针对Proxy实例进行操作，而不是目标对象</p>
<p>如果handler是个空对象，将没有任何拦截效果，访问proxy相当于访问target</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(obj, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function">(<span class="params">target, prop</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;取值啦&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> target[prop];</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="function">(<span class="params">target, prop, value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;赋值啦&#x27;</span>);</span><br><span class="line">        target[prop] = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 要想Proxy起作用，必须针对Proxy实例进行操作，而不是目标对象</span></span><br><span class="line">proxy.<span class="property">a</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">// 赋值啦</span></span><br><span class="line">obj.<span class="property">a</span> = <span class="number">2</span>;</span><br><span class="line">proxy.<span class="property">a</span>;</span><br><span class="line"><span class="comment">// 取值啦</span></span><br><span class="line">obj.<span class="property">a</span>;</span><br></pre></td></tr></table></figure>

<h2 id="拦截方法"><a href="#拦截方法" class="headerlink" title="拦截方法"></a>拦截方法</h2><h3 id="get"><a href="#get" class="headerlink" title="get"></a>get</h3><p>get(target, prop, receiver) 拦截对象属性的读取操作</p>
<ul>
<li>target： 目标对象</li>
<li>prop：属性名</li>
<li>receriver: proxy实例本身(可选参数)</li>
</ul>
<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><p>set(target, prop, value, receiver) 拦截属性的赋值操作</p>
<ul>
<li>target： 目标对象</li>
<li>prop：属性名</li>
<li>value: 属性值</li>
<li>receriver: proxy实例本身（可选参数）</li>
</ul>
<h3 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h3><p>apply(target, object, args)：拦截 Proxy 实例作为函数调用的操作,比如proxy(…args)、proxy.call(object, …args)、proxy.apply(…)。</p>
<ul>
<li>target: 目标对象</li>
<li>object：目标对象的上下文对象（this）</li>
<li>args :目标对象的参数数组</li>
</ul>
<h3 id="construct"><a href="#construct" class="headerlink" title="construct"></a>construct</h3><p>construct(target, args): 拦截Proxy实例作为构造函数调用的操作，如new proxy(…args)。</p>
<ul>
<li>target：目标对象</li>
<li>args：构造函数的参数对象</li>
</ul>
<p>construct必须返回一个对象，否则会报错</p>
<h3 id="has"><a href="#has" class="headerlink" title="has"></a>has</h3><p>has(target, propKey), 拦截in运算符，例如propKey in proxy的操作，但是对for…in循环不生效。返回一个布尔值</p>
<ul>
<li>target：目标对象</li>
<li>propKey：属性名<br>例，拦截特殊属性不被in操作符发现</li>
</ul>
<h3 id="ownKeys"><a href="#ownKeys" class="headerlink" title="ownKeys"></a>ownKeys</h3><p>ownKeys(target)：拦截以下操作：</p>
<ul>
<li>Object.getOwnPropertyNames(proxy)</li>
<li>Object.getOwnPropertySymbols(proxy)</li>
<li>Object.keys(proxy)</li>
<li>for…in循环</li>
</ul>
<h1 id="对一个对象数组排序"><a href="#对一个对象数组排序" class="headerlink" title="对一个对象数组排序"></a>对一个对象数组排序</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  &#123;</span><br><span class="line">    name : <span class="string">&#x27;zy&#x27;</span>,</span><br><span class="line">    age : <span class="number">16</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name : <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">    age : <span class="number">23</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    name : <span class="string">&#x27;ccc&#x27;</span>,</span><br><span class="line">    age : <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sortByProperty</span>(<span class="params">arr,prop</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a[prop] - b[prop]</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sortByProperty</span>(arr,<span class="string">&#x27;age&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h1 id="乱序一维数组排序"><a href="#乱序一维数组排序" class="headerlink" title="乱序一维数组排序"></a>乱序一维数组排序</h1><ul>
<li>若 a 小于 b，即 a - b 小于零，则返回一个小于零的值，数组将按照升序排列。</li>
<li>若 a 等于 b，则返回 0。</li>
<li>若 a 大于 b, 即 a - b 大于零，则返回一个大于零的值，数组将按照降序排列。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 乱序一维数组排序</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">56</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">62</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">62</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">8</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a-b))</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h1><p>set</p>
<h1 id="如何进行git的分支管理"><a href="#如何进行git的分支管理" class="headerlink" title="如何进行git的分支管理"></a>如何进行git的分支管理</h1><ol>
<li>git branch testing 创建分支</li>
<li>git checkout testing 切换分支  = (  git checkout -b (branchname) )</li>
<li>编写代码  (git add  git commit)</li>
<li>git checkout master    切换主分支</li>
<li>git merge testing  合并分支</li>
</ol>
<p><em>解决冲突</em></p>
<ol>
<li>git merge 显示冲突</li>
<li>查看冲突文件</li>
<li>解决冲突</li>
<li>git add </li>
<li>git commit -m</li>
</ol>
<h1 id="浏览器有哪些缓存"><a href="#浏览器有哪些缓存" class="headerlink" title="浏览器有哪些缓存"></a>浏览器有哪些缓存</h1><h2 id="http缓存"><a href="#http缓存" class="headerlink" title="http缓存"></a>http缓存</h2><ol>
<li>判断expires，如果未过期，直接读取http缓存文件，不发http请求，否则进入下一步</li>
<li>判断是否含有etag，有则带上if-none-match发送请求，未修改返回304，修改返回200，否则进入下一步</li>
<li>判断是否含有last-modified，有则带上if-modified-since发送请求，无效返回200，有效返回304，否则直接向服务器请求</li>
</ol>
<h2 id="websql"><a href="#websql" class="headerlink" title="websql"></a>websql</h2><p>控制台=&gt; websql<br>核心方法:</p>
<ol>
<li>openDatabase：这个方法使用现有的数据库或者新建的数据库创建一个数据库对象。</li>
<li>transaction：这个方法让我们能够控制一个事务，以及基于这种情况执行提交或者回滚。</li>
<li>executeSql：这个方法用于执行实际的 SQL 查询。<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;status&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> db = <span class="title function_">openDatabase</span>(<span class="string">&#x27;mydb&#x27;</span>, <span class="string">&#x27;1.0&#x27;</span>, <span class="string">&#x27;Test DB&#x27;</span>, <span class="number">2</span> * <span class="number">1024</span> * <span class="number">1024</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">db.<span class="title function_">transaction</span>(<span class="keyword">function</span> (<span class="params">tx</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  tx.<span class="title function_">executeSql</span>(<span class="string">&#x27;CREATE TABLE IF NOT EXISTS LOGS (id unique, log)&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  tx.<span class="title function_">executeSql</span>(<span class="string">&#x27;INSERT INTO LOGS (id, log) VALUES (1, &quot;菜鸟教程&quot;)&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  tx.<span class="title function_">executeSql</span>(<span class="string">&#x27;INSERT INTO LOGS (id, log) VALUES (2, &quot;www.runoob.com&quot;)&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">db.<span class="title function_">transaction</span>(<span class="keyword">function</span> (<span class="params">tx</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  tx.<span class="title function_">executeSql</span>(<span class="string">&#x27;SELECT * FROM LOGS&#x27;</span>, [], <span class="keyword">function</span> (<span class="params">tx, results</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> len = results.<span class="property">rows</span>.<span class="property">length</span>, i;</span></span><br><span class="line"><span class="language-javascript">      msg = <span class="string">&quot;&lt;p&gt;查询记录条数: &quot;</span> + len + <span class="string">&quot;&lt;/p&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#status&#x27;</span>).<span class="property">innerHTML</span> +=  msg;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(results.<span class="property">rows</span>.<span class="title function_">item</span>(i).<span class="property">log</span> );</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">  &#125;, <span class="literal">null</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="indexDB"><a href="#indexDB" class="headerlink" title="indexDB"></a>indexDB</h2><blockquote>
<p>IndexedDB是一种使用浏览器存储大量数据的方法，它创造的数据可以被查询，并且可以离线使用。<br>IndexedDB是WebSQL数据库的取代品，W3C组织在2010年11月18日废弃了webSql.IndexedDB和WebSQL的不同点在于WebSQL是关系型数据库（复杂）IndexedDB是key-value型数据库（简单好使）</p>
</blockquote>
</li>
</ol>
<h3 id="几个概念"><a href="#几个概念" class="headerlink" title="几个概念"></a>几个概念</h3><ol>
<li>IDBFactory：数据库工厂，负责打开或者创建数据库<ol>
<li>IDBFactory.open 方法发送一个打开或者创建一个数据库的请求</li>
<li>IDBFactory.deleteDatabase 方法： 发送一个删除数据库的请求</li>
</ol>
</li>
<li>IDBDatabase: 数据库<ol>
<li>IDBDatabase.close 方法关闭数据库。</li>
<li>IDBDatabase.createObjectStore 方法创建 store，相当于表</li>
<li>IDBDatabase.transaction 开启一个事务。</li>
</ol>
</li>
<li>IDBIndex：数据库表的索引</li>
<li>IDBObjectStore：数据库表</li>
<li>IDBTransaction：事务</li>
<li>IDBRequest：机会是所有 indexedDB 操作的返回值，indexedDB 操作请求<ol>
<li>IDBRequest.result 结果</li>
<li>IDBRequest.onerror 异常事件</li>
<li>IDBRequest.onsuccess 成功的事件</li>
</ol>
</li>
</ol>
<h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><blockquote>
<p>Cookie是由服务器端生成，发送给User-Agent（一般是浏览器），（服务器告诉浏览器设置一下cookie），浏览器自动会将Cookie以key/value保存到某个目录下的文本文件内，下次请求同一网站时也会自动发送该Cookie给服务器，即添加在请求头部（前提是浏览器设置为启用cookie）。<br>Cookie就是一个小型文件（浏览器对cookie的内存大小是有限制的——-用来记录一些信息）</p>
</blockquote>
<h2 id="localstorage"><a href="#localstorage" class="headerlink" title="localstorage"></a>localstorage</h2><blockquote>
<p> localStorage的生命周期是永久性的。假若使用localStorage存储数据，即使关闭浏览器，也不会让数据消失，除非主动的去删除数据，</p>
</blockquote>
<h2 id="sessionstorage"><a href="#sessionstorage" class="headerlink" title="sessionstorage"></a>sessionstorage</h2><blockquote>
<p>sessionStorage 用于临时保存同一窗口(或标签页)的数据，在关闭窗口或标签页之后将会删除这些数据。<br>提示: 如果你想在浏览器窗口关闭后还保留数据，可以使用 localStorage 属性， 该数据对象没有过期时间，今天、下周、明年都能用，除非你手动去删除。</p>
</blockquote>
<h2 id="application-cache"><a href="#application-cache" class="headerlink" title="application cache"></a>application cache</h2><ol>
<li>离线浏览——用户在不能联网的时候依然能浏览整个站点</li>
<li>高速——缓存资源是存储在本地的，因此能更快加载。</li>
<li>更小的服务器负载——浏览器只需要从服务器端下载有改变的资源即可，相同资源不需要重复下载。<blockquote>
<p>Application Cache(或 AppCache)让一个开发者可以指定浏览器需要保存哪个文件。当用户在离线情况下时，即使他们按了刷新按钮，你的应用也能正确加载和工作。</p>
</blockquote>
</li>
</ol>
<h2 id="cacheStorage"><a href="#cacheStorage" class="headerlink" title="cacheStorage"></a>cacheStorage</h2><p>CacheStorage和Cache，是两个与缓存有关的接口，用于管理当前网页/Web App的缓存；在使用Service Worker时基本都会用到。它们跟数据库有点类似，我们可以用mongodb来打个比喻：</p>
<ol>
<li>CacheStorage管理着所有的Cache，是整个缓存api的入口，类似mongo</li>
<li>Cache是单个缓存库，通常一个app会有一个，类似mongo里的每个db</li>
</ol>
<h1 id="什么是跨域"><a href="#什么是跨域" class="headerlink" title="什么是跨域"></a>什么是跨域</h1><p>当一个请求url的协议、域名、端口三者之间任意一个与当前页面url不同即为跨域</p>
<h1 id="如何解决跨域"><a href="#如何解决跨域" class="headerlink" title="如何解决跨域"></a>如何解决跨域</h1><p>jsonp，代理，白名单</p>
<h1 id="不考虑还有别的办法"><a href="#不考虑还有别的办法" class="headerlink" title="不考虑还有别的办法"></a>不考虑还有别的办法</h1><p>本地存储，window.name，form.message</p>
<h1 id="页面性能的优化"><a href="#页面性能的优化" class="headerlink" title="页面性能的优化"></a>页面性能的优化</h1><p>重绘，回流，防抖，节流,懒加载，预加载,还有base64，压缩，骨架屏</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt;</span><br><span class="line">    &lt;link href=&quot;https://cdn.bootcss.com/weui/2.1.2/style/weui.min.css&quot; rel=&quot;stylesheet&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Skeletons&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">      img &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      .media-box-img &#123;</span><br><span class="line">        width: 60px;</span><br><span class="line">        height: 60px;</span><br><span class="line">      &#125;</span><br><span class="line">      /* 阻止Skeletons点击事件 */</span><br><span class="line">      .pointer-stop &#123;</span><br><span class="line">        pointer-events: none;</span><br><span class="line">      &#125;</span><br><span class="line">      /* Skeletons效果 */</span><br><span class="line">      .skeletons &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        display: block;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        height: 100%;</span><br><span class="line">        min-height: 20px;</span><br><span class="line">        background-color: #ededed;</span><br><span class="line">      &#125;</span><br><span class="line">      .skeletons:empty::after &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        content: &#x27;&#x27;;</span><br><span class="line">        position: absolute;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        -webkit-transform: translateX(-100%);</span><br><span class="line">        transform: translateX(-100%);</span><br><span class="line">        background: linear-gradient(90deg, transparent, rgba(216, 216, 216, 0.753), transparent);</span><br><span class="line">        -webkit-animation: loading 1.5s infinite;</span><br><span class="line">        animation: loading 1.5s infinite;</span><br><span class="line">      &#125;</span><br><span class="line">      @-webkit-keyframes loading &#123;</span><br><span class="line">        100% &#123;</span><br><span class="line">          -webkit-transform: translateX(100%);</span><br><span class="line">          transform: translateX(100%);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      @keyframes loading &#123;</span><br><span class="line">        100% &#123;</span><br><span class="line">          -webkit-transform: translateX(100%);</span><br><span class="line">          transform: translateX(100%);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;weui-panel weui-panel_access&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;weui-panel__hd&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;weui-panel-title skeletons&quot;&gt;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;weui-panel__bd&quot;&gt;</span><br><span class="line">        &lt;a href=&quot;javascript:void(0);&quot; class=&quot;weui-media-box weui-media-box_appmsg pointer-stop&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;weui-media-box__hd&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;media-box-img skeletons&quot;&gt;&lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;weui-media-box__bd&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;weui-media-box__title skeletons&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;p class=&quot;weui-media-box__desc&quot;&gt;</span><br><span class="line">              &lt;span class=&quot;media-box-desc skeletons&quot;&gt;&lt;/span&gt;</span><br><span class="line">            &lt;/p&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      function renderCard() &#123;</span><br><span class="line">        var cardImage = document.querySelector(&#x27;.weui-panel-title&#x27;)</span><br><span class="line">        cardImage.textContent = &#x27;标题&#x27;</span><br><span class="line">        cardImage.classList.remove(&#x27;skeletons&#x27;)</span><br><span class="line">        var listData = [</span><br><span class="line">          &#123;</span><br><span class="line">            img:</span><br><span class="line">              &#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAeFBMVEUAwAD///+U5ZTc9twOww7G8MYwzDCH4YcfyR9x23Hw+/DY9dhm2WZG0kbT9NP0/PTL8sux7LFe115T1VM+zz7i+OIXxhes6qxr2mvA8MCe6J6M4oz6/frr+us5zjn2/fa67rqB4IF13XWn6ad83nxa1loqyirn+eccHxx4AAAC/klEQVRo3u2W2ZKiQBBF8wpCNSCyLwri7v//4bRIFVXoTBBB+DAReV5sG6lTXDITiGEYhmEYhmEYhmEYhmEY5v9i5fsZGRx9PyGDne8f6K9cfd+mKXe1yNG/0CcqYE86AkBMBh66f20deBc7wA/1WFiTwvSEpBMA2JJOBsSLxe/4QEEaJRrASP8EVF8Q74GbmevKg0saa0B8QbwBdjRyADYxIhqxAZ++IKYtciPXLQVG+imw+oo4Bu56rjEJ4GYsvPmKOAB+xlz7L5aevqUXuePWVhvWJ4eWiwUQ67mK51qPj4dFDMlRLBZTqF3SDvmr4BwtkECu5gHWPkmDfQh02WLxXuvbvC8ku8F57GsI5e0CmUwLz1kq3kD17R1In5816rGvQ5VMk5FEtIiWislTffuDpl/k/PzscdQsv8r9qWq4LRWX6tQYtTxvI3XyrwdyQxChXioOngH3dLgOFjk0all56XRi/wDFQrGQU3Os5t0wJu1GNtNKHdPqYaGYQuRDfbfDf26AGLYSyGS3ZAK4S8XuoAlxGSdYMKwqZKM9XJMtyqXi7HX/CiAZS6d8bSVUz5J36mEMFDTlAFQzxOT1dzLRljjB6+++ejFqka+mXIe6F59mw22OuOw1F4T6lg/9VjL1rLDoI9Xzl1MSYDNHnPQnt3D1EE7PrXjye/3pVpr1Z45hMUdcACc5NVQI0bOdS1WA0wuz73e7/5TNqBPhQXPEFGJNV2zNqWI7QKBd2Gn6AiBko02zuAOXeWIXjV0jNqdKegaE/kJQ6Bfs4aju04lMLkA2T5wBSYPKDGF3RKhFYEa6A1L1LG2yacmsaZ6YPOSAMKNsO+N5dNTfkc5Aqe26uxHpx7ZirvgCwJpWq/lmX1hA7LyabQ34tt5RiJKXSwQ+0KU0V5xg+hZrd4Bn1n4EID+WkQdgLfRNtvil9SPfwy+WQ7PFBWQz6dGWZBLkeJFXZGCfLUjCgGgqXo5TuSu3cugdcTv/HjqnBTEMwzAMwzAMwzAMwzAMw/zf/AFbXiOA6frlMAAAAABJRU5ErkJggg==&#x27;,</span><br><span class="line">            desc: &#x27;内容内容内容内容&#x27;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">        var html = &#x27;&#x27;</span><br><span class="line">        var cardImage1 = document.querySelectorAll(&#x27;.media-box-img&#x27;)</span><br><span class="line">        var cardImage2 = document.querySelectorAll(&#x27;.weui-media-box&#x27;)</span><br><span class="line">        var cardImage3 = document.querySelectorAll(&#x27;.weui-media-box__title&#x27;)</span><br><span class="line">        var cardImage4 = document.querySelectorAll(&#x27;.media-box-desc&#x27;)</span><br><span class="line">        for (var i = 0; i &lt; listData.length; i++) &#123;</span><br><span class="line">          cardImage2[i].classList.remove(&#x27;pointer-stop&#x27;)</span><br><span class="line">          cardImage1[i].classList.remove(&#x27;skeletons&#x27;)</span><br><span class="line">          cardImage3[i].classList.remove(&#x27;skeletons&#x27;)</span><br><span class="line">          cardImage4[i].classList.remove(&#x27;skeletons&#x27;)</span><br><span class="line">          cardImage1[i].innerHTML = &quot;&lt;img src=&#x27;&quot; + listData[i].img + &quot;&#x27; /&gt;&quot;</span><br><span class="line">          cardImage3[i].innerHTML = &#x27;一段标题&#x27;</span><br><span class="line">          cardImage4[i].innerHTML = &#x27;一段描述&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      setTimeout(function() &#123;</span><br><span class="line">        renderCard()</span><br><span class="line">      &#125;, 4000)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h1 id="浏览器安全处理"><a href="#浏览器安全处理" class="headerlink" title="浏览器安全处理"></a>浏览器安全处理</h1><h2 id="xss-Cross-Site-Scripting-避开css-简称xss"><a href="#xss-Cross-Site-Scripting-避开css-简称xss" class="headerlink" title="xss Cross Site Scripting 避开css 简称xss"></a>xss Cross Site Scripting 避开css 简称xss</h2><p>跨站脚本攻击是指恶意攻击者往Web页面里插入恶意Script代码，当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的。<br>xss漏洞通常是通过php的输出函数将javascript代码输出到html页面中，通过用户本地浏览器执行的，所以xss漏洞关键就是寻找参数未过滤的输出函数。</p>
<h2 id="数据库注入"><a href="#数据库注入" class="headerlink" title="数据库注入"></a>数据库注入</h2><p>所谓SQL注入，就是通过把SQL命令插入到Web表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令。<br>我们永远不要信任用户的输入，我们必须认定用户输入的数据都是不安全的，我们都需要对用户输入的数据进行过滤处理。</p>
<h2 id="csrf-ross—Site-Request-Forgery-跨站点请求伪造"><a href="#csrf-ross—Site-Request-Forgery-跨站点请求伪造" class="headerlink" title="csrf  ross—Site Request Forgery  跨站点请求伪造"></a>csrf  ross—Site Request Forgery  跨站点请求伪造</h2><p>其原理是攻击者构造网站后台某个功能接口的请求地址，诱导用户去点击或者用特殊方法让该请求地址自动加载。用户在登录状态下这个请求被服务端接收后会被误以为是用户合法的操作。对于 GET 形式的接口地址可轻易被攻击，对于 POST 形式的接口地址也不是百分百安全，攻击者可诱导用户进入带 Form 表单可用POST方式提交参数的页面。</p>
<h2 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a>文件上传漏洞</h2><p>文件上传漏洞是指由于程序员未对上传的文件进行严格的验证和过滤，而导致的用户可以越过其本身权限向服务器上上传可执行的动态脚本文件。这里上传的文件可以是木马，病毒，恶意脚本或者WebShell等。这种攻击方式是最为直接和有效的，“文件上传”本身没有问题，有问题的是文件上传后，服务器怎么处理、解释文件。如果服务器的处理逻辑做的不够安全，则会导致严重的后果。</p>
<h1 id="有没有真机浏览器debug经验"><a href="#有没有真机浏览器debug经验" class="headerlink" title="有没有真机浏览器debug经验"></a>有没有真机浏览器debug经验</h1>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200515字节一面</title>
    <url>/2020/05/15/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<span id="more"></span>
<h1 id="你的项目经历"><a href="#你的项目经历" class="headerlink" title="你的项目经历"></a>你的项目经历</h1><h1 id="js有哪些基础类型"><a href="#js有哪些基础类型" class="headerlink" title="js有哪些基础类型"></a>js有哪些基础类型</h1><ul>
<li>undefined</li>
<li>Number</li>
<li>String</li>
<li>Symbol</li>
<li>Boolean</li>
<li>Null<h1 id="闭包是什么"><a href="#闭包是什么" class="headerlink" title="闭包是什么"></a>闭包是什么</h1><h1 id="如何循环间隔1秒输出数组元素"><a href="#如何循环间隔1秒输出数组元素" class="headerlink" title="如何循环间隔1秒输出数组元素"></a>如何循环间隔1秒输出数组元素</h1>setInterval 和 clearInterval<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> <span class="title function_">print</span> = (<span class="params">arr</span>)=&gt;&#123; </span><br><span class="line">  <span class="keyword">let</span> i = <span class="number">0</span> ;</span><br><span class="line">  <span class="keyword">let</span>  <span class="title function_">show</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    i++;</span><br><span class="line">    <span class="keyword">if</span> (i === arr.<span class="property">length</span> ) &#123;</span><br><span class="line">      <span class="built_in">clearInterval</span>(time)c</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> time = <span class="built_in">setInterval</span>(show, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">print</span>(arr)</span><br></pre></td></tr></table></figure>
<h1 id="如何实现事件监听-callback，addEvaddentListener"><a href="#如何实现事件监听-callback，addEvaddentListener" class="headerlink" title="如何实现事件监听 (callback，addEvaddentListener)"></a>如何实现事件监听 (callback，addEvaddentListener)</h1></li>
</ul>
<ol>
<li>onClick…<ol>
<li> 兼容性好，基本上所有浏览器都支持该种方式</li>
<li> 缺点:复用性不好。</li>
<li> 缺点:JS与HTML夹杂到一块，代码混乱，发生错误难以检测和排除，不利于分工合作。</li>
<li> 缺点:如果发生修改需要同时修改HTML和JS，改动相对困难。</li>
</ol>
</li>
<li><code>box.onclick = function()&#123; alert(&quot;HELLOW WORLD&quot;);&#125;;</code><ol>
<li>兼容性好，基本支持所有浏览器</li>
<li>做到了文档与JS的分离，方便后期的代码管理</li>
<li>缺点:同一个事件，在执行多个函数时会发生覆盖</li>
</ol>
</li>
<li>element.addEventListener（事件名，函数，冒泡/捕获）<ol>
<li> 做到JS与HTML文档分离，便于代码维护；</li>
<li> 不会发生像on+”事件”的函数覆盖现象；</li>
<li> 提供监听的事件以冒泡或者捕获的可选方式执行</li>
<li> 缺点:兼容性还不完善，老板IE浏览器可能不兼容</li>
<li> 缺点:方法名较长，记忆稍有难度</li>
</ol>
</li>
<li>IE:attachEvent和detachEvent<br>element.attachEvent(“onclick”,listenerFunction) //添加事件<br>element.detachEvent(“onclick”,listenerFunction) //删除事件<h1 id="两者有什么区别-后者会被覆盖"><a href="#两者有什么区别-后者会被覆盖" class="headerlink" title="两者有什么区别 (后者会被覆盖)"></a>两者有什么区别 (后者会被覆盖)</h1><h1 id="Vue生命周期"><a href="#Vue生命周期" class="headerlink" title="Vue生命周期"></a>Vue生命周期</h1></li>
</ol>
<ul>
<li>beforeCreat</li>
<li>created</li>
<li>beforeMount</li>
<li>mounted</li>
<li>beforeUpdate</li>
<li>updated</li>
<li>beforeDestroy</li>
<li>destroyed<h1 id="BFC了解吗×-块级格式化上下文"><a href="#BFC了解吗×-块级格式化上下文" class="headerlink" title="BFC了解吗× 块级格式化上下文"></a>BFC了解吗× 块级格式化上下文</h1></li>
</ul>
<ol>
<li>float的值不是none。</li>
<li>position的值不是static或者relative。</li>
<li>display的值是inline-block、table-cell、flex、table-caption或者inline-flex</li>
<li>overflow的值不是visible<h1 id="画一个盒模型"><a href="#画一个盒模型" class="headerlink" title="画一个盒模型"></a>画一个盒模型</h1></li>
</ol>
<h1 id="追问-box-sizing"><a href="#追问-box-sizing" class="headerlink" title="追问 box-sizing"></a>追问 box-sizing</h1><ol>
<li>对于给定width和height的元素，设置box-sizing属性会影响盒子content width和 content height。</li>
<li>浏览器默认使用标准盒子模型，即box-sizing: content-box, 就是我们所写的宽度和高度就是对content 进行设置的。</li>
<li>在一些响应式布局中，我们修改了浏览器计算元素宽度、高度的方式，认为元素的宽度和高度是包括内边距padding和边框border</li>
</ol>
<h1 id="实现一个三栏布局"><a href="#实现一个三栏布局" class="headerlink" title="实现一个三栏布局"></a>实现一个三栏布局</h1><ol>
<li>flex</li>
<li>grid</li>
</ol>
<h1 id="websocket原理"><a href="#websocket原理" class="headerlink" title="websocket原理"></a>websocket原理</h1><h1 id="登陆的cookie怎么存的"><a href="#登陆的cookie怎么存的" class="headerlink" title="登陆的cookie怎么存的"></a>登陆的cookie怎么存的</h1><h1 id="把www-toutiao-com转为com-toutiao-www"><a href="#把www-toutiao-com转为com-toutiao-www" class="headerlink" title="把www.toutiao.com转为com.toutiao.www"></a>把<a href="http://www.toutiao.com转为com.toutiao.www/">www.toutiao.com转为com.toutiao.www</a></h1><p><code>str.split(&#39;.&#39;).reverse().join(&#39;.&#39;)</code></p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200516字节二面</title>
    <url>/2020/05/16/</url>
    <content><![CDATA[<p><strong>根据网上一篇大厂的面试题总结<a href="https://segmentfault.com/a/1190000020296556">地址</a></strong></p>
<span id="more"></span>
<h1 id="你的php包管理用什么√-composer"><a href="#你的php包管理用什么√-composer" class="headerlink" title="你的php包管理用什么√ composer"></a>你的php包管理用什么√ composer</h1><h1 id="composer的autoloader怎么实现的？"><a href="#composer的autoloader怎么实现的？" class="headerlink" title="composer的autoloader怎么实现的？"></a>composer的autoloader怎么实现的？</h1><h1 id="php-fast-cgi是什么？并发管理"><a href="#php-fast-cgi是什么？并发管理" class="headerlink" title="php fast-cgi是什么？并发管理"></a>php fast-cgi是什么？并发管理</h1><h1 id="php-set-cookie是否会改变-COOKIE数组√不会"><a href="#php-set-cookie是否会改变-COOKIE数组√不会" class="headerlink" title="php set_cookie是否会改变$_COOKIE数组√不会"></a>php set_cookie是否会改变$_COOKIE数组√不会</h1><h1 id="你的MYSQL-Procedure是干什么的√函数交互"><a href="#你的MYSQL-Procedure是干什么的√函数交互" class="headerlink" title="你的MYSQL Procedure是干什么的√函数交互"></a>你的MYSQL Procedure是干什么的√函数交互</h1><h1 id="跨域请求怎么设置header字段√"><a href="#跨域请求怎么设置header字段√" class="headerlink" title="跨域请求怎么设置header字段√"></a>跨域请求怎么设置header字段√</h1><ol>
<li>Origin: <a href="http://foo.example/">http://foo.example</a>    表示请求从哪来</li>
<li>response【必须】有<br>//表明允许跨域访问<br>Access-Control-Allow-Origin:上面origin的地址</li>
<li>其他相关<br>:*<br>Access-Control-Allow-Methods:POST,GET<br>Access-Control-Allow-Credentials:true<br>Access-Control-Allow-Headers:Origin,Content-Type,Accept,token,X-Requested-With</li>
</ol>
<h1 id="Vue-Router原理√"><a href="#Vue-Router原理√" class="headerlink" title="Vue Router原理√"></a>Vue Router原理√</h1><blockquote>
<p>更新视图但不重新请求页面”是前端路由原理的核心之一，目前在浏览器环境中这一功能的实现主要有两种方式</p>
</blockquote>
<ol>
<li>hash —- 利用URL中的hash（“#”）</li>
<li>利用History interface在 HTML5中新增的方法</li>
<li>不在浏览器环境则是abstract (node)</li>
</ol>
<p><strong>当你选择mode类型之后，程序会根据你选择的mode 类型创建不同的history对象(HashHistory或HTML5History或AbstractHistory)</strong></p>
<h2 id="HashHistory"><a href="#HashHistory" class="headerlink" title="HashHistory"></a>HashHistory</h2><ol>
<li>HashHistory.push()     将新路由添加到浏览器访问历史的栈顶<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$router.<span class="title function_">push</span>() <span class="comment">//调用方法</span></span><br><span class="line"><span class="title class_">HashHistory</span>.<span class="title function_">push</span>() <span class="comment">//根据hash模式调用,设置hash并添加到浏览器历史记录（添加到栈顶）（window.location.hash= XXX）</span></span><br><span class="line"><span class="title class_">History</span>.<span class="title function_">transitionTo</span>() <span class="comment">//监测更新，更新则调用History.updateRoute()</span></span><br><span class="line"><span class="title class_">History</span>.<span class="title function_">updateRoute</span>() <span class="comment">//更新路由</span></span><br><span class="line">&#123;app.<span class="property">_route</span>= route&#125; <span class="comment">//替换当前app路由</span></span><br><span class="line">vm.<span class="title function_">render</span>() <span class="comment">//更新视图</span></span><br></pre></td></tr></table></figure></li>
<li>HashHistory.replace()     替换掉当前的路由<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">replace (<span class="attr">location</span>: <span class="title class_">RawLocation</span>, onComplete?: <span class="title class_">Function</span>, onAbort?: <span class="title class_">Function</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">transitionTo</span>(location, <span class="function"><span class="params">route</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">replaceHash</span>(route.<span class="property">fullPath</span>)</span><br><span class="line">    onComplete &amp;&amp; <span class="title function_">onComplete</span>(route)</span><br><span class="line">  &#125;, onAbort)</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">replaceHash</span> (path) &#123;</span><br><span class="line">  <span class="keyword">const</span> i = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">replace</span>(</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>.<span class="title function_">slice</span>(<span class="number">0</span>, i &gt;= <span class="number">0</span> ? i : <span class="number">0</span>) + <span class="string">&#x27;#&#x27;</span> + path</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="HTML5History"><a href="#HTML5History" class="headerlink" title="HTML5History"></a>HTML5History</h2><p>History interface是浏览器历史记录栈提供的接口，通过back(), forward(), go()等方法，我们可以读取浏览器历史记录栈的信息，进行各种跳转操作。<br>从HTML5开始，History interface有进一步修炼：pushState(), replaceState() 这下不仅是读取了，还可以对浏览器历史记录栈进行修改：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//stateObject: 当浏览器跳转到新的状态时，将触发popState事件，该事件将携带这个stateObject参数的副本</span></span><br><span class="line"><span class="comment">//title: 所添加记录的标题</span></span><br><span class="line"><span class="comment">//URL: 所添加记录的URL</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">pushState</span>(stateObject, title, <span class="variable constant_">URL</span>)<span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">replaceState</span>(stateObject, title, <span class="variable constant_">URL</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li>push<br>与hash模式类似，只是将window.hash改为history.pushState</li>
<li>replace<br>与hash模式类似，只是将window.replace改为history.replaceState</li>
<li>监听地址变化<br>在HTML5History的构造函数中监听popState（window.onpopstate）</li>
</ol>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><ol>
<li>pushState设置的新URL可以是与当前URL同源的任意URL；而hash只可修改#后面的部分，故只可设置与当前同文档的URL</li>
<li>pushState通过stateObject可以添加任意类型的数据到记录中；而hash只可添加短字符串</li>
<li>pushState可额外设置title属性供后续使用</li>
<li>history模式则会将URL修改得就和正常请求后端的URL一样,如后端没有配置对应/user/id的路由处理，则会返回404错误</li>
</ol>
<h1 id="VueX具体应用在哪些场景内√"><a href="#VueX具体应用在哪些场景内√" class="headerlink" title="VueX具体应用在哪些场景内√"></a>VueX具体应用在哪些场景内√</h1><ol>
<li>需要动态的注册响应式数据；</li>
<li>需要命名空间namespace 来管理组织我们的数据；</li>
<li>多个组件共享一个状态数据 </li>
<li>希望通过插件，来更改记录；方便调试</li>
</ol>
<h1 id="用过哪些Ajax组件√-Axios"><a href="#用过哪些Ajax组件√-Axios" class="headerlink" title="用过哪些Ajax组件√ Axios"></a>用过哪些Ajax组件√ Axios</h1><h1 id="Axios怎么实现拦截√"><a href="#Axios怎么实现拦截√" class="headerlink" title="Axios怎么实现拦截√"></a>Axios怎么实现拦截√</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**axios封装</span></span><br><span class="line"><span class="comment"> * 请求拦截、相应拦截、错误统一处理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;<span class="keyword">import</span> <span class="variable constant_">QS</span> <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Toast</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vant&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;../store/index&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 环境的切换</span></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&#x27;development&#x27;</span>) &#123;    </span><br><span class="line">    axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;/api&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&#x27;debug&#x27;</span>) &#123;    </span><br><span class="line">    axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&#x27;production&#x27;</span>) &#123;    </span><br><span class="line">    axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://api.123dailu.com/&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求超时时间</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">timeout</span> = <span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// post请求头</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">post</span>[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/x-www-form-urlencoded;charset=UTF-8&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(    </span><br><span class="line">    <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 每次发送请求之前判断是否存在token，如果存在，则统一在http请求的header都加上token，不用每次请求都手动添加了</span></span><br><span class="line">        <span class="comment">// 即使本地存在token，也有可能token是过期的，所以在响应拦截器中要对返回状态进行判断</span></span><br><span class="line">        <span class="keyword">const</span> token = store.<span class="property">state</span>.<span class="property">token</span>;        </span><br><span class="line">        token &amp;&amp; (config.<span class="property">headers</span>.<span class="property">Authorization</span> = token);        </span><br><span class="line">        <span class="keyword">return</span> config;    </span><br><span class="line">    &#125;,    </span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;        </span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">error</span>(error);    </span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 响应拦截器</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(    </span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span> &#123;        </span><br><span class="line">        <span class="keyword">if</span> (response.<span class="property">status</span> === <span class="number">200</span>) &#123;            </span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(response);        </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;            </span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response);        </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 服务器状态码不是200的情况    </span></span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;        </span><br><span class="line">        <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span>) &#123;            </span><br><span class="line">            <span class="keyword">switch</span> (error.<span class="property">response</span>.<span class="property">status</span>) &#123;                </span><br><span class="line">                <span class="comment">// 401: 未登录                </span></span><br><span class="line">                <span class="comment">// 未登录则跳转登录页面，并携带当前页面的路径                </span></span><br><span class="line">                <span class="comment">// 在登录成功后返回当前页面，这一步需要在登录页操作。                </span></span><br><span class="line">                <span class="keyword">case</span> <span class="number">401</span>:                    </span><br><span class="line">                    router.<span class="title function_">replace</span>(&#123;                        </span><br><span class="line">                        <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,                        </span><br><span class="line">                        <span class="attr">query</span>: &#123; <span class="attr">redirect</span>: router.<span class="property">currentRoute</span>.<span class="property">fullPath</span> &#125; </span><br><span class="line">                    &#125;);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 403 token过期                </span></span><br><span class="line">                <span class="comment">// 登录过期对用户进行提示                </span></span><br><span class="line">                <span class="comment">// 清除本地token和清空vuex中token对象                </span></span><br><span class="line">                <span class="comment">// 跳转登录页面                </span></span><br><span class="line">                <span class="keyword">case</span> <span class="number">403</span>:                     </span><br><span class="line">                    <span class="title class_">Toast</span>(&#123;                        </span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;登录过期，请重新登录&#x27;</span>,                        </span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">1000</span>,                        </span><br><span class="line">                        <span class="attr">forbidClick</span>: <span class="literal">true</span>                    </span><br><span class="line">                    &#125;);                    </span><br><span class="line">                    <span class="comment">// 清除token                    </span></span><br><span class="line">                    <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;token&#x27;</span>);                    </span><br><span class="line">                    store.<span class="title function_">commit</span>(<span class="string">&#x27;loginSuccess&#x27;</span>, <span class="literal">null</span>);                    </span><br><span class="line">                    <span class="comment">// 跳转登录页面，并将要浏览的页面fullPath传过去，登录成功后跳转需要访问的页面</span></span><br><span class="line">                    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;                        </span><br><span class="line">                        router.<span class="title function_">replace</span>(&#123;                            </span><br><span class="line">                            <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,                            </span><br><span class="line">                            <span class="attr">query</span>: &#123; </span><br><span class="line">                                <span class="attr">redirect</span>: router.<span class="property">currentRoute</span>.<span class="property">fullPath</span> </span><br><span class="line">                            &#125;                        </span><br><span class="line">                        &#125;);                    </span><br><span class="line">                    &#125;, <span class="number">1000</span>);                    </span><br><span class="line">                    <span class="keyword">break</span>; </span><br><span class="line">                <span class="comment">// 404请求不存在                </span></span><br><span class="line">                <span class="keyword">case</span> <span class="number">404</span>:                    </span><br><span class="line">                    <span class="title class_">Toast</span>(&#123;                        </span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;网络请求不存在&#x27;</span>,                        </span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">1500</span>,                        </span><br><span class="line">                        <span class="attr">forbidClick</span>: <span class="literal">true</span>                    </span><br><span class="line">                    &#125;);                    </span><br><span class="line">                <span class="keyword">break</span>;                </span><br><span class="line">                <span class="comment">// 其他错误，直接抛出错误提示                </span></span><br><span class="line">                <span class="attr">default</span>:                    </span><br><span class="line">                    <span class="title class_">Toast</span>(&#123;                        </span><br><span class="line">                        <span class="attr">message</span>: error.<span class="property">response</span>.<span class="property">data</span>.<span class="property">message</span>,                        </span><br><span class="line">                        <span class="attr">duration</span>: <span class="number">1500</span>,                        </span><br><span class="line">                        <span class="attr">forbidClick</span>: <span class="literal">true</span>                    </span><br><span class="line">                    &#125;);            </span><br><span class="line">            &#125;            </span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error.<span class="property">response</span>);        </span><br><span class="line">        &#125;       </span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * get方法，对应get请求 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">String</span>&#125; url [请求的url地址] </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; params [请求时携带的参数] </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">get</span> =(<span class="params">url, ...params</span>)=&gt;&#123;    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span>&#123;        </span><br><span class="line">        axios.<span class="title function_">get</span>(url, &#123;            </span><br><span class="line">            <span class="attr">params</span>: params        </span><br><span class="line">        &#125;)        </span><br><span class="line">        .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;            </span><br><span class="line">            <span class="title function_">resolve</span>(res.<span class="property">data</span>);        </span><br><span class="line">        &#125;)        </span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;            </span><br><span class="line">            <span class="title function_">reject</span>(err.<span class="property">data</span>)        </span><br><span class="line">        &#125;)    </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * post方法，对应post请求 </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">String</span>&#125; url [请求的url地址] </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; params [请求时携带的参数] </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">post</span> = (<span class="params">url,... params</span>) =&gt;&#123;    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;         </span><br><span class="line">        axios.<span class="title function_">post</span>(url, <span class="variable constant_">QS</span>.<span class="title function_">stringify</span>(...params))        </span><br><span class="line">        .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;            </span><br><span class="line">            <span class="title function_">resolve</span>(res.<span class="property">data</span>);        </span><br><span class="line">        &#125;)        </span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;            </span><br><span class="line">            <span class="title function_">reject</span>(err.<span class="property">data</span>)        </span><br><span class="line">        &#125;)    </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="js二维数组反向合并√"><a href="#js二维数组反向合并√" class="headerlink" title="js二维数组反向合并√"></a>js二维数组反向合并√</h1><blockquote>
<p>输入：[1, 2, [3, 4], 5, 6, [7, 8], 9]<br>输出: [[3, 4, 1, 2, 5, 6][7, 8 ,9]]</p>
</blockquote>
<h1 id="js驼峰转换"><a href="#js驼峰转换" class="headerlink" title="js驼峰转换"></a>js驼峰转换</h1><blockquote>
<p>输入：contentType<br>输出：content_type<br><strong>正则表达式</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200518面试碰见的问题</title>
    <url>/2020/05/18/</url>
    <content><![CDATA[<p><strong>自己面试的问题</strong></p>
<span id="more"></span>
<h1 id="http强缓存（也叫本地缓存）和弱缓存-协商缓存"><a href="#http强缓存（也叫本地缓存）和弱缓存-协商缓存" class="headerlink" title="http强缓存（也叫本地缓存）和弱缓存(协商缓存)"></a>http强缓存（也叫本地缓存）和弱缓存(协商缓存)</h1><ul>
<li>浏览器在请求某一资源时，会先获取该资源缓存的header信息，判断是否命中强缓存（cache-control和expires信息），若命中直接从缓存中获取资源信息，包括缓存header信息；本次请求根本就不会与服务器进行通信<blockquote>
<p>在firebug下可以查看某个具有强缓存资源返回的信息，例如本地firebug查看的一个强缓存js文件</p>
</blockquote>
</li>
<li>如果没有命中强缓存，浏览器会发送请求到服务器，请求会携带第一次请求返回的有关缓存的header字段信息（Last-Modified/If-Modified-Since和Etag/If-None-Match），由服务器根据请求中的相关header信息来比对结果是否协商缓存命中；若命中，则服务器返回新的响应header信息更新缓存中的对应header信息，但是并不返回资源内容，它会告知浏览器可以直接从缓存获取；否则返回最新的资源内容</li>
</ul>
<h1 id="强缓存相关字段"><a href="#强缓存相关字段" class="headerlink" title="强缓存相关字段"></a>强缓存相关字段</h1><h2 id="expires，"><a href="#expires，" class="headerlink" title="expires，"></a>expires，</h2><p>这是http1.0时的规范；它的值为一个绝对时间的GMT格式的时间字符串，如Mon, 10 Jun 2015 21:31:12 GMT，如果发送请求的时间在expires之前，那么本地缓存始终有效，否则就会发送请求到服务器来获取资源</p>
<h2 id="cache-control：max-age-number，"><a href="#cache-control：max-age-number，" class="headerlink" title="cache-control：max-age=number，"></a>cache-control：max-age=number，</h2><p>这是http1.1时出现的header信息，主要是利用该字段的max-age值来进行判断，它是一个相对值；资源第一次的请求时间和Cache-Control设定的有效期，计算出一个资源过期时间，再拿这个过期时间跟当前的请求时间比较，如果请求时间在过期时间之前，就能命中缓存，否则就不行；cache-control除了该字段外，还有下面几个比较常用的设置值：</p>
<h1 id="弱缓存相关字段"><a href="#弱缓存相关字段" class="headerlink" title="弱缓存相关字段"></a>弱缓存相关字段</h1><h2 id="Last-Modified或者Etag"><a href="#Last-Modified或者Etag" class="headerlink" title="Last-Modified或者Etag"></a>Last-Modified或者Etag</h2><p>这两组搭档都是成对出现的，即第一次请求的响应头带上某个字段（Last-Modified或者Etag），则后续请求则会带上对应的请求字段（If-Modified-Since或者If-None-Match），若响应头没有Last-Modified或者Etag字段，则请求头也不会有对应的字段。</p>
<h1 id="手写call方法"><a href="#手写call方法" class="headerlink" title="手写call方法,"></a>手写call方法,</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 思路：将~要改变this指向的方法，挂到目标对象上执行并返回</span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span>(<span class="params">context</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;not function&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  context = context || <span class="variable language_">window</span></span><br><span class="line">  <span class="comment">//***************************************************************************************************</span></span><br><span class="line">  <span class="comment">// 这三步也可以这样理解：</span></span><br><span class="line">  <span class="comment">// this指的就是调用call 方法的函数</span></span><br><span class="line">  <span class="comment">// 给当前上下文(call方法的第一个参数)添加一个属性fn，属性值为this，当前上下文就可以调用这个方法了。</span></span><br><span class="line">  <span class="comment">// 把call方法传入的其他的参数传入到属性fn指代的函数中，直接调用函数</span></span><br><span class="line">  <span class="comment">// f.myCall(obj) 就是将f方法添加到obj的属性中，f中的this 指向 obj</span></span><br><span class="line">  </span><br><span class="line">  context.<span class="property">fn</span> = <span class="variable language_">this</span>;                   <span class="comment">//this指向的是当前的函数（Function实例）</span></span><br><span class="line">  <span class="keyword">let</span> arg = [...<span class="variable language_">arguments</span>].<span class="title function_">slice</span>(<span class="number">1</span>);   <span class="comment">//获取除了this指向对象以外的参数，空数组slice后返回仍是空数组</span></span><br><span class="line">  <span class="keyword">let</span> result = context.<span class="title function_">fn</span>(...arg);     <span class="comment">//隐式绑定，当前函数的this指向context</span></span><br><span class="line"> <span class="comment">//***************************************************************************************************</span></span><br><span class="line"> <span class="keyword">delete</span> context.<span class="property">fn</span></span><br><span class="line"> <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="vue-nextTick方法"><a href="#vue-nextTick方法" class="headerlink" title="vue.nextTick方法,"></a>vue.nextTick方法,</h1><blockquote>
<p>简单来说，Vue 在修改数据后，视图不会立刻更新，而是等同一事件循环中的所有数据变化完成之后，再统一进行视图更新。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//改变数据</span></span><br><span class="line">vm.<span class="property">message</span> = <span class="string">&#x27;changed&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//想要立即使用更新后的DOM。这样不行，因为设置message后DOM还没有更新</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(vm.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">// 并不会得到&#x27;changed&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这样可以，nextTick里面的代码会在DOM更新后执行</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">nextTick</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(vm.<span class="property">$el</span>.<span class="property">textContent</span>) <span class="comment">//可以得到&#x27;changed&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>需要注意的是，在 created 和 mounted 阶段，如果需要操作渲染后的试图，也要使用 nextTick 方法。</p>
<p>官方文档说明：</p>
<blockquote>
<p>注意 mounted 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 vm.$nextTick 替换掉 mounted</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">mounted</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.$nextTick(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Code that will run only after the</span></span><br><span class="line">    <span class="comment">// entire view has been rendered</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>面试</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>200521手写vue-admin简易版遇到的问题</title>
    <url>/2020/05/21/</url>
    <content><![CDATA[<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>看到一个vue-admin的作者写的<a href="https://juejin.im/post/591aa14f570c35006961acac">手摸手,带你用vue撸后台</a>很感兴趣,于是自己跟着写.</p>
<span id="more"></span>
<h1 id="项目结构目录"><a href="#项目结构目录" class="headerlink" title="项目结构目录"></a>项目结构目录</h1><ul>
<li>public   静态html根文件</li>
<li>src   主要工作地方,源码<ul>
<li>api  封装的请求</li>
<li>assets 静态资源文件,主要是js</li>
<li>config  各个模块的配置文件</li>
<li>directive 封装的指令</li>
<li>layout  布局文件,主要容器</li>
<li>mock  模拟后端数据</li>
<li>router vrouter 资源管理</li>
<li>store vuex 统一状态管理</li>
<li>utils 工具类</li>
<li>views  视图类</li>
<li>App.vue  入口文件</li>
<li>main.js 入口js</li>
</ul>
</li>
<li>static   静态资源目录,主要是图片等</li>
<li>tests  测试</li>
<li>.editorconfig  编辑器配置</li>
<li>.gitignore   git忽略</li>
<li>babel.config.js  babel配置</li>
<li>package.json  包文件配置</li>
<li>README.md   readme</li>
</ul>
<h1 id="axios挂载"><a href="#axios挂载" class="headerlink" title="axios挂载"></a>axios挂载</h1><blockquote>
<p>vue-axios是将axios集成到Vue.js的小包装器，可以像插件一样进行安装：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueAxios</span> <span class="keyword">from</span> <span class="string">&#x27;vue-axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueAxios</span>, axios)</span><br></pre></td></tr></table></figure>
<p>使用原型链的方式不太符合vue的整体生态</p>
<h1 id="vue-cookies"><a href="#vue-cookies" class="headerlink" title="vue-cookies"></a>vue-cookies</h1><p>vue-cookies 插件</p>
<blockquote>
<p>设置默认值: this.$cookies.config(expireTimes, path)<br>几个方法</p>
</blockquote>
<ul>
<li>set</li>
<li>get</li>
<li>remove</li>
<li>isKey</li>
<li>keys</li>
</ul>
<h1 id="登录中对于cookie的逻辑"><a href="#登录中对于cookie的逻辑" class="headerlink" title="登录中对于cookie的逻辑"></a>登录中对于cookie的逻辑</h1><h1 id="根据权限实施动态路由的挂载"><a href="#根据权限实施动态路由的挂载" class="headerlink" title="根据权限实施动态路由的挂载"></a>根据权限实施动态路由的挂载</h1><h1 id="使用vue-eharts"><a href="#使用vue-eharts" class="headerlink" title="使用vue-eharts"></a>使用vue-eharts</h1><h2 id="使用之后发现只有数据-没有动态展示"><a href="#使用之后发现只有数据-没有动态展示" class="headerlink" title="使用之后发现只有数据,没有动态展示"></a>使用之后发现只有数据,没有动态展示</h2><p>原因: 类似于legends和title等也需要用模块化的方式引入</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入vue-echarts</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ECharts</span> <span class="keyword">from</span> <span class="string">&#x27;vue-echarts&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/chart/line&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/polar&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/legend&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/tooltip&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/geo&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/title&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/visualMap&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;echarts/lib/component/dataset&#x27;</span></span><br><span class="line"><span class="comment">// 注册vue-echarts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">importVueEcharts</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;chart&#x27;</span>, <span class="title class_">ECharts</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick()"></a>nextTick()</h1><blockquote>
<p>Vue 异步执行 DOM 更新。只要观察到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据改变。如果同一个 watcher 被多次触发，只会被推入到队列中一次。这种在缓冲时去除重复数据对于避免不必要的计算和 DOM 操作上非常重要。然后，在下一个的事件循环“tick”中，Vue 刷新队列并执行实际 (已去重的) 工作。Vue 在内部尝试对异步队列使用原生的 Promise.then 和MessageChannel，如果执行环境不支持，会采用 setTimeout(fn, 0)代替。<br>在一个简单的vue示例中可以看出问题</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&quot;msgDiv&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;msg1&quot;</span>&gt;</span>Message got outside $nextTick: &#123;&#123;msg1&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;msg2&quot;</span>&gt;</span>Message got inside $nextTick: &#123;&#123;msg2&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;msg3&quot;</span>&gt;</span>Message got outside $nextTick: &#123;&#123;msg3&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeMsg&quot;</span>&gt;</span></span><br><span class="line">      Change the Message</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg</span>: <span class="string">&#x27;Hello Vue.&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg1</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg2</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">msg3</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    changeMsg () &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">msg</span> = <span class="string">&#x27;Hello world.&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">msg1</span> = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">msgDiv</span>.<span class="property">innerHTML</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">this</span>.<span class="property">msg2</span> = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">msgDiv</span>.<span class="property">innerHTML</span></span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">msg3</span> = <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">msgDiv</span>.<span class="property">innerHTML</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 1.原版</span><br><span class="line">Hello Vue.</span><br><span class="line">#2. 点击一次按钮</span><br><span class="line">Hello world.</span><br><span class="line">Message got outside $nextTick: Hello Vue.</span><br><span class="line">Message got inside $nextTick: Hello world.</span><br><span class="line">Message got outside $nextTick: Hello Vue.</span><br><span class="line">#3.再点击一次</span><br><span class="line">Hello world.</span><br><span class="line">Message got outside $nextTick: Hello world.</span><br><span class="line">Message got inside $nextTick: Hello world.</span><br><span class="line">Message got outside $nextTick: Hello world.</span><br><span class="line"># console中顺序</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<h1 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用vif --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;this.$route.meat.keepAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--这里是会被缓存的组件--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">v-if</span>=<span class="string">&quot;!this.$router.meta.keepAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--这里是不会被缓存的组件--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 使用新特性 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  保持 name为a和b的组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;a,b&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h1><blockquote>
<p>混入 (mixin) 提供了一种非常灵活的方式，来分发 Vue 组件中的可复用功能。一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// mixIn.js</span><br><span class="line">export const hi = &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayHello: function () &#123;</span><br><span class="line">      console.log(&#x27;hello from mixin!&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.sayHello()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//componets</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; hi &#125; from &#x27;@/mixin/mixIn.js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mixins: [hi],</span><br><span class="line">  created () &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.sayHello()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sayHello: function () &#123;</span><br><span class="line">      console.log(&#x27;hello from component!&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">// hello from component!</span><br><span class="line">// hello from component!</span><br></pre></td></tr></table></figure>
<ol>
<li>mixin就是服用一个js对象,其中可以有data,methods和生命周期.</li>
<li>当mixin的属性与组件的属性发生重名时,以组件的为准.</li>
<li>生命周期,以mixin的先执行</li>
</ol>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
  </entry>
  <entry>
    <title>200610Electron初识</title>
    <url>/2020/06/10/</url>
    <content><![CDATA[<span id="more"></span>
<h1 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h1><ol>
<li>npm electron -g</li>
<li>npx electron -v 查看版本</li>
<li>新建一个项目</li>
<li>含有一个index.html和index.js</li>
<li>js文件代码 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> electron = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> app = electron.<span class="property">app</span> <span class="comment">//引用app</span></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">BrowserWidow</span> = electron.<span class="property">BrowserWindow</span>  <span class="comment">// 窗口引用</span></span><br><span class="line"><span class="keyword">let</span> mainWindow = <span class="literal">null</span>; <span class="comment">// 声明要打开的主窗口</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>,<span class="function">()=&gt;</span>&#123; <span class="comment">// 监听准备完成事件</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWidow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">300</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">300</span></span><br><span class="line">  &#125;);<span class="comment">// 设置窗口大小</span></span><br><span class="line">  mainWindow.<span class="title function_">loadFile</span>(<span class="string">&#x27;index.html&#x27;</span>) <span class="comment">// 加载入口html</span></span><br><span class="line">  mainWindow.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>,<span class="function">()=&gt;</span>&#123;   <span class="comment">// 监听关闭事件,释放内存</span></span><br><span class="line">    mainWindow = <span class="literal">null</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>命令行: electron index.js</li>
</ol>
<h1 id="使用node功能"><a href="#使用node功能" class="headerlink" title="使用node功能"></a>使用node功能</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>,<span class="function">()=&gt;</span>&#123; <span class="comment">// 监听准备完成事件</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWidow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;<span class="attr">nodeIntegration</span>: <span class="literal">true</span>&#125; <span class="comment">// 允许使用node原生api</span></span><br><span class="line">  &#125;);<span class="comment">// 设置窗口大小</span></span><br><span class="line">  mainWindow.<span class="title function_">loadFile</span>(<span class="string">&#x27;index.html&#x27;</span>) <span class="comment">// 加载入口html</span></span><br><span class="line">  mainWindow.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>,<span class="function">()=&gt;</span>&#123;   <span class="comment">// 监听关闭事件,释放内存</span></span><br><span class="line">    mainWindow = <span class="literal">null</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="默认打开控制台"><a href="#默认打开控制台" class="headerlink" title="默认打开控制台"></a>默认打开控制台</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 主进程 app.on中</span></span><br><span class="line"> mainWindow.<span class="property">webContents</span>.<span class="title function_">openDevTools</span>(&#123;<span class="attr">mode</span>:<span class="string">&#x27;right&#x27;</span>&#125;) <span class="comment">// 开启控制台  - 右侧</span></span><br></pre></td></tr></table></figure>

<h1 id="打开新窗口"><a href="#打开新窗口" class="headerlink" title="打开新窗口"></a>打开新窗口</h1><p>重要代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> browserWindow = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>).<span class="property">remote</span>.<span class="property">BrowserWindow</span></span><br></pre></td></tr></table></figure>
<p>remote提供打开一个新窗口的方法<br>其余操作与主窗口相似</p>
<h1 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 主进程中</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>,<span class="function">()=&gt;</span>&#123; <span class="comment">// 监听准备完成事件</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWidow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;<span class="attr">nodeIntegration</span>: <span class="literal">true</span>&#125;</span><br><span class="line">  &#125;);<span class="comment">// 设置窗口大小</span></span><br><span class="line">  <span class="comment">//!重点</span></span><br><span class="line">  <span class="built_in">require</span>(<span class="string">&#x27;./main/Menu.js&#x27;</span>)  <span class="comment">// 加载Menu.js中对于导航菜单的配置</span></span><br><span class="line">  mainWindow.<span class="title function_">loadFile</span>(<span class="string">&#x27;demo3.html&#x27;</span>) <span class="comment">// 加载入口html</span></span><br><span class="line">  mainWindow.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>,<span class="function">()=&gt;</span>&#123;   <span class="comment">// 监听关闭事件,释放内存</span></span><br><span class="line">    mainWindow = <span class="literal">null</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// Menu.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Menu</span>, <span class="title class_">BrowserWindow</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>) <span class="comment">// 引入api</span></span><br><span class="line"><span class="comment">// 配置</span></span><br><span class="line"><span class="keyword">const</span> template = [   </span><br><span class="line">  &#123;</span><br><span class="line">    label : <span class="string">&#x27;选项1&#x27;</span>,   <span class="comment">//  文字</span></span><br><span class="line">    <span class="attr">submenu</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;选项1-1&#x27;</span> ,</span><br><span class="line">        <span class="attr">accelerator</span>: <span class="string">&#x27;ctrl + n&#x27;</span>,  <span class="comment">// 快捷键</span></span><br><span class="line">        <span class="attr">click</span>: <span class="function">()=&gt;</span>&#123;   <span class="comment">// 绑定点击事件</span></span><br><span class="line">          <span class="keyword">let</span> newWin = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>(&#123;</span><br><span class="line">            <span class="attr">width</span>: <span class="number">300</span>,</span><br><span class="line">            <span class="attr">height</span>: <span class="number">300</span>,</span><br><span class="line">          &#125;);</span><br><span class="line">          newWin.<span class="title function_">loadFile</span>(<span class="string">&#x27;yellow.html&#x27;</span>)</span><br><span class="line">          newWin.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            newWin = <span class="literal">null</span>;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;选项1-2&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    label : <span class="string">&#x27;选项2&#x27;</span>,</span><br><span class="line">    <span class="attr">submenu</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;选项2-1&#x27;</span> </span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">label</span>: <span class="string">&#x27;选项2-2&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> m = <span class="title class_">Menu</span>.<span class="title function_">buildFromTemplate</span>(template) <span class="comment">//构建菜单</span></span><br><span class="line"><span class="title class_">Menu</span>.<span class="title function_">setApplicationMenu</span>(m)   <span class="comment">// 设置菜单</span></span><br></pre></td></tr></table></figure>

<h1 id="右键菜单"><a href="#右键菜单" class="headerlink" title="右键菜单"></a>右键菜单</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 某一个渲染进程中</span></span><br><span class="line"><span class="keyword">const</span> &#123; remote &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>)</span><br><span class="line"><span class="comment">// 右键菜单</span></span><br><span class="line"><span class="keyword">let</span> rightTemplate = [</span><br><span class="line">  &#123; <span class="attr">label</span>: <span class="string">&#x27;复制&#x27;</span>,<span class="attr">accelerator</span>: <span class="string">&#x27;ctrl+c&#x27;</span>&#125;,</span><br><span class="line">  &#123; <span class="attr">label</span>: <span class="string">&#x27;粘贴&#x27;</span>,<span class="attr">accelerator</span>: <span class="string">&#x27;ctrl+v&#x27;</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;contextmenu&#x27;</span>,<span class="function">(<span class="params">e</span>)=&gt;</span>&#123; <span class="comment">// 绑定点击右键事件</span></span><br><span class="line">  e.<span class="title function_">preventDefault</span>(); <span class="comment">// 阻止默认事件</span></span><br><span class="line">  remote.<span class="property">Menu</span>.<span class="title function_">buildFromTemplate</span>(rightTemplate).<span class="title function_">popup</span>(&#123;</span><br><span class="line">    <span class="attr">window</span>: remote.<span class="title function_">getCurrentWindow</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="打开浏览器跳转链接"><a href="#打开浏览器跳转链接" class="headerlink" title="打开浏览器跳转链接"></a>打开浏览器跳转链接</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// render进程</span></span><br><span class="line"><span class="keyword">const</span> &#123; shell &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aHref = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#aHref&#x27;</span>);</span><br><span class="line">aHref.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="keyword">let</span> href = aHref.<span class="title function_">getAttribute</span>(<span class="string">&#x27;href&#x27;</span>);</span><br><span class="line">  shell.<span class="title function_">openExternal</span>(href)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="子窗口"><a href="#子窗口" class="headerlink" title="子窗口"></a>子窗口</h1><h2 id="划分一个可视区域-作为iframe打开网页"><a href="#划分一个可视区域-作为iframe打开网页" class="headerlink" title="划分一个可视区域 作为iframe打开网页"></a>划分一个可视区域 作为iframe打开网页</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 主进程, app.on</span></span><br><span class="line"><span class="comment">// 子窗口网页</span></span><br><span class="line">  <span class="keyword">let</span> view = <span class="keyword">new</span> electron.<span class="title class_">BrowserView</span>();</span><br><span class="line">  mainWindow.<span class="title function_">setBrowserView</span>(view);</span><br><span class="line">  view.<span class="title function_">setBounds</span>(&#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">600</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">600</span></span><br><span class="line">  &#125;);</span><br><span class="line">  view.<span class="property">webContents</span>.<span class="title function_">loadURL</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="新建一个进程-直接打开网页"><a href="#新建一个进程-直接打开网页" class="headerlink" title="新建一个进程,直接打开网页"></a>新建一个进程,直接打开网页</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 渲染进程  render</span></span><br><span class="line"><span class="keyword">let</span> mybtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mybtn&#x27;</span>);</span><br><span class="line">mybtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h1 id="子窗口传父"><a href="#子窗口传父" class="headerlink" title="子窗口传父"></a>子窗口传父</h1><ol>
<li>子窗口通过window.opener.postMessage 方法传递信息,openr指的是打开该子窗口的父窗口</li>
<li>父窗口监听message事件 获得信息<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子窗口 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是子窗口<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;mybtn&quot;</span>&gt;</span>向父窗口传递信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> mybtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mybtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  mybtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> text = <span class="string">&quot;我是子窗口传递的信息&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">opener</span>.<span class="title function_">postMessage</span>(text);</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 父窗口render</span></span><br><span class="line"><span class="keyword">let</span> mybtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mybtn&#x27;</span>);</span><br><span class="line">mybtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;./_popup_page.html&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// window监听message事件</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">msg</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mytext&#x27;</span>).<span class="property">innerHTML</span> = msg.<span class="property">data</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="对话框Dialog"><a href="#对话框Dialog" class="headerlink" title="对话框Dialog"></a>对话框Dialog</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;openBtn&quot;</span>&gt;</span>打开文件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;saveBtn&quot;</span>&gt;</span>保存<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;msgBtn&quot;</span>&gt;</span>消息对话框<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;img&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> &#123; dialog &#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>).<span class="property">remote</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> openBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#openBtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  openBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    dialog.<span class="title function_">showOpenDialog</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">title</span>: <span class="string">&#x27;自定义对话框标题&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">defaultPath</span>: <span class="string">&#x27;1.jpg&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">filters</span>:[&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;img&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">extensions</span>: [<span class="string">&#x27;jpg&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">buttonLabel</span>: <span class="string">&#x27;自定义按键标签&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;]</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">then</span>( <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#img&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;src&#x27;</span>,res.<span class="property">filePaths</span>[<span class="number">0</span>])</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err))</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> saveBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#saveBtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  saveBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    dialog.<span class="title function_">showSaveDialog</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">title</span>:<span class="string">&#x27;保存&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span></span><br><span class="line"><span class="language-javascript">      fs.<span class="title function_">writeFileSync</span>(res.<span class="property">filePath</span>, <span class="string">&#x27;保存txt的内容&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err))</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> msgBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#msgBtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  msgBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    dialog.<span class="title function_">showMessageBox</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">title</span>: <span class="string">&#x27;消息对话框标题&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;描述&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">buttons</span>: [<span class="string">&#x27;按键1&#x27;</span>,<span class="string">&#x27;按键2&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;根据按键返回的res是按键的下标&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="网络连接事件"><a href="#网络连接事件" class="headerlink" title="网络连接事件"></a>网络连接事件</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;online&#x27;</span>,<span class="function">()=&gt;</span>&#123;&#125;)</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;offline&#x27;</span>,<span class="function">()=&gt;</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="系统消息提示"><a href="#系统消息提示" class="headerlink" title="系统消息提示"></a>系统消息提示</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>系统通知消息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> &gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> option = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">title</span>: <span class="string">&#x27;自定义标题&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">body</span>: <span class="string">&#x27;内容&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="variable language_">window</span>.<span class="title class_">Notification</span>(option.<span class="property">title</span>,option)</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="注册快捷键"><a href="#注册快捷键" class="headerlink" title="注册快捷键"></a>注册快捷键</h1><p>在全局中注册,就要在主进程中写代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> globalShortcut = electron.<span class="property">globalShortcut</span>;</span><br><span class="line"><span class="comment">// app.on 中</span></span><br><span class="line"><span class="comment">// 注册</span></span><br><span class="line">globalShortcut.<span class="title function_">register</span>(<span class="string">&#x27;ctrl+e&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//具体代码</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//判断是否注册</span></span><br><span class="line">globalShortcut.<span class="title function_">isRegistered</span>(<span class="string">&#x27;ctrl+e&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注销,在app.on(&#x27;will-quit&#x27;)中</span></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;will-quit&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// 注销某一个</span></span><br><span class="line">  globalShortcut.<span class="title function_">unregister</span>(<span class="string">&#x27;ctrl+e&#x27;</span>)</span><br><span class="line">  <span class="comment">// 注销全部</span></span><br><span class="line">  globalShortcut.<span class="title function_">unregisterAll</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="复制到剪切板"><a href="#复制到剪切板" class="headerlink" title="复制到剪切板"></a>复制到剪切板</h1><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  要复制的内容:<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;text&quot;</span>&gt;</span>dwdafraferasxdacvwfr<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>复制到剪切板<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> &#123;clipboard&#125; = <span class="built_in">require</span>(<span class="string">&#x27;electron&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> text = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#text&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    clipboard.<span class="title function_">writeText</span>(text.<span class="property">innerHTML</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&#x27;成功&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>Electron</tag>
      </tags>
  </entry>
  <entry>
    <title>200615js中的正则表达式</title>
    <url>/2020/06/15/</url>
    <content><![CDATA[<span id="more"></span>
<h1 id="使用正则表达式的便利性"><a href="#使用正则表达式的便利性" class="headerlink" title="使用正则表达式的便利性"></a>使用正则表达式的便利性</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;123ddd213&#x27;</span></span><br><span class="line"><span class="comment">// 使用filter对每一个字符做操作</span></span><br><span class="line"><span class="keyword">let</span> b = [...a].<span class="title function_">filter</span>( <span class="function"><span class="params">e</span> =&gt;</span> !<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="built_in">parseInt</span>(e))).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment">// 使用正则表达式</span></span><br><span class="line">c = a.<span class="title function_">match</span>(<span class="regexp">/\d/g</span>).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)  <span class="comment">//123213</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)  <span class="comment">//123213</span></span><br></pre></td></tr></table></figure>

<h1 id="创建正则表达式"><a href="#创建正则表达式" class="headerlink" title="创建正则表达式"></a>创建正则表达式</h1><h2 id="字面量创建"><a href="#字面量创建" class="headerlink" title="字面量创建"></a>字面量创建</h2><p>直接使用//来创建,比较方便,缺点是无法使用变量,需要用eval配合模板字符串使用.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;123ddd213&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b =  <span class="regexp">/2/</span>.<span class="title function_">test</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/c/</span>.<span class="title function_">test</span>(a))   <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">eval</span>(<span class="string">`/<span class="subst">$&#123;c&#125;</span>/`</span>).<span class="title function_">test</span>(a))  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h2 id="使用对象"><a href="#使用对象" class="headerlink" title="使用对象"></a>使用对象</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;123ddd213&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="comment">// 第一个参数是匹配项,第二个参数是模式</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(b,<span class="string">&#x27;g&#x27;</span>) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(a)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h1 id="选择符"><a href="#选择符" class="headerlink" title="选择符"></a>选择符</h1><p>匹配| 左右两侧的表达式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;010&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;020-1234567&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/(010|020)\-\d&#123;7,9&#125;/</span>.<span class="title function_">test</span>(a))  <span class="comment">//false  </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/(010|020)\-\d&#123;7,9&#125;/</span>.<span class="title function_">test</span>(b))   <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h1 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h1><p>在正则中许多符号都有特殊的含义,所以在匹配模板中的某些符号时,需要转义</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">123</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">123.33</span></span><br><span class="line"><span class="comment">// 普通的 . 表示除了换行符之外的所有字符,所以 第一个正则是全部通过的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\d+.\d+/</span>.<span class="title function_">test</span>(a))   <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\d+.\d+/</span>.<span class="title function_">test</span>(b))   <span class="comment">//true</span></span><br><span class="line"><span class="comment">// 在使用 \ 把普通的. 转译成字符.之后,a变量就不会通过了</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\d+\.\d+/</span>.<span class="title function_">test</span>(a))   <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/\d+\.\d+/</span>.<span class="title function_">test</span>(b))   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//在以对象创建正则时,要注意需要二次转义,因为创建对象时,实际上是以字符串作为参数创建,此时&#x27;\d&#x27; === &#x27;d&#x27;</span></span><br><span class="line"><span class="comment">// 例如</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;\\.&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="起始符"><a href="#起始符" class="headerlink" title="起始符"></a>起始符</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 需求: 3-6位的字符</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">&#x27;dgfsdfw&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;abdf&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不符合要求,明显a是7位字符,但是正则只要匹配到6位 就会通过</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/[a-z]&#123;3,6&#125;/</span>.<span class="title function_">test</span>(a)) <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/[a-z]&#123;3,6&#125;/</span>.<span class="title function_">test</span>(b))  <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用^表示开头,使用$表示结尾, 满足需求</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/^[a-z]&#123;3,6&#125;$/</span>.<span class="title function_">test</span>(a))<span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/^[a-z]&#123;3,6&#125;$/</span>.<span class="title function_">test</span>(b))<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h1 id="lastIndex"><a href="#lastIndex" class="headerlink" title="lastIndex"></a>lastIndex</h1><p>是正则对象的一个属性,记录了这一次匹配到了模板的哪个位置<br>使用一般模式,lastIndex会跳过不匹配的部分,<br>使用/y 模式,lastIndex会遍历</p>
]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>正则表达式</tag>
      </tags>
  </entry>
  <entry>
    <title>200616模块化</title>
    <url>/2020/06/16/</url>
    <content><![CDATA[<span id="more"></span>
<h1 id="几个以前开发的模块化引擎"><a href="#几个以前开发的模块化引擎" class="headerlink" title="几个以前开发的模块化引擎"></a>几个以前开发的模块化引擎</h1><ol>
<li>基于AMD的 require.js</li>
<li>基于CMD的 sea.js</li>
<li>服务于node的 COMMON js</li>
</ol>
<h1 id="手写一个简单的模块管理引擎"><a href="#手写一个简单的模块管理引擎" class="headerlink" title="手写一个简单的模块管理引擎"></a>手写一个简单的模块管理引擎</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> myModule = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 所有的模块注册表</span></span><br><span class="line">  <span class="keyword">const</span> moduleList = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 定义一个模块需要, name:模块名 , modules: 依赖的模块, action : 本身的操作</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">define</span>(<span class="params">name, modules, action</span>)&#123;</span><br><span class="line">    <span class="comment">// 通过传进来的字符串 找到注册表中的模块,并注册到依赖模块中</span></span><br><span class="line">    modules.<span class="title function_">map</span>( <span class="function">(<span class="params">m,i</span>)=&gt;</span>&#123;</span><br><span class="line">      modules[i] = moduleList[m]</span><br><span class="line">    &#125; )</span><br><span class="line">    <span class="comment">// 将创建的模块添加进注册表</span></span><br><span class="line">    moduleList[name]  =  action.<span class="title function_">apply</span>(<span class="literal">null</span>, modules)</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> &#123; define &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">myModule.<span class="title function_">define</span>(<span class="string">&#x27;name1&#x27;</span>,[],<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="title function_">first</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> arr[<span class="number">0</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    max ( arr ) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">max</span>(...arr)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">myModule.<span class="title function_">define</span>(<span class="string">&#x27;name2&#x27;</span>,[<span class="string">&#x27;name1&#x27;</span>],<span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> data = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>];</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">max</span>(data))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="在标签中使用import"><a href="#在标签中使用import" class="headerlink" title="在标签中使用import"></a>在标签中使用import</h1><p>由于script的标签存在历史比较悠久,所以需要加入type来引用其他js文件</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="模块的延迟解析和严格模式"><a href="#模块的延迟解析和严格模式" class="headerlink" title="模块的延迟解析和严格模式"></a>模块的延迟解析和严格模式</h1><ol>
<li>模块在html中是延迟加载的,可以放在body的前面,依旧是最后加载</li>
<li>模块默认使用严格模式</li>
<li>严格模式中 全局this 不指向window</li>
</ol>
<h1 id="预解析的必要性"><a href="#预解析的必要性" class="headerlink" title="预解析的必要性"></a>预解析的必要性</h1><blockquote>
<p>所有模块只解析一次有利于提高效率,减少不必要的操作</p>
</blockquote>
<h1 id="按需加载"><a href="#按需加载" class="headerlink" title="按需加载"></a>按需加载</h1><p>import也是一个函数,返回一个promise对象,用解构赋值可以得到所需的模块<br>值得一提的是这个import方法在node环境中使用报错,但是在浏览器环境中可以正常使用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> ( <span class="literal">true</span> ) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">import</span>(<span class="string">&#x27;./b.js&#x27;</span>).<span class="title function_">then</span>( <span class="function">(<span class="params">&#123; a &#125;</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Js</category>
      </categories>
      <tags>
        <tag>模块化开发</tag>
      </tags>
  </entry>
</search>
